var cw=t=>{throw TypeError(t)};var qf=(t,e,n)=>e.has(t)||cw("Cannot "+n);var O=(t,e,n)=>(qf(t,e,"read from private field"),n?n.call(t):e.get(t)),ee=(t,e,n)=>e.has(t)?cw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),q=(t,e,n,r)=>(qf(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),pe=(t,e,n)=>(qf(t,e,"access private method"),n);var fu=(t,e,n,r)=>({set _(s){q(t,e,s,n)},get _(){return O(t,e,r)}});function dR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Y0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var X0={exports:{}},Eh={},J0={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rc=Symbol.for("react.element"),hR=Symbol.for("react.portal"),fR=Symbol.for("react.fragment"),pR=Symbol.for("react.strict_mode"),mR=Symbol.for("react.profiler"),gR=Symbol.for("react.provider"),vR=Symbol.for("react.context"),yR=Symbol.for("react.forward_ref"),xR=Symbol.for("react.suspense"),wR=Symbol.for("react.memo"),_R=Symbol.for("react.lazy"),uw=Symbol.iterator;function ER(t){return t===null||typeof t!="object"?null:(t=uw&&t[uw]||t["@@iterator"],typeof t=="function"?t:null)}var Z0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eT=Object.assign,tT={};function Oa(t,e,n){this.props=t,this.context=e,this.refs=tT,this.updater=n||Z0}Oa.prototype.isReactComponent={};Oa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Oa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function nT(){}nT.prototype=Oa.prototype;function qg(t,e,n){this.props=t,this.context=e,this.refs=tT,this.updater=n||Z0}var Gg=qg.prototype=new nT;Gg.constructor=qg;eT(Gg,Oa.prototype);Gg.isPureReactComponent=!0;var dw=Array.isArray,rT=Object.prototype.hasOwnProperty,Kg={current:null},sT={key:!0,ref:!0,__self:!0,__source:!0};function iT(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)rT.call(e,r)&&!sT.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Rc,type:t,key:i,ref:o,props:s,_owner:Kg.current}}function TR(t,e){return{$$typeof:Rc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Qg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Rc}function SR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var hw=/\/+/g;function Gf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?SR(""+t.key):e.toString(36)}function Gu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Rc:case hR:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Gf(o,0):r,dw(s)?(n="",t!=null&&(n=t.replace(hw,"$&/")+"/"),Gu(s,e,n,"",function(d){return d})):s!=null&&(Qg(s)&&(s=TR(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(hw,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",dw(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+Gf(i,l);o+=Gu(i,e,n,c,s)}else if(c=ER(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+Gf(i,l++),o+=Gu(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function pu(t,e,n){if(t==null)return t;var r=[],s=0;return Gu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function bR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qt={current:null},Ku={transition:null},IR={ReactCurrentDispatcher:Qt,ReactCurrentBatchConfig:Ku,ReactCurrentOwner:Kg};function oT(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:pu,forEach:function(t,e,n){pu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return pu(t,function(){e++}),e},toArray:function(t){return pu(t,function(e){return e})||[]},only:function(t){if(!Qg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ge.Component=Oa;ge.Fragment=fR;ge.Profiler=mR;ge.PureComponent=qg;ge.StrictMode=pR;ge.Suspense=xR;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IR;ge.act=oT;ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=eT({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Kg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)rT.call(e,c)&&!sT.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:Rc,type:t.type,key:s,ref:i,props:r,_owner:o}};ge.createContext=function(t){return t={$$typeof:vR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:gR,_context:t},t.Consumer=t};ge.createElement=iT;ge.createFactory=function(t){var e=iT.bind(null,t);return e.type=t,e};ge.createRef=function(){return{current:null}};ge.forwardRef=function(t){return{$$typeof:yR,render:t}};ge.isValidElement=Qg;ge.lazy=function(t){return{$$typeof:_R,_payload:{_status:-1,_result:t},_init:bR}};ge.memo=function(t,e){return{$$typeof:wR,type:t,compare:e===void 0?null:e}};ge.startTransition=function(t){var e=Ku.transition;Ku.transition={};try{t()}finally{Ku.transition=e}};ge.unstable_act=oT;ge.useCallback=function(t,e){return Qt.current.useCallback(t,e)};ge.useContext=function(t){return Qt.current.useContext(t)};ge.useDebugValue=function(){};ge.useDeferredValue=function(t){return Qt.current.useDeferredValue(t)};ge.useEffect=function(t,e){return Qt.current.useEffect(t,e)};ge.useId=function(){return Qt.current.useId()};ge.useImperativeHandle=function(t,e,n){return Qt.current.useImperativeHandle(t,e,n)};ge.useInsertionEffect=function(t,e){return Qt.current.useInsertionEffect(t,e)};ge.useLayoutEffect=function(t,e){return Qt.current.useLayoutEffect(t,e)};ge.useMemo=function(t,e){return Qt.current.useMemo(t,e)};ge.useReducer=function(t,e,n){return Qt.current.useReducer(t,e,n)};ge.useRef=function(t){return Qt.current.useRef(t)};ge.useState=function(t){return Qt.current.useState(t)};ge.useSyncExternalStore=function(t,e,n){return Qt.current.useSyncExternalStore(t,e,n)};ge.useTransition=function(){return Qt.current.useTransition()};ge.version="18.3.1";J0.exports=ge;var g=J0.exports;const ds=Y0(g),Yg=dR({__proto__:null,default:ds},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CR=g,NR=Symbol.for("react.element"),AR=Symbol.for("react.fragment"),PR=Object.prototype.hasOwnProperty,RR=CR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jR={key:!0,ref:!0,__self:!0,__source:!0};function aT(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)PR.call(e,r)&&!jR.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:NR,type:t,key:i,ref:o,props:s,_owner:RR.current}}Eh.Fragment=AR;Eh.jsx=aT;Eh.jsxs=aT;X0.exports=Eh;var a=X0.exports,lT={exports:{}},yn={},cT={exports:{}},uT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,W){var Y=F.length;F.push(W);e:for(;0<Y;){var ae=Y-1>>>1,Se=F[ae];if(0<s(Se,W))F[ae]=W,F[Y]=Se,Y=ae;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var W=F[0],Y=F.pop();if(Y!==W){F[0]=Y;e:for(var ae=0,Se=F.length,gt=Se>>>1;ae<gt;){var ze=2*(ae+1)-1,Xt=F[ze],at=ze+1,te=F[at];if(0>s(Xt,Y))at<Se&&0>s(te,Xt)?(F[ae]=te,F[at]=Y,ae=at):(F[ae]=Xt,F[ze]=Y,ae=ze);else if(at<Se&&0>s(te,Y))F[ae]=te,F[at]=Y,ae=at;else break e}}return W}function s(F,W){var Y=F.sortIndex-W.sortIndex;return Y!==0?Y:F.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,f=null,p=3,v=!1,I=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(F){for(var W=n(d);W!==null;){if(W.callback===null)r(d);else if(W.startTime<=F)r(d),W.sortIndex=W.expirationTime,e(c,W);else break;W=n(d)}}function j(F){if(w=!1,b(F),!I)if(n(c)!==null)I=!0,Q(k);else{var W=n(d);W!==null&&le(j,W.startTime-F)}}function k(F,W){I=!1,w&&(w=!1,E(T),T=-1),v=!0;var Y=p;try{for(b(W),f=n(c);f!==null&&(!(f.expirationTime>W)||F&&!P());){var ae=f.callback;if(typeof ae=="function"){f.callback=null,p=f.priorityLevel;var Se=ae(f.expirationTime<=W);W=t.unstable_now(),typeof Se=="function"?f.callback=Se:f===n(c)&&r(c),b(W)}else r(c);f=n(c)}if(f!==null)var gt=!0;else{var ze=n(d);ze!==null&&le(j,ze.startTime-W),gt=!1}return gt}finally{f=null,p=Y,v=!1}}var M=!1,_=null,T=-1,C=5,A=-1;function P(){return!(t.unstable_now()-A<C)}function D(){if(_!==null){var F=t.unstable_now();A=F;var W=!0;try{W=_(!0,F)}finally{W?R():(M=!1,_=null)}}else M=!1}var R;if(typeof x=="function")R=function(){x(D)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,re=B.port2;B.port1.onmessage=D,R=function(){re.postMessage(null)}}else R=function(){S(D,0)};function Q(F){_=F,M||(M=!0,R())}function le(F,W){T=S(function(){F(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){I||v||(I=!0,Q(k))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(F){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var Y=p;p=W;try{return F()}finally{p=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,W){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Y=p;p=F;try{return W()}finally{p=Y}},t.unstable_scheduleCallback=function(F,W,Y){var ae=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ae+Y:ae):Y=ae,F){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=Y+Se,F={id:h++,callback:W,priorityLevel:F,startTime:Y,expirationTime:Se,sortIndex:-1},Y>ae?(F.sortIndex=Y,e(d,F),n(c)===null&&F===n(d)&&(w?(E(T),T=-1):w=!0,le(j,Y-ae))):(F.sortIndex=Se,e(c,F),I||v||(I=!0,Q(k))),F},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(F){var W=p;return function(){var Y=p;p=W;try{return F.apply(this,arguments)}finally{p=Y}}}})(uT);cT.exports=uT;var kR=cT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DR=g,vn=kR;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dT=new Set,Yl={};function oo(t,e){ha(t,e),ha(t+"Capture",e)}function ha(t,e){for(Yl[t]=e,t=0;t<e.length;t++)dT.add(e[t])}var Br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yp=Object.prototype.hasOwnProperty,OR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fw={},pw={};function MR(t){return Yp.call(pw,t)?!0:Yp.call(fw,t)?!1:OR.test(t)?pw[t]=!0:(fw[t]=!0,!1)}function LR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function VR(t,e,n,r){if(e===null||typeof e>"u"||LR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ct[t]=new Yt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ct[e]=new Yt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ct[t]=new Yt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ct[t]=new Yt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ct[t]=new Yt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ct[t]=new Yt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ct[t]=new Yt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ct[t]=new Yt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ct[t]=new Yt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Xg=/[\-:]([a-z])/g;function Jg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Xg,Jg);Ct[e]=new Yt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Xg,Jg);Ct[e]=new Yt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Xg,Jg);Ct[e]=new Yt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ct[t]=new Yt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ct.xlinkHref=new Yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ct[t]=new Yt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Zg(t,e,n,r){var s=Ct.hasOwnProperty(e)?Ct[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(VR(e,n,s,r)&&(n=null),r||s===null?MR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Zr=DR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mu=Symbol.for("react.element"),bo=Symbol.for("react.portal"),Io=Symbol.for("react.fragment"),ev=Symbol.for("react.strict_mode"),Xp=Symbol.for("react.profiler"),hT=Symbol.for("react.provider"),fT=Symbol.for("react.context"),tv=Symbol.for("react.forward_ref"),Jp=Symbol.for("react.suspense"),Zp=Symbol.for("react.suspense_list"),nv=Symbol.for("react.memo"),ps=Symbol.for("react.lazy"),pT=Symbol.for("react.offscreen"),mw=Symbol.iterator;function hl(t){return t===null||typeof t!="object"?null:(t=mw&&t[mw]||t["@@iterator"],typeof t=="function"?t:null)}var Ke=Object.assign,Kf;function El(t){if(Kf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Kf=e&&e[1]||""}return`
`+Kf+t}var Qf=!1;function Yf(t,e){if(!t||Qf)return"";Qf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Qf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?El(t):""}function FR(t){switch(t.tag){case 5:return El(t.type);case 16:return El("Lazy");case 13:return El("Suspense");case 19:return El("SuspenseList");case 0:case 2:case 15:return t=Yf(t.type,!1),t;case 11:return t=Yf(t.type.render,!1),t;case 1:return t=Yf(t.type,!0),t;default:return""}}function em(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Io:return"Fragment";case bo:return"Portal";case Xp:return"Profiler";case ev:return"StrictMode";case Jp:return"Suspense";case Zp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case fT:return(t.displayName||"Context")+".Consumer";case hT:return(t._context.displayName||"Context")+".Provider";case tv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case nv:return e=t.displayName||null,e!==null?e:em(t.type)||"Memo";case ps:e=t._payload,t=t._init;try{return em(t(e))}catch{}}return null}function UR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return em(e);case 8:return e===ev?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $R(t){var e=mT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gu(t){t._valueTracker||(t._valueTracker=$R(t))}function gT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=mT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function _d(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function tm(t,e){var n=e.checked;return Ke({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function gw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Gs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function vT(t,e){e=e.checked,e!=null&&Zg(t,"checked",e,!1)}function nm(t,e){vT(t,e);var n=Gs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?rm(t,e.type,n):e.hasOwnProperty("defaultValue")&&rm(t,e.type,Gs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function vw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function rm(t,e,n){(e!=="number"||_d(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Tl=Array.isArray;function Vo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Gs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function sm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Ke({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function yw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Tl(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Gs(n)}}function yT(t,e){var n=Gs(e.value),r=Gs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function xw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function xT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function im(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?xT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vu,wT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(vu=vu||document.createElement("div"),vu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Xl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var kl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zR=["Webkit","ms","Moz","O"];Object.keys(kl).forEach(function(t){zR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),kl[e]=kl[t]})});function _T(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||kl.hasOwnProperty(t)&&kl[t]?(""+e).trim():e+"px"}function ET(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=_T(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var BR=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function om(t,e){if(e){if(BR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function am(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lm=null;function rv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cm=null,Fo=null,Uo=null;function ww(t){if(t=Dc(t)){if(typeof cm!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Ch(e),cm(t.stateNode,t.type,e))}}function TT(t){Fo?Uo?Uo.push(t):Uo=[t]:Fo=t}function ST(){if(Fo){var t=Fo,e=Uo;if(Uo=Fo=null,ww(t),e)for(t=0;t<e.length;t++)ww(e[t])}}function bT(t,e){return t(e)}function IT(){}var Xf=!1;function CT(t,e,n){if(Xf)return t(e,n);Xf=!0;try{return bT(t,e,n)}finally{Xf=!1,(Fo!==null||Uo!==null)&&(IT(),ST())}}function Jl(t,e){var n=t.stateNode;if(n===null)return null;var r=Ch(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var um=!1;if(Br)try{var fl={};Object.defineProperty(fl,"passive",{get:function(){um=!0}}),window.addEventListener("test",fl,fl),window.removeEventListener("test",fl,fl)}catch{um=!1}function WR(t,e,n,r,s,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var Dl=!1,Ed=null,Td=!1,dm=null,HR={onError:function(t){Dl=!0,Ed=t}};function qR(t,e,n,r,s,i,o,l,c){Dl=!1,Ed=null,WR.apply(HR,arguments)}function GR(t,e,n,r,s,i,o,l,c){if(qR.apply(this,arguments),Dl){if(Dl){var d=Ed;Dl=!1,Ed=null}else throw Error(z(198));Td||(Td=!0,dm=d)}}function ao(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function NT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _w(t){if(ao(t)!==t)throw Error(z(188))}function KR(t){var e=t.alternate;if(!e){if(e=ao(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return _w(s),t;if(i===r)return _w(s),e;i=i.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function AT(t){return t=KR(t),t!==null?PT(t):null}function PT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=PT(t);if(e!==null)return e;t=t.sibling}return null}var RT=vn.unstable_scheduleCallback,Ew=vn.unstable_cancelCallback,QR=vn.unstable_shouldYield,YR=vn.unstable_requestPaint,tt=vn.unstable_now,XR=vn.unstable_getCurrentPriorityLevel,sv=vn.unstable_ImmediatePriority,jT=vn.unstable_UserBlockingPriority,Sd=vn.unstable_NormalPriority,JR=vn.unstable_LowPriority,kT=vn.unstable_IdlePriority,Th=null,ur=null;function ZR(t){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(Th,t,void 0,(t.current.flags&128)===128)}catch{}}var zn=Math.clz32?Math.clz32:nj,ej=Math.log,tj=Math.LN2;function nj(t){return t>>>=0,t===0?32:31-(ej(t)/tj|0)|0}var yu=64,xu=4194304;function Sl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function bd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Sl(l):(i&=o,i!==0&&(r=Sl(i)))}else o=n&~s,o!==0?r=Sl(o):i!==0&&(r=Sl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-zn(e),s=1<<n,r|=t[n],e&=~s;return r}function rj(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sj(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-zn(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=rj(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function hm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function DT(){var t=yu;return yu<<=1,!(yu&4194240)&&(yu=64),t}function Jf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function jc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-zn(e),t[e]=n}function ij(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-zn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function iv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-zn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Re=0;function OT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var MT,ov,LT,VT,FT,fm=!1,wu=[],ks=null,Ds=null,Os=null,Zl=new Map,ec=new Map,gs=[],oj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tw(t,e){switch(t){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":Ds=null;break;case"mouseover":case"mouseout":Os=null;break;case"pointerover":case"pointerout":Zl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ec.delete(e.pointerId)}}function pl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Dc(e),e!==null&&ov(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function aj(t,e,n,r,s){switch(e){case"focusin":return ks=pl(ks,t,e,n,r,s),!0;case"dragenter":return Ds=pl(Ds,t,e,n,r,s),!0;case"mouseover":return Os=pl(Os,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Zl.set(i,pl(Zl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ec.set(i,pl(ec.get(i)||null,t,e,n,r,s)),!0}return!1}function UT(t){var e=_i(t.target);if(e!==null){var n=ao(e);if(n!==null){if(e=n.tag,e===13){if(e=NT(n),e!==null){t.blockedOn=e,FT(t.priority,function(){LT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=pm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);lm=r,n.target.dispatchEvent(r),lm=null}else return e=Dc(n),e!==null&&ov(e),t.blockedOn=n,!1;e.shift()}return!0}function Sw(t,e,n){Qu(t)&&n.delete(e)}function lj(){fm=!1,ks!==null&&Qu(ks)&&(ks=null),Ds!==null&&Qu(Ds)&&(Ds=null),Os!==null&&Qu(Os)&&(Os=null),Zl.forEach(Sw),ec.forEach(Sw)}function ml(t,e){t.blockedOn===e&&(t.blockedOn=null,fm||(fm=!0,vn.unstable_scheduleCallback(vn.unstable_NormalPriority,lj)))}function tc(t){function e(s){return ml(s,t)}if(0<wu.length){ml(wu[0],t);for(var n=1;n<wu.length;n++){var r=wu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ks!==null&&ml(ks,t),Ds!==null&&ml(Ds,t),Os!==null&&ml(Os,t),Zl.forEach(e),ec.forEach(e),n=0;n<gs.length;n++)r=gs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<gs.length&&(n=gs[0],n.blockedOn===null);)UT(n),n.blockedOn===null&&gs.shift()}var $o=Zr.ReactCurrentBatchConfig,Id=!0;function cj(t,e,n,r){var s=Re,i=$o.transition;$o.transition=null;try{Re=1,av(t,e,n,r)}finally{Re=s,$o.transition=i}}function uj(t,e,n,r){var s=Re,i=$o.transition;$o.transition=null;try{Re=4,av(t,e,n,r)}finally{Re=s,$o.transition=i}}function av(t,e,n,r){if(Id){var s=pm(t,e,n,r);if(s===null)lp(t,e,r,Cd,n),Tw(t,r);else if(aj(s,t,e,n,r))r.stopPropagation();else if(Tw(t,r),e&4&&-1<oj.indexOf(t)){for(;s!==null;){var i=Dc(s);if(i!==null&&MT(i),i=pm(t,e,n,r),i===null&&lp(t,e,r,Cd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else lp(t,e,r,null,n)}}var Cd=null;function pm(t,e,n,r){if(Cd=null,t=rv(r),t=_i(t),t!==null)if(e=ao(t),e===null)t=null;else if(n=e.tag,n===13){if(t=NT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Cd=t,null}function $T(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XR()){case sv:return 1;case jT:return 4;case Sd:case JR:return 16;case kT:return 536870912;default:return 16}default:return 16}}var Ps=null,lv=null,Yu=null;function zT(){if(Yu)return Yu;var t,e=lv,n=e.length,r,s="value"in Ps?Ps.value:Ps.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Yu=s.slice(t,1<r?1-r:void 0)}function Xu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _u(){return!0}function bw(){return!1}function xn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?_u:bw,this.isPropagationStopped=bw,this}return Ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_u)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_u)},persist:function(){},isPersistent:_u}),e}var Ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cv=xn(Ma),kc=Ke({},Ma,{view:0,detail:0}),dj=xn(kc),Zf,ep,gl,Sh=Ke({},kc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gl&&(gl&&t.type==="mousemove"?(Zf=t.screenX-gl.screenX,ep=t.screenY-gl.screenY):ep=Zf=0,gl=t),Zf)},movementY:function(t){return"movementY"in t?t.movementY:ep}}),Iw=xn(Sh),hj=Ke({},Sh,{dataTransfer:0}),fj=xn(hj),pj=Ke({},kc,{relatedTarget:0}),tp=xn(pj),mj=Ke({},Ma,{animationName:0,elapsedTime:0,pseudoElement:0}),gj=xn(mj),vj=Ke({},Ma,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yj=xn(vj),xj=Ke({},Ma,{data:0}),Cw=xn(xj),wj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_j={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ej={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ej[t])?!!e[t]:!1}function uv(){return Tj}var Sj=Ke({},kc,{key:function(t){if(t.key){var e=wj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Xu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_j[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uv,charCode:function(t){return t.type==="keypress"?Xu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bj=xn(Sj),Ij=Ke({},Sh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nw=xn(Ij),Cj=Ke({},kc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uv}),Nj=xn(Cj),Aj=Ke({},Ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pj=xn(Aj),Rj=Ke({},Sh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),jj=xn(Rj),kj=[9,13,27,32],dv=Br&&"CompositionEvent"in window,Ol=null;Br&&"documentMode"in document&&(Ol=document.documentMode);var Dj=Br&&"TextEvent"in window&&!Ol,BT=Br&&(!dv||Ol&&8<Ol&&11>=Ol),Aw=" ",Pw=!1;function WT(t,e){switch(t){case"keyup":return kj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function HT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Co=!1;function Oj(t,e){switch(t){case"compositionend":return HT(e);case"keypress":return e.which!==32?null:(Pw=!0,Aw);case"textInput":return t=e.data,t===Aw&&Pw?null:t;default:return null}}function Mj(t,e){if(Co)return t==="compositionend"||!dv&&WT(t,e)?(t=zT(),Yu=lv=Ps=null,Co=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return BT&&e.locale!=="ko"?null:e.data;default:return null}}var Lj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Lj[t.type]:e==="textarea"}function qT(t,e,n,r){TT(r),e=Nd(e,"onChange"),0<e.length&&(n=new cv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ml=null,nc=null;function Vj(t){rS(t,0)}function bh(t){var e=Po(t);if(gT(e))return t}function Fj(t,e){if(t==="change")return e}var GT=!1;if(Br){var np;if(Br){var rp="oninput"in document;if(!rp){var jw=document.createElement("div");jw.setAttribute("oninput","return;"),rp=typeof jw.oninput=="function"}np=rp}else np=!1;GT=np&&(!document.documentMode||9<document.documentMode)}function kw(){Ml&&(Ml.detachEvent("onpropertychange",KT),nc=Ml=null)}function KT(t){if(t.propertyName==="value"&&bh(nc)){var e=[];qT(e,nc,t,rv(t)),CT(Vj,e)}}function Uj(t,e,n){t==="focusin"?(kw(),Ml=e,nc=n,Ml.attachEvent("onpropertychange",KT)):t==="focusout"&&kw()}function $j(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bh(nc)}function zj(t,e){if(t==="click")return bh(e)}function Bj(t,e){if(t==="input"||t==="change")return bh(e)}function Wj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Hn=typeof Object.is=="function"?Object.is:Wj;function rc(t,e){if(Hn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Yp.call(e,s)||!Hn(t[s],e[s]))return!1}return!0}function Dw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ow(t,e){var n=Dw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Dw(n)}}function QT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?QT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function YT(){for(var t=window,e=_d();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=_d(t.document)}return e}function hv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Hj(t){var e=YT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&QT(n.ownerDocument.documentElement,n)){if(r!==null&&hv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Ow(n,i);var o=Ow(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var qj=Br&&"documentMode"in document&&11>=document.documentMode,No=null,mm=null,Ll=null,gm=!1;function Mw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gm||No==null||No!==_d(r)||(r=No,"selectionStart"in r&&hv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ll&&rc(Ll,r)||(Ll=r,r=Nd(mm,"onSelect"),0<r.length&&(e=new cv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=No)))}function Eu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ao={animationend:Eu("Animation","AnimationEnd"),animationiteration:Eu("Animation","AnimationIteration"),animationstart:Eu("Animation","AnimationStart"),transitionend:Eu("Transition","TransitionEnd")},sp={},XT={};Br&&(XT=document.createElement("div").style,"AnimationEvent"in window||(delete Ao.animationend.animation,delete Ao.animationiteration.animation,delete Ao.animationstart.animation),"TransitionEvent"in window||delete Ao.transitionend.transition);function Ih(t){if(sp[t])return sp[t];if(!Ao[t])return t;var e=Ao[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in XT)return sp[t]=e[n];return t}var JT=Ih("animationend"),ZT=Ih("animationiteration"),eS=Ih("animationstart"),tS=Ih("transitionend"),nS=new Map,Lw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function si(t,e){nS.set(t,e),oo(e,[t])}for(var ip=0;ip<Lw.length;ip++){var op=Lw[ip],Gj=op.toLowerCase(),Kj=op[0].toUpperCase()+op.slice(1);si(Gj,"on"+Kj)}si(JT,"onAnimationEnd");si(ZT,"onAnimationIteration");si(eS,"onAnimationStart");si("dblclick","onDoubleClick");si("focusin","onFocus");si("focusout","onBlur");si(tS,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);oo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));oo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));oo("onBeforeInput",["compositionend","keypress","textInput","paste"]);oo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));oo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));oo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qj=new Set("cancel close invalid load scroll toggle".split(" ").concat(bl));function Vw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,GR(r,e,void 0,t),t.currentTarget=null}function rS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Vw(s,l,d),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Vw(s,l,d),i=c}}}if(Td)throw t=dm,Td=!1,dm=null,t}function Ve(t,e){var n=e[_m];n===void 0&&(n=e[_m]=new Set);var r=t+"__bubble";n.has(r)||(sS(e,t,2,!1),n.add(r))}function ap(t,e,n){var r=0;e&&(r|=4),sS(n,t,r,e)}var Tu="_reactListening"+Math.random().toString(36).slice(2);function sc(t){if(!t[Tu]){t[Tu]=!0,dT.forEach(function(n){n!=="selectionchange"&&(Qj.has(n)||ap(n,!1,t),ap(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Tu]||(e[Tu]=!0,ap("selectionchange",!1,e))}}function sS(t,e,n,r){switch($T(e)){case 1:var s=cj;break;case 4:s=uj;break;default:s=av}n=s.bind(null,e,n,t),s=void 0,!um||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function lp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=_i(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}CT(function(){var d=i,h=rv(n),f=[];e:{var p=nS.get(t);if(p!==void 0){var v=cv,I=t;switch(t){case"keypress":if(Xu(n)===0)break e;case"keydown":case"keyup":v=bj;break;case"focusin":I="focus",v=tp;break;case"focusout":I="blur",v=tp;break;case"beforeblur":case"afterblur":v=tp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Iw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=fj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Nj;break;case JT:case ZT:case eS:v=gj;break;case tS:v=Pj;break;case"scroll":v=dj;break;case"wheel":v=jj;break;case"copy":case"cut":case"paste":v=yj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Nw}var w=(e&4)!==0,S=!w&&t==="scroll",E=w?p!==null?p+"Capture":null:p;w=[];for(var x=d,b;x!==null;){b=x;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,E!==null&&(j=Jl(x,E),j!=null&&w.push(ic(x,j,b)))),S)break;x=x.return}0<w.length&&(p=new v(p,I,null,n,h),f.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&n!==lm&&(I=n.relatedTarget||n.fromElement)&&(_i(I)||I[Wr]))break e;if((v||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,v?(I=n.relatedTarget||n.toElement,v=d,I=I?_i(I):null,I!==null&&(S=ao(I),I!==S||I.tag!==5&&I.tag!==6)&&(I=null)):(v=null,I=d),v!==I)){if(w=Iw,j="onMouseLeave",E="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(w=Nw,j="onPointerLeave",E="onPointerEnter",x="pointer"),S=v==null?p:Po(v),b=I==null?p:Po(I),p=new w(j,x+"leave",v,n,h),p.target=S,p.relatedTarget=b,j=null,_i(h)===d&&(w=new w(E,x+"enter",I,n,h),w.target=b,w.relatedTarget=S,j=w),S=j,v&&I)t:{for(w=v,E=I,x=0,b=w;b;b=vo(b))x++;for(b=0,j=E;j;j=vo(j))b++;for(;0<x-b;)w=vo(w),x--;for(;0<b-x;)E=vo(E),b--;for(;x--;){if(w===E||E!==null&&w===E.alternate)break t;w=vo(w),E=vo(E)}w=null}else w=null;v!==null&&Fw(f,p,v,w,!1),I!==null&&S!==null&&Fw(f,S,I,w,!0)}}e:{if(p=d?Po(d):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var k=Fj;else if(Rw(p))if(GT)k=Bj;else{k=$j;var M=Uj}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=zj);if(k&&(k=k(t,d))){qT(f,k,n,h);break e}M&&M(t,p,d),t==="focusout"&&(M=p._wrapperState)&&M.controlled&&p.type==="number"&&rm(p,"number",p.value)}switch(M=d?Po(d):window,t){case"focusin":(Rw(M)||M.contentEditable==="true")&&(No=M,mm=d,Ll=null);break;case"focusout":Ll=mm=No=null;break;case"mousedown":gm=!0;break;case"contextmenu":case"mouseup":case"dragend":gm=!1,Mw(f,n,h);break;case"selectionchange":if(qj)break;case"keydown":case"keyup":Mw(f,n,h)}var _;if(dv)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Co?WT(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(BT&&n.locale!=="ko"&&(Co||T!=="onCompositionStart"?T==="onCompositionEnd"&&Co&&(_=zT()):(Ps=h,lv="value"in Ps?Ps.value:Ps.textContent,Co=!0)),M=Nd(d,T),0<M.length&&(T=new Cw(T,t,null,n,h),f.push({event:T,listeners:M}),_?T.data=_:(_=HT(n),_!==null&&(T.data=_)))),(_=Dj?Oj(t,n):Mj(t,n))&&(d=Nd(d,"onBeforeInput"),0<d.length&&(h=new Cw("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:d}),h.data=_))}rS(f,e)})}function ic(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Nd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Jl(t,n),i!=null&&r.unshift(ic(t,i,s)),i=Jl(t,e),i!=null&&r.push(ic(t,i,s))),t=t.return}return r}function vo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Fw(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,s?(c=Jl(n,i),c!=null&&o.unshift(ic(n,c,l))):s||(c=Jl(n,i),c!=null&&o.push(ic(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Yj=/\r\n?/g,Xj=/\u0000|\uFFFD/g;function Uw(t){return(typeof t=="string"?t:""+t).replace(Yj,`
`).replace(Xj,"")}function Su(t,e,n){if(e=Uw(e),Uw(t)!==e&&n)throw Error(z(425))}function Ad(){}var vm=null,ym=null;function xm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wm=typeof setTimeout=="function"?setTimeout:void 0,Jj=typeof clearTimeout=="function"?clearTimeout:void 0,$w=typeof Promise=="function"?Promise:void 0,Zj=typeof queueMicrotask=="function"?queueMicrotask:typeof $w<"u"?function(t){return $w.resolve(null).then(t).catch(ek)}:wm;function ek(t){setTimeout(function(){throw t})}function cp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),tc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);tc(e)}function Ms(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function zw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var La=Math.random().toString(36).slice(2),ar="__reactFiber$"+La,oc="__reactProps$"+La,Wr="__reactContainer$"+La,_m="__reactEvents$"+La,tk="__reactListeners$"+La,nk="__reactHandles$"+La;function _i(t){var e=t[ar];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Wr]||n[ar]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=zw(t);t!==null;){if(n=t[ar])return n;t=zw(t)}return e}t=n,n=t.parentNode}return null}function Dc(t){return t=t[ar]||t[Wr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Po(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Ch(t){return t[oc]||null}var Em=[],Ro=-1;function ii(t){return{current:t}}function $e(t){0>Ro||(t.current=Em[Ro],Em[Ro]=null,Ro--)}function Oe(t,e){Ro++,Em[Ro]=t.current,t.current=e}var Ks={},Ot=ii(Ks),on=ii(!1),Ui=Ks;function fa(t,e){var n=t.type.contextTypes;if(!n)return Ks;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function an(t){return t=t.childContextTypes,t!=null}function Pd(){$e(on),$e(Ot)}function Bw(t,e,n){if(Ot.current!==Ks)throw Error(z(168));Oe(Ot,e),Oe(on,n)}function iS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(z(108,UR(t)||"Unknown",s));return Ke({},n,r)}function Rd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ks,Ui=Ot.current,Oe(Ot,t),Oe(on,on.current),!0}function Ww(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=iS(t,e,Ui),r.__reactInternalMemoizedMergedChildContext=t,$e(on),$e(Ot),Oe(Ot,t)):$e(on),Oe(on,n)}var Pr=null,Nh=!1,up=!1;function oS(t){Pr===null?Pr=[t]:Pr.push(t)}function rk(t){Nh=!0,oS(t)}function oi(){if(!up&&Pr!==null){up=!0;var t=0,e=Re;try{var n=Pr;for(Re=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Pr=null,Nh=!1}catch(s){throw Pr!==null&&(Pr=Pr.slice(t+1)),RT(sv,oi),s}finally{Re=e,up=!1}}return null}var jo=[],ko=0,jd=null,kd=0,En=[],Tn=0,$i=null,Mr=1,Lr="";function yi(t,e){jo[ko++]=kd,jo[ko++]=jd,jd=t,kd=e}function aS(t,e,n){En[Tn++]=Mr,En[Tn++]=Lr,En[Tn++]=$i,$i=t;var r=Mr;t=Lr;var s=32-zn(r)-1;r&=~(1<<s),n+=1;var i=32-zn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Mr=1<<32-zn(e)+s|n<<s|r,Lr=i+t}else Mr=1<<i|n<<s|r,Lr=t}function fv(t){t.return!==null&&(yi(t,1),aS(t,1,0))}function pv(t){for(;t===jd;)jd=jo[--ko],jo[ko]=null,kd=jo[--ko],jo[ko]=null;for(;t===$i;)$i=En[--Tn],En[Tn]=null,Lr=En[--Tn],En[Tn]=null,Mr=En[--Tn],En[Tn]=null}var mn=null,fn=null,We=!1,Ln=null;function lS(t,e){var n=bn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Hw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,mn=t,fn=Ms(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,mn=t,fn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=$i!==null?{id:Mr,overflow:Lr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=bn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,mn=t,fn=null,!0):!1;default:return!1}}function Tm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Sm(t){if(We){var e=fn;if(e){var n=e;if(!Hw(t,e)){if(Tm(t))throw Error(z(418));e=Ms(n.nextSibling);var r=mn;e&&Hw(t,e)?lS(r,n):(t.flags=t.flags&-4097|2,We=!1,mn=t)}}else{if(Tm(t))throw Error(z(418));t.flags=t.flags&-4097|2,We=!1,mn=t}}}function qw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mn=t}function bu(t){if(t!==mn)return!1;if(!We)return qw(t),We=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!xm(t.type,t.memoizedProps)),e&&(e=fn)){if(Tm(t))throw cS(),Error(z(418));for(;e;)lS(t,e),e=Ms(e.nextSibling)}if(qw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){fn=Ms(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}fn=null}}else fn=mn?Ms(t.stateNode.nextSibling):null;return!0}function cS(){for(var t=fn;t;)t=Ms(t.nextSibling)}function pa(){fn=mn=null,We=!1}function mv(t){Ln===null?Ln=[t]:Ln.push(t)}var sk=Zr.ReactCurrentBatchConfig;function vl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function Iu(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Gw(t){var e=t._init;return e(t._payload)}function uS(t){function e(E,x){if(t){var b=E.deletions;b===null?(E.deletions=[x],E.flags|=16):b.push(x)}}function n(E,x){if(!t)return null;for(;x!==null;)e(E,x),x=x.sibling;return null}function r(E,x){for(E=new Map;x!==null;)x.key!==null?E.set(x.key,x):E.set(x.index,x),x=x.sibling;return E}function s(E,x){return E=Us(E,x),E.index=0,E.sibling=null,E}function i(E,x,b){return E.index=b,t?(b=E.alternate,b!==null?(b=b.index,b<x?(E.flags|=2,x):b):(E.flags|=2,x)):(E.flags|=1048576,x)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function l(E,x,b,j){return x===null||x.tag!==6?(x=vp(b,E.mode,j),x.return=E,x):(x=s(x,b),x.return=E,x)}function c(E,x,b,j){var k=b.type;return k===Io?h(E,x,b.props.children,j,b.key):x!==null&&(x.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ps&&Gw(k)===x.type)?(j=s(x,b.props),j.ref=vl(E,x,b),j.return=E,j):(j=sd(b.type,b.key,b.props,null,E.mode,j),j.ref=vl(E,x,b),j.return=E,j)}function d(E,x,b,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=yp(b,E.mode,j),x.return=E,x):(x=s(x,b.children||[]),x.return=E,x)}function h(E,x,b,j,k){return x===null||x.tag!==7?(x=Li(b,E.mode,j,k),x.return=E,x):(x=s(x,b),x.return=E,x)}function f(E,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=vp(""+x,E.mode,b),x.return=E,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case mu:return b=sd(x.type,x.key,x.props,null,E.mode,b),b.ref=vl(E,null,x),b.return=E,b;case bo:return x=yp(x,E.mode,b),x.return=E,x;case ps:var j=x._init;return f(E,j(x._payload),b)}if(Tl(x)||hl(x))return x=Li(x,E.mode,b,null),x.return=E,x;Iu(E,x)}return null}function p(E,x,b,j){var k=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return k!==null?null:l(E,x,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case mu:return b.key===k?c(E,x,b,j):null;case bo:return b.key===k?d(E,x,b,j):null;case ps:return k=b._init,p(E,x,k(b._payload),j)}if(Tl(b)||hl(b))return k!==null?null:h(E,x,b,j,null);Iu(E,b)}return null}function v(E,x,b,j,k){if(typeof j=="string"&&j!==""||typeof j=="number")return E=E.get(b)||null,l(x,E,""+j,k);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case mu:return E=E.get(j.key===null?b:j.key)||null,c(x,E,j,k);case bo:return E=E.get(j.key===null?b:j.key)||null,d(x,E,j,k);case ps:var M=j._init;return v(E,x,b,M(j._payload),k)}if(Tl(j)||hl(j))return E=E.get(b)||null,h(x,E,j,k,null);Iu(x,j)}return null}function I(E,x,b,j){for(var k=null,M=null,_=x,T=x=0,C=null;_!==null&&T<b.length;T++){_.index>T?(C=_,_=null):C=_.sibling;var A=p(E,_,b[T],j);if(A===null){_===null&&(_=C);break}t&&_&&A.alternate===null&&e(E,_),x=i(A,x,T),M===null?k=A:M.sibling=A,M=A,_=C}if(T===b.length)return n(E,_),We&&yi(E,T),k;if(_===null){for(;T<b.length;T++)_=f(E,b[T],j),_!==null&&(x=i(_,x,T),M===null?k=_:M.sibling=_,M=_);return We&&yi(E,T),k}for(_=r(E,_);T<b.length;T++)C=v(_,E,T,b[T],j),C!==null&&(t&&C.alternate!==null&&_.delete(C.key===null?T:C.key),x=i(C,x,T),M===null?k=C:M.sibling=C,M=C);return t&&_.forEach(function(P){return e(E,P)}),We&&yi(E,T),k}function w(E,x,b,j){var k=hl(b);if(typeof k!="function")throw Error(z(150));if(b=k.call(b),b==null)throw Error(z(151));for(var M=k=null,_=x,T=x=0,C=null,A=b.next();_!==null&&!A.done;T++,A=b.next()){_.index>T?(C=_,_=null):C=_.sibling;var P=p(E,_,A.value,j);if(P===null){_===null&&(_=C);break}t&&_&&P.alternate===null&&e(E,_),x=i(P,x,T),M===null?k=P:M.sibling=P,M=P,_=C}if(A.done)return n(E,_),We&&yi(E,T),k;if(_===null){for(;!A.done;T++,A=b.next())A=f(E,A.value,j),A!==null&&(x=i(A,x,T),M===null?k=A:M.sibling=A,M=A);return We&&yi(E,T),k}for(_=r(E,_);!A.done;T++,A=b.next())A=v(_,E,T,A.value,j),A!==null&&(t&&A.alternate!==null&&_.delete(A.key===null?T:A.key),x=i(A,x,T),M===null?k=A:M.sibling=A,M=A);return t&&_.forEach(function(D){return e(E,D)}),We&&yi(E,T),k}function S(E,x,b,j){if(typeof b=="object"&&b!==null&&b.type===Io&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case mu:e:{for(var k=b.key,M=x;M!==null;){if(M.key===k){if(k=b.type,k===Io){if(M.tag===7){n(E,M.sibling),x=s(M,b.props.children),x.return=E,E=x;break e}}else if(M.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ps&&Gw(k)===M.type){n(E,M.sibling),x=s(M,b.props),x.ref=vl(E,M,b),x.return=E,E=x;break e}n(E,M);break}else e(E,M);M=M.sibling}b.type===Io?(x=Li(b.props.children,E.mode,j,b.key),x.return=E,E=x):(j=sd(b.type,b.key,b.props,null,E.mode,j),j.ref=vl(E,x,b),j.return=E,E=j)}return o(E);case bo:e:{for(M=b.key;x!==null;){if(x.key===M)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){n(E,x.sibling),x=s(x,b.children||[]),x.return=E,E=x;break e}else{n(E,x);break}else e(E,x);x=x.sibling}x=yp(b,E.mode,j),x.return=E,E=x}return o(E);case ps:return M=b._init,S(E,x,M(b._payload),j)}if(Tl(b))return I(E,x,b,j);if(hl(b))return w(E,x,b,j);Iu(E,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(n(E,x.sibling),x=s(x,b),x.return=E,E=x):(n(E,x),x=vp(b,E.mode,j),x.return=E,E=x),o(E)):n(E,x)}return S}var ma=uS(!0),dS=uS(!1),Dd=ii(null),Od=null,Do=null,gv=null;function vv(){gv=Do=Od=null}function yv(t){var e=Dd.current;$e(Dd),t._currentValue=e}function bm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function zo(t,e){Od=t,gv=Do=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(sn=!0),t.firstContext=null)}function Cn(t){var e=t._currentValue;if(gv!==t)if(t={context:t,memoizedValue:e,next:null},Do===null){if(Od===null)throw Error(z(308));Do=t,Od.dependencies={lanes:0,firstContext:t}}else Do=Do.next=t;return e}var Ei=null;function xv(t){Ei===null?Ei=[t]:Ei.push(t)}function hS(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,xv(e)):(n.next=s.next,s.next=n),e.interleaved=n,Hr(t,r)}function Hr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ms=!1;function wv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ur(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ls(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ee&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Hr(t,n)}return s=r.interleaved,s===null?(e.next=e,xv(r)):(e.next=s.next,s.next=e),r.interleaved=e,Hr(t,n)}function Ju(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,iv(t,n)}}function Kw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Md(t,e,n,r){var s=t.updateQueue;ms=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,h=d=c=null,l=i;do{var p=l.lane,v=l.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var I=t,w=l;switch(p=e,v=n,w.tag){case 1:if(I=w.payload,typeof I=="function"){f=I.call(v,f,p);break e}f=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=w.payload,p=typeof I=="function"?I.call(v,f,p):I,p==null)break e;f=Ke({},f,p);break e;case 2:ms=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else v={eventTime:v,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=v,c=f):h=h.next=v,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Bi|=o,t.lanes=o,t.memoizedState=f}}function Qw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var Oc={},dr=ii(Oc),ac=ii(Oc),lc=ii(Oc);function Ti(t){if(t===Oc)throw Error(z(174));return t}function _v(t,e){switch(Oe(lc,e),Oe(ac,t),Oe(dr,Oc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:im(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=im(e,t)}$e(dr),Oe(dr,e)}function ga(){$e(dr),$e(ac),$e(lc)}function pS(t){Ti(lc.current);var e=Ti(dr.current),n=im(e,t.type);e!==n&&(Oe(ac,t),Oe(dr,n))}function Ev(t){ac.current===t&&($e(dr),$e(ac))}var He=ii(0);function Ld(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var dp=[];function Tv(){for(var t=0;t<dp.length;t++)dp[t]._workInProgressVersionPrimary=null;dp.length=0}var Zu=Zr.ReactCurrentDispatcher,hp=Zr.ReactCurrentBatchConfig,zi=0,Ge=null,ut=null,wt=null,Vd=!1,Vl=!1,cc=0,ik=0;function At(){throw Error(z(321))}function Sv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Hn(t[n],e[n]))return!1;return!0}function bv(t,e,n,r,s,i){if(zi=i,Ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zu.current=t===null||t.memoizedState===null?ck:uk,t=n(r,s),Vl){i=0;do{if(Vl=!1,cc=0,25<=i)throw Error(z(301));i+=1,wt=ut=null,e.updateQueue=null,Zu.current=dk,t=n(r,s)}while(Vl)}if(Zu.current=Fd,e=ut!==null&&ut.next!==null,zi=0,wt=ut=Ge=null,Vd=!1,e)throw Error(z(300));return t}function Iv(){var t=cc!==0;return cc=0,t}function nr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ge.memoizedState=wt=t:wt=wt.next=t,wt}function Nn(){if(ut===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=ut.next;var e=wt===null?Ge.memoizedState:wt.next;if(e!==null)wt=e,ut=t;else{if(t===null)throw Error(z(310));ut=t,t={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},wt===null?Ge.memoizedState=wt=t:wt=wt.next=t}return wt}function uc(t,e){return typeof e=="function"?e(t):e}function fp(t){var e=Nn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=ut,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,d=i;do{var h=d.lane;if((zi&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,Ge.lanes|=h,Bi|=h}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=l,Hn(r,e.memoizedState)||(sn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ge.lanes|=i,Bi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function pp(t){var e=Nn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Hn(i,e.memoizedState)||(sn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function mS(){}function gS(t,e){var n=Ge,r=Nn(),s=e(),i=!Hn(r.memoizedState,s);if(i&&(r.memoizedState=s,sn=!0),r=r.queue,Cv(xS.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||wt!==null&&wt.memoizedState.tag&1){if(n.flags|=2048,dc(9,yS.bind(null,n,r,s,e),void 0,null),_t===null)throw Error(z(349));zi&30||vS(n,e,s)}return s}function vS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function yS(t,e,n,r){e.value=n,e.getSnapshot=r,wS(e)&&_S(t)}function xS(t,e,n){return n(function(){wS(e)&&_S(t)})}function wS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Hn(t,n)}catch{return!0}}function _S(t){var e=Hr(t,1);e!==null&&Bn(e,t,1,-1)}function Yw(t){var e=nr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uc,lastRenderedState:t},e.queue=t,t=t.dispatch=lk.bind(null,Ge,t),[e.memoizedState,t]}function dc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ES(){return Nn().memoizedState}function ed(t,e,n,r){var s=nr();Ge.flags|=t,s.memoizedState=dc(1|e,n,void 0,r===void 0?null:r)}function Ah(t,e,n,r){var s=Nn();r=r===void 0?null:r;var i=void 0;if(ut!==null){var o=ut.memoizedState;if(i=o.destroy,r!==null&&Sv(r,o.deps)){s.memoizedState=dc(e,n,i,r);return}}Ge.flags|=t,s.memoizedState=dc(1|e,n,i,r)}function Xw(t,e){return ed(8390656,8,t,e)}function Cv(t,e){return Ah(2048,8,t,e)}function TS(t,e){return Ah(4,2,t,e)}function SS(t,e){return Ah(4,4,t,e)}function bS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function IS(t,e,n){return n=n!=null?n.concat([t]):null,Ah(4,4,bS.bind(null,e,t),n)}function Nv(){}function CS(t,e){var n=Nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Sv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function NS(t,e){var n=Nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Sv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function AS(t,e,n){return zi&21?(Hn(n,e)||(n=DT(),Ge.lanes|=n,Bi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,sn=!0),t.memoizedState=n)}function ok(t,e){var n=Re;Re=n!==0&&4>n?n:4,t(!0);var r=hp.transition;hp.transition={};try{t(!1),e()}finally{Re=n,hp.transition=r}}function PS(){return Nn().memoizedState}function ak(t,e,n){var r=Fs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},RS(t))jS(e,n);else if(n=hS(t,e,n,r),n!==null){var s=qt();Bn(n,t,r,s),kS(n,e,r)}}function lk(t,e,n){var r=Fs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(RS(t))jS(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Hn(l,o)){var c=e.interleaved;c===null?(s.next=s,xv(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=hS(t,e,s,r),n!==null&&(s=qt(),Bn(n,t,r,s),kS(n,e,r))}}function RS(t){var e=t.alternate;return t===Ge||e!==null&&e===Ge}function jS(t,e){Vl=Vd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function kS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,iv(t,n)}}var Fd={readContext:Cn,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useInsertionEffect:At,useLayoutEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useMutableSource:At,useSyncExternalStore:At,useId:At,unstable_isNewReconciler:!1},ck={readContext:Cn,useCallback:function(t,e){return nr().memoizedState=[t,e===void 0?null:e],t},useContext:Cn,useEffect:Xw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ed(4194308,4,bS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ed(4194308,4,t,e)},useInsertionEffect:function(t,e){return ed(4,2,t,e)},useMemo:function(t,e){var n=nr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=nr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ak.bind(null,Ge,t),[r.memoizedState,t]},useRef:function(t){var e=nr();return t={current:t},e.memoizedState=t},useState:Yw,useDebugValue:Nv,useDeferredValue:function(t){return nr().memoizedState=t},useTransition:function(){var t=Yw(!1),e=t[0];return t=ok.bind(null,t[1]),nr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ge,s=nr();if(We){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),_t===null)throw Error(z(349));zi&30||vS(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Xw(xS.bind(null,r,i,t),[t]),r.flags|=2048,dc(9,yS.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=nr(),e=_t.identifierPrefix;if(We){var n=Lr,r=Mr;n=(r&~(1<<32-zn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=cc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ik++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},uk={readContext:Cn,useCallback:CS,useContext:Cn,useEffect:Cv,useImperativeHandle:IS,useInsertionEffect:TS,useLayoutEffect:SS,useMemo:NS,useReducer:fp,useRef:ES,useState:function(){return fp(uc)},useDebugValue:Nv,useDeferredValue:function(t){var e=Nn();return AS(e,ut.memoizedState,t)},useTransition:function(){var t=fp(uc)[0],e=Nn().memoizedState;return[t,e]},useMutableSource:mS,useSyncExternalStore:gS,useId:PS,unstable_isNewReconciler:!1},dk={readContext:Cn,useCallback:CS,useContext:Cn,useEffect:Cv,useImperativeHandle:IS,useInsertionEffect:TS,useLayoutEffect:SS,useMemo:NS,useReducer:pp,useRef:ES,useState:function(){return pp(uc)},useDebugValue:Nv,useDeferredValue:function(t){var e=Nn();return ut===null?e.memoizedState=t:AS(e,ut.memoizedState,t)},useTransition:function(){var t=pp(uc)[0],e=Nn().memoizedState;return[t,e]},useMutableSource:mS,useSyncExternalStore:gS,useId:PS,unstable_isNewReconciler:!1};function kn(t,e){if(t&&t.defaultProps){e=Ke({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Im(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ke({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ph={isMounted:function(t){return(t=t._reactInternals)?ao(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=qt(),s=Fs(t),i=Ur(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ls(t,i,s),e!==null&&(Bn(e,t,s,r),Ju(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=qt(),s=Fs(t),i=Ur(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ls(t,i,s),e!==null&&(Bn(e,t,s,r),Ju(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=qt(),r=Fs(t),s=Ur(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ls(t,s,r),e!==null&&(Bn(e,t,r,n),Ju(e,t,r))}};function Jw(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!rc(n,r)||!rc(s,i):!0}function DS(t,e,n){var r=!1,s=Ks,i=e.contextType;return typeof i=="object"&&i!==null?i=Cn(i):(s=an(e)?Ui:Ot.current,r=e.contextTypes,i=(r=r!=null)?fa(t,s):Ks),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ph,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Zw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ph.enqueueReplaceState(e,e.state,null)}function Cm(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},wv(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Cn(i):(i=an(e)?Ui:Ot.current,s.context=fa(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Im(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ph.enqueueReplaceState(s,s.state,null),Md(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function va(t,e){try{var n="",r=e;do n+=FR(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function mp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Nm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var hk=typeof WeakMap=="function"?WeakMap:Map;function OS(t,e,n){n=Ur(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){$d||($d=!0,Vm=r),Nm(t,e)},n}function MS(t,e,n){n=Ur(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Nm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Nm(t,e),typeof r!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function e_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new hk;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Ik.bind(null,t,e,n),e.then(t,t))}function t_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function n_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ur(-1,1),e.tag=2,Ls(n,e,1))),n.lanes|=1),t)}var fk=Zr.ReactCurrentOwner,sn=!1;function $t(t,e,n,r){e.child=t===null?dS(e,null,n,r):ma(e,t.child,n,r)}function r_(t,e,n,r,s){n=n.render;var i=e.ref;return zo(e,s),r=bv(t,e,n,r,i,s),n=Iv(),t!==null&&!sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,qr(t,e,s)):(We&&n&&fv(e),e.flags|=1,$t(t,e,r,s),e.child)}function s_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Mv(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,LS(t,e,i,r,s)):(t=sd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:rc,n(o,r)&&t.ref===e.ref)return qr(t,e,s)}return e.flags|=1,t=Us(i,r),t.ref=e.ref,t.return=e,e.child=t}function LS(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(rc(i,r)&&t.ref===e.ref)if(sn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(sn=!0);else return e.lanes=t.lanes,qr(t,e,s)}return Am(t,e,n,r,s)}function VS(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(Mo,dn),dn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Oe(Mo,dn),dn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Oe(Mo,dn),dn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Oe(Mo,dn),dn|=r;return $t(t,e,s,n),e.child}function FS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Am(t,e,n,r,s){var i=an(n)?Ui:Ot.current;return i=fa(e,i),zo(e,s),n=bv(t,e,n,r,i,s),r=Iv(),t!==null&&!sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,qr(t,e,s)):(We&&r&&fv(e),e.flags|=1,$t(t,e,n,s),e.child)}function i_(t,e,n,r,s){if(an(n)){var i=!0;Rd(e)}else i=!1;if(zo(e,s),e.stateNode===null)td(t,e),DS(e,n,r),Cm(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Cn(d):(d=an(n)?Ui:Ot.current,d=fa(e,d));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&Zw(e,o,r,d),ms=!1;var p=e.memoizedState;o.state=p,Md(e,r,o,s),c=e.memoizedState,l!==r||p!==c||on.current||ms?(typeof h=="function"&&(Im(e,n,h,r),c=e.memoizedState),(l=ms||Jw(e,n,l,r,p,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,fS(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:kn(e.type,l),o.props=d,f=e.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Cn(c):(c=an(n)?Ui:Ot.current,c=fa(e,c));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||p!==c)&&Zw(e,o,r,c),ms=!1,p=e.memoizedState,o.state=p,Md(e,r,o,s);var I=e.memoizedState;l!==f||p!==I||on.current||ms?(typeof v=="function"&&(Im(e,n,v,r),I=e.memoizedState),(d=ms||Jw(e,n,d,r,p,I,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,I,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,I,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=I),o.props=r,o.state=I,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Pm(t,e,n,r,i,s)}function Pm(t,e,n,r,s,i){FS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Ww(e,n,!1),qr(t,e,i);r=e.stateNode,fk.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ma(e,t.child,null,i),e.child=ma(e,null,l,i)):$t(t,e,l,i),e.memoizedState=r.state,s&&Ww(e,n,!0),e.child}function US(t){var e=t.stateNode;e.pendingContext?Bw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Bw(t,e.context,!1),_v(t,e.containerInfo)}function o_(t,e,n,r,s){return pa(),mv(s),e.flags|=256,$t(t,e,n,r),e.child}var Rm={dehydrated:null,treeContext:null,retryLane:0};function jm(t){return{baseLanes:t,cachePool:null,transitions:null}}function $S(t,e,n){var r=e.pendingProps,s=He.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Oe(He,s&1),t===null)return Sm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=kh(o,r,0,null),t=Li(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=jm(n),e.memoizedState=Rm,t):Av(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return pk(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Us(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Us(l,i):(i=Li(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?jm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Rm,r}return i=t.child,t=i.sibling,r=Us(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Av(t,e){return e=kh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Cu(t,e,n,r){return r!==null&&mv(r),ma(e,t.child,null,n),t=Av(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function pk(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=mp(Error(z(422))),Cu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=kh({mode:"visible",children:r.children},s,0,null),i=Li(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ma(e,t.child,null,o),e.child.memoizedState=jm(o),e.memoizedState=Rm,i);if(!(e.mode&1))return Cu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(z(419)),r=mp(i,r,void 0),Cu(t,e,o,r)}if(l=(o&t.childLanes)!==0,sn||l){if(r=_t,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Hr(t,s),Bn(r,t,s,-1))}return Ov(),r=mp(Error(z(421))),Cu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Ck.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,fn=Ms(s.nextSibling),mn=e,We=!0,Ln=null,t!==null&&(En[Tn++]=Mr,En[Tn++]=Lr,En[Tn++]=$i,Mr=t.id,Lr=t.overflow,$i=e),e=Av(e,r.children),e.flags|=4096,e)}function a_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),bm(t.return,e,n)}function gp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function zS(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if($t(t,e,r.children,n),r=He.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&a_(t,n,e);else if(t.tag===19)a_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Oe(He,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Ld(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),gp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ld(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}gp(e,!0,n,null,i);break;case"together":gp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function td(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Bi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Us(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Us(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function mk(t,e,n){switch(e.tag){case 3:US(e),pa();break;case 5:pS(e);break;case 1:an(e.type)&&Rd(e);break;case 4:_v(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Oe(Dd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Oe(He,He.current&1),e.flags|=128,null):n&e.child.childLanes?$S(t,e,n):(Oe(He,He.current&1),t=qr(t,e,n),t!==null?t.sibling:null);Oe(He,He.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return zS(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Oe(He,He.current),r)break;return null;case 22:case 23:return e.lanes=0,VS(t,e,n)}return qr(t,e,n)}var BS,km,WS,HS;BS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};km=function(){};WS=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ti(dr.current);var i=null;switch(n){case"input":s=tm(t,s),r=tm(t,r),i=[];break;case"select":s=Ke({},s,{value:void 0}),r=Ke({},r,{value:void 0}),i=[];break;case"textarea":s=sm(t,s),r=sm(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ad)}om(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Yl.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Yl.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ve("scroll",t),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};HS=function(t,e,n,r){n!==r&&(e.flags|=4)};function yl(t,e){if(!We)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Pt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function gk(t,e,n){var r=e.pendingProps;switch(pv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(e),null;case 1:return an(e.type)&&Pd(),Pt(e),null;case 3:return r=e.stateNode,ga(),$e(on),$e(Ot),Tv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(bu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ln!==null&&($m(Ln),Ln=null))),km(t,e),Pt(e),null;case 5:Ev(e);var s=Ti(lc.current);if(n=e.type,t!==null&&e.stateNode!=null)WS(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return Pt(e),null}if(t=Ti(dr.current),bu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ar]=e,r[oc]=i,t=(e.mode&1)!==0,n){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(s=0;s<bl.length;s++)Ve(bl[s],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":gw(r,i),Ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ve("invalid",r);break;case"textarea":yw(r,i),Ve("invalid",r)}om(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Su(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Su(r.textContent,l,t),s=["children",""+l]):Yl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ve("scroll",r)}switch(n){case"input":gu(r),vw(r,i,!0);break;case"textarea":gu(r),xw(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ad)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ar]=e,t[oc]=r,BS(t,e,!1,!1),e.stateNode=t;e:{switch(o=am(n,r),n){case"dialog":Ve("cancel",t),Ve("close",t),s=r;break;case"iframe":case"object":case"embed":Ve("load",t),s=r;break;case"video":case"audio":for(s=0;s<bl.length;s++)Ve(bl[s],t);s=r;break;case"source":Ve("error",t),s=r;break;case"img":case"image":case"link":Ve("error",t),Ve("load",t),s=r;break;case"details":Ve("toggle",t),s=r;break;case"input":gw(t,r),s=tm(t,r),Ve("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ke({},r,{value:void 0}),Ve("invalid",t);break;case"textarea":yw(t,r),s=sm(t,r),Ve("invalid",t);break;default:s=r}om(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?ET(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&wT(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Xl(t,c):typeof c=="number"&&Xl(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Yl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ve("scroll",t):c!=null&&Zg(t,i,c,o))}switch(n){case"input":gu(t),vw(t,r,!1);break;case"textarea":gu(t),xw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Gs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Vo(t,!!r.multiple,i,!1):r.defaultValue!=null&&Vo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ad)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pt(e),null;case 6:if(t&&e.stateNode!=null)HS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=Ti(lc.current),Ti(dr.current),bu(e)){if(r=e.stateNode,n=e.memoizedProps,r[ar]=e,(i=r.nodeValue!==n)&&(t=mn,t!==null))switch(t.tag){case 3:Su(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Su(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ar]=e,e.stateNode=r}return Pt(e),null;case 13:if($e(He),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(We&&fn!==null&&e.mode&1&&!(e.flags&128))cS(),pa(),e.flags|=98560,i=!1;else if(i=bu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[ar]=e}else pa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pt(e),i=!1}else Ln!==null&&($m(Ln),Ln=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||He.current&1?ft===0&&(ft=3):Ov())),e.updateQueue!==null&&(e.flags|=4),Pt(e),null);case 4:return ga(),km(t,e),t===null&&sc(e.stateNode.containerInfo),Pt(e),null;case 10:return yv(e.type._context),Pt(e),null;case 17:return an(e.type)&&Pd(),Pt(e),null;case 19:if($e(He),i=e.memoizedState,i===null)return Pt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)yl(i,!1);else{if(ft!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ld(t),o!==null){for(e.flags|=128,yl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Oe(He,He.current&1|2),e.child}t=t.sibling}i.tail!==null&&tt()>ya&&(e.flags|=128,r=!0,yl(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ld(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),yl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!We)return Pt(e),null}else 2*tt()-i.renderingStartTime>ya&&n!==1073741824&&(e.flags|=128,r=!0,yl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=tt(),e.sibling=null,n=He.current,Oe(He,r?n&1|2:n&1),e):(Pt(e),null);case 22:case 23:return Dv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?dn&1073741824&&(Pt(e),e.subtreeFlags&6&&(e.flags|=8192)):Pt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function vk(t,e){switch(pv(e),e.tag){case 1:return an(e.type)&&Pd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ga(),$e(on),$e(Ot),Tv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ev(e),null;case 13:if($e(He),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));pa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $e(He),null;case 4:return ga(),null;case 10:return yv(e.type._context),null;case 22:case 23:return Dv(),null;case 24:return null;default:return null}}var Nu=!1,kt=!1,yk=typeof WeakSet=="function"?WeakSet:Set,K=null;function Oo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Je(t,e,r)}else n.current=null}function Dm(t,e,n){try{n()}catch(r){Je(t,e,r)}}var l_=!1;function xk(t,e){if(vm=Id,t=YT(),hv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,h=0,f=t,p=null;t:for(;;){for(var v;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)p=f,f=v;for(;;){if(f===t)break t;if(p===n&&++d===s&&(l=o),p===i&&++h===r&&(c=o),(v=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=v}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ym={focusedElem:t,selectionRange:n},Id=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var I=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(I!==null){var w=I.memoizedProps,S=I.memoizedState,E=e.stateNode,x=E.getSnapshotBeforeUpdate(e.elementType===e.type?w:kn(e.type,w),S);E.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(j){Je(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return I=l_,l_=!1,I}function Fl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Dm(e,n,i)}s=s.next}while(s!==r)}}function Rh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Om(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function qS(t){var e=t.alternate;e!==null&&(t.alternate=null,qS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ar],delete e[oc],delete e[_m],delete e[tk],delete e[nk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function GS(t){return t.tag===5||t.tag===3||t.tag===4}function c_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||GS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ad));else if(r!==4&&(t=t.child,t!==null))for(Mm(t,e,n),t=t.sibling;t!==null;)Mm(t,e,n),t=t.sibling}function Lm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Lm(t,e,n),t=t.sibling;t!==null;)Lm(t,e,n),t=t.sibling}var Tt=null,Mn=!1;function as(t,e,n){for(n=n.child;n!==null;)KS(t,e,n),n=n.sibling}function KS(t,e,n){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(Th,n)}catch{}switch(n.tag){case 5:kt||Oo(n,e);case 6:var r=Tt,s=Mn;Tt=null,as(t,e,n),Tt=r,Mn=s,Tt!==null&&(Mn?(t=Tt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Tt.removeChild(n.stateNode));break;case 18:Tt!==null&&(Mn?(t=Tt,n=n.stateNode,t.nodeType===8?cp(t.parentNode,n):t.nodeType===1&&cp(t,n),tc(t)):cp(Tt,n.stateNode));break;case 4:r=Tt,s=Mn,Tt=n.stateNode.containerInfo,Mn=!0,as(t,e,n),Tt=r,Mn=s;break;case 0:case 11:case 14:case 15:if(!kt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Dm(n,e,o),s=s.next}while(s!==r)}as(t,e,n);break;case 1:if(!kt&&(Oo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Je(n,e,l)}as(t,e,n);break;case 21:as(t,e,n);break;case 22:n.mode&1?(kt=(r=kt)||n.memoizedState!==null,as(t,e,n),kt=r):as(t,e,n);break;default:as(t,e,n)}}function u_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new yk),e.forEach(function(r){var s=Nk.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Rn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Tt=l.stateNode,Mn=!1;break e;case 3:Tt=l.stateNode.containerInfo,Mn=!0;break e;case 4:Tt=l.stateNode.containerInfo,Mn=!0;break e}l=l.return}if(Tt===null)throw Error(z(160));KS(i,o,s),Tt=null,Mn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Je(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)QS(e,t),e=e.sibling}function QS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Rn(e,t),er(t),r&4){try{Fl(3,t,t.return),Rh(3,t)}catch(w){Je(t,t.return,w)}try{Fl(5,t,t.return)}catch(w){Je(t,t.return,w)}}break;case 1:Rn(e,t),er(t),r&512&&n!==null&&Oo(n,n.return);break;case 5:if(Rn(e,t),er(t),r&512&&n!==null&&Oo(n,n.return),t.flags&32){var s=t.stateNode;try{Xl(s,"")}catch(w){Je(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&vT(s,i),am(l,o);var d=am(l,i);for(o=0;o<c.length;o+=2){var h=c[o],f=c[o+1];h==="style"?ET(s,f):h==="dangerouslySetInnerHTML"?wT(s,f):h==="children"?Xl(s,f):Zg(s,h,f,d)}switch(l){case"input":nm(s,i);break;case"textarea":yT(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Vo(s,!!i.multiple,v,!1):p!==!!i.multiple&&(i.defaultValue!=null?Vo(s,!!i.multiple,i.defaultValue,!0):Vo(s,!!i.multiple,i.multiple?[]:"",!1))}s[oc]=i}catch(w){Je(t,t.return,w)}}break;case 6:if(Rn(e,t),er(t),r&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){Je(t,t.return,w)}}break;case 3:if(Rn(e,t),er(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{tc(e.containerInfo)}catch(w){Je(t,t.return,w)}break;case 4:Rn(e,t),er(t);break;case 13:Rn(e,t),er(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(jv=tt())),r&4&&u_(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(kt=(d=kt)||h,Rn(e,t),kt=d):Rn(e,t),er(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(K=t,h=t.child;h!==null;){for(f=K=h;K!==null;){switch(p=K,v=p.child,p.tag){case 0:case 11:case 14:case 15:Fl(4,p,p.return);break;case 1:Oo(p,p.return);var I=p.stateNode;if(typeof I.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,I.props=e.memoizedProps,I.state=e.memoizedState,I.componentWillUnmount()}catch(w){Je(r,n,w)}}break;case 5:Oo(p,p.return);break;case 22:if(p.memoizedState!==null){h_(f);continue}}v!==null?(v.return=p,K=v):h_(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=_T("display",o))}catch(w){Je(t,t.return,w)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(w){Je(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Rn(e,t),er(t),r&4&&u_(t);break;case 21:break;default:Rn(e,t),er(t)}}function er(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(GS(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Xl(s,""),r.flags&=-33);var i=c_(t);Lm(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=c_(t);Mm(t,l,o);break;default:throw Error(z(161))}}catch(c){Je(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function wk(t,e,n){K=t,YS(t)}function YS(t,e,n){for(var r=(t.mode&1)!==0;K!==null;){var s=K,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Nu;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||kt;l=Nu;var d=kt;if(Nu=o,(kt=c)&&!d)for(K=s;K!==null;)o=K,c=o.child,o.tag===22&&o.memoizedState!==null?f_(s):c!==null?(c.return=o,K=c):f_(s);for(;i!==null;)K=i,YS(i),i=i.sibling;K=s,Nu=l,kt=d}d_(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,K=i):d_(t)}}function d_(t){for(;K!==null;){var e=K;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:kt||Rh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!kt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:kn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Qw(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Qw(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&tc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}kt||e.flags&512&&Om(e)}catch(p){Je(e,e.return,p)}}if(e===t){K=null;break}if(n=e.sibling,n!==null){n.return=e.return,K=n;break}K=e.return}}function h_(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var n=e.sibling;if(n!==null){n.return=e.return,K=n;break}K=e.return}}function f_(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Rh(4,e)}catch(c){Je(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Je(e,s,c)}}var i=e.return;try{Om(e)}catch(c){Je(e,i,c)}break;case 5:var o=e.return;try{Om(e)}catch(c){Je(e,o,c)}}}catch(c){Je(e,e.return,c)}if(e===t){K=null;break}var l=e.sibling;if(l!==null){l.return=e.return,K=l;break}K=e.return}}var _k=Math.ceil,Ud=Zr.ReactCurrentDispatcher,Pv=Zr.ReactCurrentOwner,In=Zr.ReactCurrentBatchConfig,Ee=0,_t=null,st=null,It=0,dn=0,Mo=ii(0),ft=0,hc=null,Bi=0,jh=0,Rv=0,Ul=null,tn=null,jv=0,ya=1/0,Ar=null,$d=!1,Vm=null,Vs=null,Au=!1,Rs=null,zd=0,$l=0,Fm=null,nd=-1,rd=0;function qt(){return Ee&6?tt():nd!==-1?nd:nd=tt()}function Fs(t){return t.mode&1?Ee&2&&It!==0?It&-It:sk.transition!==null?(rd===0&&(rd=DT()),rd):(t=Re,t!==0||(t=window.event,t=t===void 0?16:$T(t.type)),t):1}function Bn(t,e,n,r){if(50<$l)throw $l=0,Fm=null,Error(z(185));jc(t,n,r),(!(Ee&2)||t!==_t)&&(t===_t&&(!(Ee&2)&&(jh|=n),ft===4&&vs(t,It)),ln(t,r),n===1&&Ee===0&&!(e.mode&1)&&(ya=tt()+500,Nh&&oi()))}function ln(t,e){var n=t.callbackNode;sj(t,e);var r=bd(t,t===_t?It:0);if(r===0)n!==null&&Ew(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ew(n),e===1)t.tag===0?rk(p_.bind(null,t)):oS(p_.bind(null,t)),Zj(function(){!(Ee&6)&&oi()}),n=null;else{switch(OT(r)){case 1:n=sv;break;case 4:n=jT;break;case 16:n=Sd;break;case 536870912:n=kT;break;default:n=Sd}n=sb(n,XS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function XS(t,e){if(nd=-1,rd=0,Ee&6)throw Error(z(327));var n=t.callbackNode;if(Bo()&&t.callbackNode!==n)return null;var r=bd(t,t===_t?It:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Bd(t,r);else{e=r;var s=Ee;Ee|=2;var i=ZS();(_t!==t||It!==e)&&(Ar=null,ya=tt()+500,Mi(t,e));do try{Sk();break}catch(l){JS(t,l)}while(!0);vv(),Ud.current=i,Ee=s,st!==null?e=0:(_t=null,It=0,e=ft)}if(e!==0){if(e===2&&(s=hm(t),s!==0&&(r=s,e=Um(t,s))),e===1)throw n=hc,Mi(t,0),vs(t,r),ln(t,tt()),n;if(e===6)vs(t,r);else{if(s=t.current.alternate,!(r&30)&&!Ek(s)&&(e=Bd(t,r),e===2&&(i=hm(t),i!==0&&(r=i,e=Um(t,i))),e===1))throw n=hc,Mi(t,0),vs(t,r),ln(t,tt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:xi(t,tn,Ar);break;case 3:if(vs(t,r),(r&130023424)===r&&(e=jv+500-tt(),10<e)){if(bd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){qt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=wm(xi.bind(null,t,tn,Ar),e);break}xi(t,tn,Ar);break;case 4:if(vs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-zn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_k(r/1960))-r,10<r){t.timeoutHandle=wm(xi.bind(null,t,tn,Ar),r);break}xi(t,tn,Ar);break;case 5:xi(t,tn,Ar);break;default:throw Error(z(329))}}}return ln(t,tt()),t.callbackNode===n?XS.bind(null,t):null}function Um(t,e){var n=Ul;return t.current.memoizedState.isDehydrated&&(Mi(t,e).flags|=256),t=Bd(t,e),t!==2&&(e=tn,tn=n,e!==null&&$m(e)),t}function $m(t){tn===null?tn=t:tn.push.apply(tn,t)}function Ek(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Hn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vs(t,e){for(e&=~Rv,e&=~jh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-zn(e),r=1<<n;t[n]=-1,e&=~r}}function p_(t){if(Ee&6)throw Error(z(327));Bo();var e=bd(t,0);if(!(e&1))return ln(t,tt()),null;var n=Bd(t,e);if(t.tag!==0&&n===2){var r=hm(t);r!==0&&(e=r,n=Um(t,r))}if(n===1)throw n=hc,Mi(t,0),vs(t,e),ln(t,tt()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xi(t,tn,Ar),ln(t,tt()),null}function kv(t,e){var n=Ee;Ee|=1;try{return t(e)}finally{Ee=n,Ee===0&&(ya=tt()+500,Nh&&oi())}}function Wi(t){Rs!==null&&Rs.tag===0&&!(Ee&6)&&Bo();var e=Ee;Ee|=1;var n=In.transition,r=Re;try{if(In.transition=null,Re=1,t)return t()}finally{Re=r,In.transition=n,Ee=e,!(Ee&6)&&oi()}}function Dv(){dn=Mo.current,$e(Mo)}function Mi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Jj(n)),st!==null)for(n=st.return;n!==null;){var r=n;switch(pv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Pd();break;case 3:ga(),$e(on),$e(Ot),Tv();break;case 5:Ev(r);break;case 4:ga();break;case 13:$e(He);break;case 19:$e(He);break;case 10:yv(r.type._context);break;case 22:case 23:Dv()}n=n.return}if(_t=t,st=t=Us(t.current,null),It=dn=e,ft=0,hc=null,Rv=jh=Bi=0,tn=Ul=null,Ei!==null){for(e=0;e<Ei.length;e++)if(n=Ei[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ei=null}return t}function JS(t,e){do{var n=st;try{if(vv(),Zu.current=Fd,Vd){for(var r=Ge.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Vd=!1}if(zi=0,wt=ut=Ge=null,Vl=!1,cc=0,Pv.current=null,n===null||n.return===null){ft=1,hc=e,st=null;break}e:{var i=t,o=n.return,l=n,c=e;if(e=It,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=t_(o);if(v!==null){v.flags&=-257,n_(v,o,l,i,e),v.mode&1&&e_(i,d,e),e=v,c=d;var I=e.updateQueue;if(I===null){var w=new Set;w.add(c),e.updateQueue=w}else I.add(c);break e}else{if(!(e&1)){e_(i,d,e),Ov();break e}c=Error(z(426))}}else if(We&&l.mode&1){var S=t_(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),n_(S,o,l,i,e),mv(va(c,l));break e}}i=c=va(c,l),ft!==4&&(ft=2),Ul===null?Ul=[i]:Ul.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var E=OS(i,c,e);Kw(i,E);break e;case 1:l=c;var x=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Vs===null||!Vs.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var j=MS(i,l,e);Kw(i,j);break e}}i=i.return}while(i!==null)}tb(n)}catch(k){e=k,st===n&&n!==null&&(st=n=n.return);continue}break}while(!0)}function ZS(){var t=Ud.current;return Ud.current=Fd,t===null?Fd:t}function Ov(){(ft===0||ft===3||ft===2)&&(ft=4),_t===null||!(Bi&268435455)&&!(jh&268435455)||vs(_t,It)}function Bd(t,e){var n=Ee;Ee|=2;var r=ZS();(_t!==t||It!==e)&&(Ar=null,Mi(t,e));do try{Tk();break}catch(s){JS(t,s)}while(!0);if(vv(),Ee=n,Ud.current=r,st!==null)throw Error(z(261));return _t=null,It=0,ft}function Tk(){for(;st!==null;)eb(st)}function Sk(){for(;st!==null&&!QR();)eb(st)}function eb(t){var e=rb(t.alternate,t,dn);t.memoizedProps=t.pendingProps,e===null?tb(t):st=e,Pv.current=null}function tb(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=vk(n,e),n!==null){n.flags&=32767,st=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ft=6,st=null;return}}else if(n=gk(n,e,dn),n!==null){st=n;return}if(e=e.sibling,e!==null){st=e;return}st=e=t}while(e!==null);ft===0&&(ft=5)}function xi(t,e,n){var r=Re,s=In.transition;try{In.transition=null,Re=1,bk(t,e,n,r)}finally{In.transition=s,Re=r}return null}function bk(t,e,n,r){do Bo();while(Rs!==null);if(Ee&6)throw Error(z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(ij(t,i),t===_t&&(st=_t=null,It=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Au||(Au=!0,sb(Sd,function(){return Bo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=In.transition,In.transition=null;var o=Re;Re=1;var l=Ee;Ee|=4,Pv.current=null,xk(t,n),QS(n,t),Hj(ym),Id=!!vm,ym=vm=null,t.current=n,wk(n),YR(),Ee=l,Re=o,In.transition=i}else t.current=n;if(Au&&(Au=!1,Rs=t,zd=s),i=t.pendingLanes,i===0&&(Vs=null),ZR(n.stateNode),ln(t,tt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if($d)throw $d=!1,t=Vm,Vm=null,t;return zd&1&&t.tag!==0&&Bo(),i=t.pendingLanes,i&1?t===Fm?$l++:($l=0,Fm=t):$l=0,oi(),null}function Bo(){if(Rs!==null){var t=OT(zd),e=In.transition,n=Re;try{if(In.transition=null,Re=16>t?16:t,Rs===null)var r=!1;else{if(t=Rs,Rs=null,zd=0,Ee&6)throw Error(z(331));var s=Ee;for(Ee|=4,K=t.current;K!==null;){var i=K,o=i.child;if(K.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(K=d;K!==null;){var h=K;switch(h.tag){case 0:case 11:case 15:Fl(8,h,i)}var f=h.child;if(f!==null)f.return=h,K=f;else for(;K!==null;){h=K;var p=h.sibling,v=h.return;if(qS(h),h===d){K=null;break}if(p!==null){p.return=v,K=p;break}K=v}}}var I=i.alternate;if(I!==null){var w=I.child;if(w!==null){I.child=null;do{var S=w.sibling;w.sibling=null,w=S}while(w!==null)}}K=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,K=o;else e:for(;K!==null;){if(i=K,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Fl(9,i,i.return)}var E=i.sibling;if(E!==null){E.return=i.return,K=E;break e}K=i.return}}var x=t.current;for(K=x;K!==null;){o=K;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,K=b;else e:for(o=x;K!==null;){if(l=K,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Rh(9,l)}}catch(k){Je(l,l.return,k)}if(l===o){K=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,K=j;break e}K=l.return}}if(Ee=s,oi(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(Th,t)}catch{}r=!0}return r}finally{Re=n,In.transition=e}}return!1}function m_(t,e,n){e=va(n,e),e=OS(t,e,1),t=Ls(t,e,1),e=qt(),t!==null&&(jc(t,1,e),ln(t,e))}function Je(t,e,n){if(t.tag===3)m_(t,t,n);else for(;e!==null;){if(e.tag===3){m_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vs===null||!Vs.has(r))){t=va(n,t),t=MS(e,t,1),e=Ls(e,t,1),t=qt(),e!==null&&(jc(e,1,t),ln(e,t));break}}e=e.return}}function Ik(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=qt(),t.pingedLanes|=t.suspendedLanes&n,_t===t&&(It&n)===n&&(ft===4||ft===3&&(It&130023424)===It&&500>tt()-jv?Mi(t,0):Rv|=n),ln(t,e)}function nb(t,e){e===0&&(t.mode&1?(e=xu,xu<<=1,!(xu&130023424)&&(xu=4194304)):e=1);var n=qt();t=Hr(t,e),t!==null&&(jc(t,e,n),ln(t,n))}function Ck(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),nb(t,n)}function Nk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),nb(t,n)}var rb;rb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||on.current)sn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return sn=!1,mk(t,e,n);sn=!!(t.flags&131072)}else sn=!1,We&&e.flags&1048576&&aS(e,kd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;td(t,e),t=e.pendingProps;var s=fa(e,Ot.current);zo(e,n),s=bv(null,e,r,t,s,n);var i=Iv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,an(r)?(i=!0,Rd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,wv(e),s.updater=Ph,e.stateNode=s,s._reactInternals=e,Cm(e,r,t,n),e=Pm(null,e,r,!0,i,n)):(e.tag=0,We&&i&&fv(e),$t(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(td(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Pk(r),t=kn(r,t),s){case 0:e=Am(null,e,r,t,n);break e;case 1:e=i_(null,e,r,t,n);break e;case 11:e=r_(null,e,r,t,n);break e;case 14:e=s_(null,e,r,kn(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:kn(r,s),Am(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:kn(r,s),i_(t,e,r,s,n);case 3:e:{if(US(e),t===null)throw Error(z(387));r=e.pendingProps,i=e.memoizedState,s=i.element,fS(t,e),Md(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=va(Error(z(423)),e),e=o_(t,e,r,n,s);break e}else if(r!==s){s=va(Error(z(424)),e),e=o_(t,e,r,n,s);break e}else for(fn=Ms(e.stateNode.containerInfo.firstChild),mn=e,We=!0,Ln=null,n=dS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(pa(),r===s){e=qr(t,e,n);break e}$t(t,e,r,n)}e=e.child}return e;case 5:return pS(e),t===null&&Sm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,xm(r,s)?o=null:i!==null&&xm(r,i)&&(e.flags|=32),FS(t,e),$t(t,e,o,n),e.child;case 6:return t===null&&Sm(e),null;case 13:return $S(t,e,n);case 4:return _v(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ma(e,null,r,n):$t(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:kn(r,s),r_(t,e,r,s,n);case 7:return $t(t,e,e.pendingProps,n),e.child;case 8:return $t(t,e,e.pendingProps.children,n),e.child;case 12:return $t(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Oe(Dd,r._currentValue),r._currentValue=o,i!==null)if(Hn(i.value,o)){if(i.children===s.children&&!on.current){e=qr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Ur(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),bm(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),bm(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}$t(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,zo(e,n),s=Cn(s),r=r(s),e.flags|=1,$t(t,e,r,n),e.child;case 14:return r=e.type,s=kn(r,e.pendingProps),s=kn(r.type,s),s_(t,e,r,s,n);case 15:return LS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:kn(r,s),td(t,e),e.tag=1,an(r)?(t=!0,Rd(e)):t=!1,zo(e,n),DS(e,r,s),Cm(e,r,s,n),Pm(null,e,r,!0,t,n);case 19:return zS(t,e,n);case 22:return VS(t,e,n)}throw Error(z(156,e.tag))};function sb(t,e){return RT(t,e)}function Ak(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,e,n,r){return new Ak(t,e,n,r)}function Mv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pk(t){if(typeof t=="function")return Mv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===tv)return 11;if(t===nv)return 14}return 2}function Us(t,e){var n=t.alternate;return n===null?(n=bn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function sd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Mv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Io:return Li(n.children,s,i,e);case ev:o=8,s|=8;break;case Xp:return t=bn(12,n,e,s|2),t.elementType=Xp,t.lanes=i,t;case Jp:return t=bn(13,n,e,s),t.elementType=Jp,t.lanes=i,t;case Zp:return t=bn(19,n,e,s),t.elementType=Zp,t.lanes=i,t;case pT:return kh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case hT:o=10;break e;case fT:o=9;break e;case tv:o=11;break e;case nv:o=14;break e;case ps:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=bn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Li(t,e,n,r){return t=bn(7,t,r,e),t.lanes=n,t}function kh(t,e,n,r){return t=bn(22,t,r,e),t.elementType=pT,t.lanes=n,t.stateNode={isHidden:!1},t}function vp(t,e,n){return t=bn(6,t,null,e),t.lanes=n,t}function yp(t,e,n){return e=bn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Rk(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jf(0),this.expirationTimes=Jf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Lv(t,e,n,r,s,i,o,l,c){return t=new Rk(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=bn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wv(i),t}function jk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ib(t){if(!t)return Ks;t=t._reactInternals;e:{if(ao(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(an(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(an(n))return iS(t,n,e)}return e}function ob(t,e,n,r,s,i,o,l,c){return t=Lv(n,r,!0,t,s,i,o,l,c),t.context=ib(null),n=t.current,r=qt(),s=Fs(n),i=Ur(r,s),i.callback=e??null,Ls(n,i,s),t.current.lanes=s,jc(t,s,r),ln(t,r),t}function Dh(t,e,n,r){var s=e.current,i=qt(),o=Fs(s);return n=ib(n),e.context===null?e.context=n:e.pendingContext=n,e=Ur(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ls(s,e,o),t!==null&&(Bn(t,s,o,i),Ju(t,s,o)),o}function Wd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function g_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Vv(t,e){g_(t,e),(t=t.alternate)&&g_(t,e)}function kk(){return null}var ab=typeof reportError=="function"?reportError:function(t){console.error(t)};function Fv(t){this._internalRoot=t}Oh.prototype.render=Fv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Dh(t,e,null,null)};Oh.prototype.unmount=Fv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Wi(function(){Dh(null,t,null,null)}),e[Wr]=null}};function Oh(t){this._internalRoot=t}Oh.prototype.unstable_scheduleHydration=function(t){if(t){var e=VT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<gs.length&&e!==0&&e<gs[n].priority;n++);gs.splice(n,0,t),n===0&&UT(t)}};function Uv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Mh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function v_(){}function Dk(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=Wd(o);i.call(d)}}var o=ob(e,r,t,0,null,!1,!1,"",v_);return t._reactRootContainer=o,t[Wr]=o.current,sc(t.nodeType===8?t.parentNode:t),Wi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var d=Wd(c);l.call(d)}}var c=Lv(t,0,!1,null,null,!1,!1,"",v_);return t._reactRootContainer=c,t[Wr]=c.current,sc(t.nodeType===8?t.parentNode:t),Wi(function(){Dh(e,c,n,r)}),c}function Lh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Wd(o);l.call(c)}}Dh(e,o,t,s)}else o=Dk(n,e,t,s,r);return Wd(o)}MT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Sl(e.pendingLanes);n!==0&&(iv(e,n|1),ln(e,tt()),!(Ee&6)&&(ya=tt()+500,oi()))}break;case 13:Wi(function(){var r=Hr(t,1);if(r!==null){var s=qt();Bn(r,t,1,s)}}),Vv(t,1)}};ov=function(t){if(t.tag===13){var e=Hr(t,134217728);if(e!==null){var n=qt();Bn(e,t,134217728,n)}Vv(t,134217728)}};LT=function(t){if(t.tag===13){var e=Fs(t),n=Hr(t,e);if(n!==null){var r=qt();Bn(n,t,e,r)}Vv(t,e)}};VT=function(){return Re};FT=function(t,e){var n=Re;try{return Re=t,e()}finally{Re=n}};cm=function(t,e,n){switch(e){case"input":if(nm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Ch(r);if(!s)throw Error(z(90));gT(r),nm(r,s)}}}break;case"textarea":yT(t,n);break;case"select":e=n.value,e!=null&&Vo(t,!!n.multiple,e,!1)}};bT=kv;IT=Wi;var Ok={usingClientEntryPoint:!1,Events:[Dc,Po,Ch,TT,ST,kv]},xl={findFiberByHostInstance:_i,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Mk={bundleType:xl.bundleType,version:xl.version,rendererPackageName:xl.rendererPackageName,rendererConfig:xl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=AT(t),t===null?null:t.stateNode},findFiberByHostInstance:xl.findFiberByHostInstance||kk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pu.isDisabled&&Pu.supportsFiber)try{Th=Pu.inject(Mk),ur=Pu}catch{}}yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ok;yn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uv(e))throw Error(z(200));return jk(t,e,null,n)};yn.createRoot=function(t,e){if(!Uv(t))throw Error(z(299));var n=!1,r="",s=ab;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Lv(t,1,!1,null,null,n,!1,r,s),t[Wr]=e.current,sc(t.nodeType===8?t.parentNode:t),new Fv(e)};yn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=AT(e),t=t===null?null:t.stateNode,t};yn.flushSync=function(t){return Wi(t)};yn.hydrate=function(t,e,n){if(!Mh(e))throw Error(z(200));return Lh(null,t,e,!0,n)};yn.hydrateRoot=function(t,e,n){if(!Uv(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=ab;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ob(e,null,t,1,n??null,s,!1,i,o),t[Wr]=e.current,sc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Oh(e)};yn.render=function(t,e,n){if(!Mh(e))throw Error(z(200));return Lh(null,t,e,!1,n)};yn.unmountComponentAtNode=function(t){if(!Mh(t))throw Error(z(40));return t._reactRootContainer?(Wi(function(){Lh(null,null,t,!1,function(){t._reactRootContainer=null,t[Wr]=null})}),!0):!1};yn.unstable_batchedUpdates=kv;yn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Mh(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Lh(t,e,n,!1,r)};yn.version="18.3.1-next-f1338f8080-20240426";function lb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lb)}catch(t){console.error(t)}}lb(),lT.exports=yn;var lo=lT.exports;const Lk=Y0(lo);var cb,y_=lo;cb=y_.createRoot,y_.hydrateRoot;function Vk(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],l="",c=t.split("/");for(c[0]||c.shift();s=c.shift();)n=s[0],n==="*"?(o.push(n),l+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),l+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~r?"?":"")+"\\"+s.substring(i))):l+="/"+s;return{keys:o,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}var ub={exports:{}},db={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xa=g;function Fk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Uk=typeof Object.is=="function"?Object.is:Fk,$k=xa.useState,zk=xa.useEffect,Bk=xa.useLayoutEffect,Wk=xa.useDebugValue;function Hk(t,e){var n=e(),r=$k({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return Bk(function(){s.value=n,s.getSnapshot=e,xp(s)&&i({inst:s})},[t,n,e]),zk(function(){return xp(s)&&i({inst:s}),t(function(){xp(s)&&i({inst:s})})},[t]),Wk(n),n}function xp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Uk(t,n)}catch{return!0}}function qk(t,e){return e()}var Gk=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?qk:Hk;db.useSyncExternalStore=xa.useSyncExternalStore!==void 0?xa.useSyncExternalStore:Gk;ub.exports=db;var hb=ub.exports;const Kk=Yg.useInsertionEffect,Qk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Yk=Qk?g.useLayoutEffect:g.useEffect,Xk=Kk||Yk,fb=t=>{const e=g.useRef([t,(...n)=>e[0](...n)]).current;return Xk(()=>{e[0]=t}),e[1]},Jk="popstate",$v="pushState",zv="replaceState",Zk="hashchange",x_=[Jk,$v,zv,Zk],e2=t=>{for(const e of x_)addEventListener(e,t);return()=>{for(const e of x_)removeEventListener(e,t)}},pb=(t,e)=>hb.useSyncExternalStore(e2,t,e),t2=()=>location.search,n2=({ssrSearch:t=""}={})=>pb(t2,()=>t),w_=()=>location.pathname,r2=({ssrPath:t}={})=>pb(w_,t?()=>t:w_),s2=(t,{replace:e=!1,state:n=null}={})=>history[e?zv:$v](n,"",t),i2=(t={})=>[r2(t),s2],__=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[__]>"u"){for(const t of[$v,zv]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,__,{value:!0})}const o2=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",mb=(t="")=>t==="/"?"":t,a2=(t,e)=>t[0]==="~"?t.slice(1):mb(e)+t,l2=(t="",e)=>o2(E_(mb(t)),E_(e)),E_=t=>{try{return decodeURI(t)}catch{return t}},gb={hook:i2,searchHook:n2,parser:Vk,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},vb=g.createContext(gb),Mc=()=>g.useContext(vb),yb={},xb=g.createContext(yb),c2=()=>g.useContext(xb),Vh=t=>{const[e,n]=t.hook(t);return[l2(t.base,e),fb((r,s)=>n(a2(r,t.base),s))]},u2=()=>Vh(Mc()),wb=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=s.exec(n)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=i!==!1?Object.fromEntries(i.map((f,p)=>[f,c[p]])):o.groups;let h={...c};return d&&Object.assign(h,d),h})(),...r?[l]:[]]:[!1,null]},d2=({children:t,...e})=>{var h,f;const n=Mc(),r=e.hook?gb:n;let s=r;const[i,o]=((h=e.ssrPath)==null?void 0:h.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let l=g.useRef({}),c=l.current,d=c;for(let p in r){const v=p==="base"?r[p]+(e[p]||""):e[p]||r[p];c===d&&v!==d[p]&&(l.current=d={...d}),d[p]=v,(v!==r[p]||v!==s[p])&&(s=d)}return g.createElement(vb.Provider,{value:s,children:t})},T_=({children:t,component:e},n)=>e?g.createElement(e,{params:n}):typeof t=="function"?t(n):t,h2=t=>{let e=g.useRef(yb);const n=e.current;return e.current=Object.keys(t).length!==Object.keys(n).length||Object.entries(t).some(([r,s])=>s!==n[r])?t:n},tr=({path:t,nest:e,match:n,...r})=>{const s=Mc(),[i]=Vh(s),[o,l,c]=n??wb(s.parser,t,i,e),d=h2({...c2(),...l});if(!o)return null;const h=c?g.createElement(d2,{base:c},T_(r,d)):T_(r,d);return g.createElement(xb.Provider,{value:d,children:h})},f2=g.forwardRef((t,e)=>{const n=Mc(),[r,s]=Vh(n),{to:i="",href:o=i,onClick:l,asChild:c,children:d,className:h,replace:f,state:p,...v}=t,I=fb(S=>{S.ctrlKey||S.metaKey||S.altKey||S.shiftKey||S.button!==0||(l==null||l(S),S.defaultPrevented||(S.preventDefault(),s(o,t)))}),w=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&g.isValidElement(d)?g.cloneElement(d,{onClick:I,href:w}):g.createElement("a",{...v,onClick:I,href:w,className:h!=null&&h.call?h(r===o):h,children:d,ref:e})}),_b=t=>Array.isArray(t)?t.flatMap(e=>_b(e&&e.type===g.Fragment?e.props.children:e)):[t],p2=({children:t,location:e})=>{const n=Mc(),[r]=Vh(n);for(const s of _b(t)){let i=0;if(g.isValidElement(s)&&(i=wb(n.parser,s.props.path,e||r,s.props.nest))[0])return g.cloneElement(s,{match:i})}return null};var Va=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},m2={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},_s,Hg,F0,g2=(F0=class{constructor(){ee(this,_s,m2);ee(this,Hg,!1)}setTimeoutProvider(t){q(this,_s,t)}setTimeout(t,e){return O(this,_s).setTimeout(t,e)}clearTimeout(t){O(this,_s).clearTimeout(t)}setInterval(t,e){return O(this,_s).setInterval(t,e)}clearInterval(t){O(this,_s).clearInterval(t)}},_s=new WeakMap,Hg=new WeakMap,F0),Si=new g2;function v2(t){setTimeout(t,0)}var Hi=typeof window>"u"||"Deno"in globalThis;function zt(){}function y2(t,e){return typeof t=="function"?t(e):t}function zm(t){return typeof t=="number"&&t>=0&&t!==1/0}function Eb(t,e){return Math.max(t+(e||0)-Date.now(),0)}function $s(t,e){return typeof t=="function"?t(e):t}function _n(t,e){return typeof t=="function"?t(e):t}function S_(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==Bv(o,e.options))return!1}else if(!fc(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function b_(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(qi(e.options.mutationKey)!==qi(i))return!1}else if(!fc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Bv(t,e){return((e==null?void 0:e.queryKeyHashFn)||qi)(t)}function qi(t){return JSON.stringify(t,(e,n)=>Bm(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function fc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>fc(t[n],e[n])):!1}var x2=Object.prototype.hasOwnProperty;function Tb(t,e){if(t===e)return t;const n=I_(t)&&I_(e);if(!n&&!(Bm(t)&&Bm(e)))return e;const s=(n?t:Object.keys(t)).length,i=n?e:Object.keys(e),o=i.length,l=n?new Array(o):{};let c=0;for(let d=0;d<o;d++){const h=n?d:i[d],f=t[h],p=e[h];if(f===p){l[h]=f,(n?d<s:x2.call(t,h))&&c++;continue}if(f===null||p===null||typeof f!="object"||typeof p!="object"){l[h]=p;continue}const v=Tb(f,p);l[h]=v,v===f&&c++}return s===o&&c===s?t:l}function Hd(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function I_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Bm(t){if(!C_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!C_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function C_(t){return Object.prototype.toString.call(t)==="[object Object]"}function w2(t){return new Promise(e=>{Si.setTimeout(e,t)})}function Wm(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Tb(t,e):e}function _2(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function E2(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Wv=Symbol();function Sb(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Wv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function bb(t,e){return typeof t=="function"?t(...e):!!t}var Ci,Es,ea,U0,T2=(U0=class extends Va{constructor(){super();ee(this,Ci);ee(this,Es);ee(this,ea);q(this,ea,e=>{if(!Hi&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){O(this,Es)||this.setEventListener(O(this,ea))}onUnsubscribe(){var e;this.hasListeners()||((e=O(this,Es))==null||e.call(this),q(this,Es,void 0))}setEventListener(e){var n;q(this,ea,e),(n=O(this,Es))==null||n.call(this),q(this,Es,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){O(this,Ci)!==e&&(q(this,Ci,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof O(this,Ci)=="boolean"?O(this,Ci):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ci=new WeakMap,Es=new WeakMap,ea=new WeakMap,U0),Hv=new T2;function Hm(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var S2=v2;function b2(){let t=[],e=0,n=l=>{l()},r=l=>{l()},s=S2;const i=l=>{e?t.push(l):s(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var dt=b2(),ta,Ts,na,$0,I2=($0=class extends Va{constructor(){super();ee(this,ta,!0);ee(this,Ts);ee(this,na);q(this,na,e=>{if(!Hi&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){O(this,Ts)||this.setEventListener(O(this,na))}onUnsubscribe(){var e;this.hasListeners()||((e=O(this,Ts))==null||e.call(this),q(this,Ts,void 0))}setEventListener(e){var n;q(this,na,e),(n=O(this,Ts))==null||n.call(this),q(this,Ts,e(this.setOnline.bind(this)))}setOnline(e){O(this,ta)!==e&&(q(this,ta,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return O(this,ta)}},ta=new WeakMap,Ts=new WeakMap,na=new WeakMap,$0),qd=new I2;function C2(t){return Math.min(1e3*2**t,3e4)}function Ib(t){return(t??"online")==="online"?qd.isOnline():!0}var qm=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Cb(t){let e=!1,n=0,r;const s=Hm(),i=()=>s.status!=="pending",o=w=>{var S;if(!i()){const E=new qm(w);p(E),(S=t.onCancel)==null||S.call(t,E)}},l=()=>{e=!0},c=()=>{e=!1},d=()=>Hv.isFocused()&&(t.networkMode==="always"||qd.isOnline())&&t.canRun(),h=()=>Ib(t.networkMode)&&t.canRun(),f=w=>{i()||(r==null||r(),s.resolve(w))},p=w=>{i()||(r==null||r(),s.reject(w))},v=()=>new Promise(w=>{var S;r=E=>{(i()||d())&&w(E)},(S=t.onPause)==null||S.call(t)}).then(()=>{var w;r=void 0,i()||(w=t.onContinue)==null||w.call(t)}),I=()=>{if(i())return;let w;const S=n===0?t.initialPromise:void 0;try{w=S??t.fn()}catch(E){w=Promise.reject(E)}Promise.resolve(w).then(f).catch(E=>{var M;if(i())return;const x=t.retry??(Hi?0:3),b=t.retryDelay??C2,j=typeof b=="function"?b(n,E):b,k=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,E);if(e||!k){p(E);return}n++,(M=t.onFail)==null||M.call(t,n,E),w2(j).then(()=>d()?void 0:v()).then(()=>{e?p(E):I()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?I():v().then(I),s)}}var Ni,z0,Nb=(z0=class{constructor(){ee(this,Ni)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),zm(this.gcTime)&&q(this,Ni,Si.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Hi?1/0:5*60*1e3))}clearGcTimeout(){O(this,Ni)&&(Si.clearTimeout(O(this,Ni)),q(this,Ni,void 0))}},Ni=new WeakMap,z0),Ai,ra,wn,Pi,yt,Ic,Ri,Dn,Nr,B0,N2=(B0=class extends Nb{constructor(n){super();ee(this,Dn);ee(this,Ai);ee(this,ra);ee(this,wn);ee(this,Pi);ee(this,yt);ee(this,Ic);ee(this,Ri);q(this,Ri,!1),q(this,Ic,n.defaultOptions),this.setOptions(n.options),this.observers=[],q(this,Pi,n.client),q(this,wn,O(this,Pi).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,q(this,Ai,N_(this.options)),this.state=n.state??O(this,Ai),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=O(this,yt))==null?void 0:n.promise}setOptions(n){if(this.options={...O(this,Ic),...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=N_(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),q(this,Ai,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&O(this,wn).remove(this)}setData(n,r){const s=Wm(this.state.data,n,this.options);return pe(this,Dn,Nr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){pe(this,Dn,Nr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=O(this,yt))==null?void 0:s.promise;return(i=O(this,yt))==null||i.cancel(n),r?r.then(zt).catch(zt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(O(this,Ai))}isActive(){return this.observers.some(n=>_n(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Wv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>$s(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!Eb(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=O(this,yt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=O(this,yt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),O(this,wn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(O(this,yt)&&(O(this,Ri)?O(this,yt).cancel({revert:!0}):O(this,yt).cancelRetry()),this.scheduleGc()),O(this,wn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||pe(this,Dn,Nr).call(this,{type:"invalidate"})}async fetch(n,r){var d,h,f,p,v,I,w,S,E,x,b,j;if(this.state.fetchStatus!=="idle"&&((d=O(this,yt))==null?void 0:d.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(O(this,yt))return O(this,yt).continueRetry(),O(this,yt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const k=this.observers.find(M=>M.options.queryFn);k&&this.setOptions(k.options)}const s=new AbortController,i=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(q(this,Ri,!0),s.signal)})},o=()=>{const k=Sb(this.options,r),_=(()=>{const T={client:O(this,Pi),queryKey:this.queryKey,meta:this.meta};return i(T),T})();return q(this,Ri,!1),this.options.persister?this.options.persister(k,_,this):k(_)},c=(()=>{const k={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:O(this,Pi),state:this.state,fetchFn:o};return i(k),k})();(h=this.options.behavior)==null||h.onFetch(c,this),q(this,ra,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=c.fetchOptions)==null?void 0:f.meta))&&pe(this,Dn,Nr).call(this,{type:"fetch",meta:(p=c.fetchOptions)==null?void 0:p.meta}),q(this,yt,Cb({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,onCancel:k=>{k instanceof qm&&k.revert&&this.setState({...O(this,ra),fetchStatus:"idle"}),s.abort()},onFail:(k,M)=>{pe(this,Dn,Nr).call(this,{type:"failed",failureCount:k,error:M})},onPause:()=>{pe(this,Dn,Nr).call(this,{type:"pause"})},onContinue:()=>{pe(this,Dn,Nr).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}));try{const k=await O(this,yt).start();if(k===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(k),(I=(v=O(this,wn).config).onSuccess)==null||I.call(v,k,this),(S=(w=O(this,wn).config).onSettled)==null||S.call(w,k,this.state.error,this),k}catch(k){if(k instanceof qm){if(k.silent)return O(this,yt).promise;if(k.revert){if(this.state.data===void 0)throw k;return this.state.data}}throw pe(this,Dn,Nr).call(this,{type:"error",error:k}),(x=(E=O(this,wn).config).onError)==null||x.call(E,k,this),(j=(b=O(this,wn).config).onSettled)==null||j.call(b,this.state.data,k,this),k}finally{this.scheduleGc()}}},Ai=new WeakMap,ra=new WeakMap,wn=new WeakMap,Pi=new WeakMap,yt=new WeakMap,Ic=new WeakMap,Ri=new WeakMap,Dn=new WeakSet,Nr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Ab(s.data,this.options),fetchMeta:n.meta??null};case"success":const i={...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return q(this,ra,n.manual?i:void 0),i;case"error":const o=n.error;return{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),dt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),O(this,wn).notify({query:this,type:"updated",action:n})})},B0);function Ab(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ib(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function N_(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Jt,we,Cc,Ft,ji,sa,Rr,Ss,Nc,ia,oa,ki,Di,bs,aa,Ne,Il,Gm,Km,Qm,Ym,Xm,Jm,Zm,Pb,W0,A2=(W0=class extends Va{constructor(e,n){super();ee(this,Ne);ee(this,Jt);ee(this,we);ee(this,Cc);ee(this,Ft);ee(this,ji);ee(this,sa);ee(this,Rr);ee(this,Ss);ee(this,Nc);ee(this,ia);ee(this,oa);ee(this,ki);ee(this,Di);ee(this,bs);ee(this,aa,new Set);this.options=n,q(this,Jt,e),q(this,Ss,null),q(this,Rr,Hm()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(O(this,we).addObserver(this),A_(O(this,we),this.options)?pe(this,Ne,Il).call(this):this.updateResult(),pe(this,Ne,Ym).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return eg(O(this,we),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return eg(O(this,we),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,pe(this,Ne,Xm).call(this),pe(this,Ne,Jm).call(this),O(this,we).removeObserver(this)}setOptions(e){const n=this.options,r=O(this,we);if(this.options=O(this,Jt).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof _n(this.options.enabled,O(this,we))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");pe(this,Ne,Zm).call(this),O(this,we).setOptions(this.options),n._defaulted&&!Hd(this.options,n)&&O(this,Jt).getQueryCache().notify({type:"observerOptionsUpdated",query:O(this,we),observer:this});const s=this.hasListeners();s&&P_(O(this,we),r,this.options,n)&&pe(this,Ne,Il).call(this),this.updateResult(),s&&(O(this,we)!==r||_n(this.options.enabled,O(this,we))!==_n(n.enabled,O(this,we))||$s(this.options.staleTime,O(this,we))!==$s(n.staleTime,O(this,we)))&&pe(this,Ne,Gm).call(this);const i=pe(this,Ne,Km).call(this);s&&(O(this,we)!==r||_n(this.options.enabled,O(this,we))!==_n(n.enabled,O(this,we))||i!==O(this,bs))&&pe(this,Ne,Qm).call(this,i)}getOptimisticResult(e){const n=O(this,Jt).getQueryCache().build(O(this,Jt),e),r=this.createResult(n,e);return R2(this,r)&&(q(this,Ft,r),q(this,sa,this.options),q(this,ji,O(this,we).state)),r}getCurrentResult(){return O(this,Ft)}trackResult(e,n){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&!this.options.experimental_prefetchInRender&&O(this,Rr).status==="pending"&&O(this,Rr).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,s))})}trackProp(e){O(this,aa).add(e)}getCurrentQuery(){return O(this,we)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=O(this,Jt).defaultQueryOptions(e),r=O(this,Jt).getQueryCache().build(O(this,Jt),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return pe(this,Ne,Il).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),O(this,Ft)))}createResult(e,n){var C;const r=O(this,we),s=this.options,i=O(this,Ft),o=O(this,ji),l=O(this,sa),d=e!==r?e.state:O(this,Cc),{state:h}=e;let f={...h},p=!1,v;if(n._optimisticResults){const A=this.hasListeners(),P=!A&&A_(e,n),D=A&&P_(e,r,n,s);(P||D)&&(f={...f,...Ab(h.data,e.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:I,errorUpdatedAt:w,status:S}=f;v=f.data;let E=!1;if(n.placeholderData!==void 0&&v===void 0&&S==="pending"){let A;i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(A=i.data,E=!0):A=typeof n.placeholderData=="function"?n.placeholderData((C=O(this,oa))==null?void 0:C.state.data,O(this,oa)):n.placeholderData,A!==void 0&&(S="success",v=Wm(i==null?void 0:i.data,A,n),p=!0)}if(n.select&&v!==void 0&&!E)if(i&&v===(o==null?void 0:o.data)&&n.select===O(this,Nc))v=O(this,ia);else try{q(this,Nc,n.select),v=n.select(v),v=Wm(i==null?void 0:i.data,v,n),q(this,ia,v),q(this,Ss,null)}catch(A){q(this,Ss,A)}O(this,Ss)&&(I=O(this,Ss),v=O(this,ia),w=Date.now(),S="error");const x=f.fetchStatus==="fetching",b=S==="pending",j=S==="error",k=b&&x,M=v!==void 0,T={status:S,fetchStatus:f.fetchStatus,isPending:b,isSuccess:S==="success",isError:j,isInitialLoading:k,isLoading:k,data:v,dataUpdatedAt:f.dataUpdatedAt,error:I,errorUpdatedAt:w,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>d.dataUpdateCount||f.errorUpdateCount>d.errorUpdateCount,isFetching:x,isRefetching:x&&!b,isLoadingError:j&&!M,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:j&&M,isStale:qv(e,n),refetch:this.refetch,promise:O(this,Rr),isEnabled:_n(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const A=R=>{T.status==="error"?R.reject(T.error):T.data!==void 0&&R.resolve(T.data)},P=()=>{const R=q(this,Rr,T.promise=Hm());A(R)},D=O(this,Rr);switch(D.status){case"pending":e.queryHash===r.queryHash&&A(D);break;case"fulfilled":(T.status==="error"||T.data!==D.value)&&P();break;case"rejected":(T.status!=="error"||T.error!==D.reason)&&P();break}}return T}updateResult(){const e=O(this,Ft),n=this.createResult(O(this,we),this.options);if(q(this,ji,O(this,we).state),q(this,sa,this.options),O(this,ji).data!==void 0&&q(this,oa,O(this,we)),Hd(n,e))return;q(this,Ft,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!O(this,aa).size)return!0;const o=new Set(i??O(this,aa));return this.options.throwOnError&&o.add("error"),Object.keys(O(this,Ft)).some(l=>{const c=l;return O(this,Ft)[c]!==e[c]&&o.has(c)})};pe(this,Ne,Pb).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&pe(this,Ne,Ym).call(this)}},Jt=new WeakMap,we=new WeakMap,Cc=new WeakMap,Ft=new WeakMap,ji=new WeakMap,sa=new WeakMap,Rr=new WeakMap,Ss=new WeakMap,Nc=new WeakMap,ia=new WeakMap,oa=new WeakMap,ki=new WeakMap,Di=new WeakMap,bs=new WeakMap,aa=new WeakMap,Ne=new WeakSet,Il=function(e){pe(this,Ne,Zm).call(this);let n=O(this,we).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(zt)),n},Gm=function(){pe(this,Ne,Xm).call(this);const e=$s(this.options.staleTime,O(this,we));if(Hi||O(this,Ft).isStale||!zm(e))return;const r=Eb(O(this,Ft).dataUpdatedAt,e)+1;q(this,ki,Si.setTimeout(()=>{O(this,Ft).isStale||this.updateResult()},r))},Km=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(O(this,we)):this.options.refetchInterval)??!1},Qm=function(e){pe(this,Ne,Jm).call(this),q(this,bs,e),!(Hi||_n(this.options.enabled,O(this,we))===!1||!zm(O(this,bs))||O(this,bs)===0)&&q(this,Di,Si.setInterval(()=>{(this.options.refetchIntervalInBackground||Hv.isFocused())&&pe(this,Ne,Il).call(this)},O(this,bs)))},Ym=function(){pe(this,Ne,Gm).call(this),pe(this,Ne,Qm).call(this,pe(this,Ne,Km).call(this))},Xm=function(){O(this,ki)&&(Si.clearTimeout(O(this,ki)),q(this,ki,void 0))},Jm=function(){O(this,Di)&&(Si.clearInterval(O(this,Di)),q(this,Di,void 0))},Zm=function(){const e=O(this,Jt).getQueryCache().build(O(this,Jt),this.options);if(e===O(this,we))return;const n=O(this,we);q(this,we,e),q(this,Cc,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},Pb=function(e){dt.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(O(this,Ft))}),O(this,Jt).getQueryCache().notify({query:O(this,we),type:"observerResultsUpdated"})})},W0);function P2(t,e){return _n(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function A_(t,e){return P2(t,e)||t.state.data!==void 0&&eg(t,e,e.refetchOnMount)}function eg(t,e,n){if(_n(e.enabled,t)!==!1&&$s(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&qv(t,e)}return!1}function P_(t,e,n,r){return(t!==e||_n(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&qv(t,n)}function qv(t,e){return _n(e.enabled,t)!==!1&&t.isStaleByTime($s(e.staleTime,t))}function R2(t,e){return!Hd(t.getCurrentResult(),e)}function R_(t){return{onFetch:(e,n)=>{var h,f,p,v,I;const r=e.options,s=(p=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,i=((v=e.state.data)==null?void 0:v.pages)||[],o=((I=e.state.data)==null?void 0:I.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let w=!1;const S=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},E=Sb(e.options,e.fetchOptions),x=async(b,j,k)=>{if(w)return Promise.reject();if(j==null&&b.pages.length)return Promise.resolve(b);const _=(()=>{const P={client:e.client,queryKey:e.queryKey,pageParam:j,direction:k?"backward":"forward",meta:e.options.meta};return S(P),P})(),T=await E(_),{maxPages:C}=e.options,A=k?E2:_2;return{pages:A(b.pages,T,C),pageParams:A(b.pageParams,j,C)}};if(s&&i.length){const b=s==="backward",j=b?j2:j_,k={pages:i,pageParams:o},M=j(r,k);l=await x(k,M,b)}else{const b=t??i.length;do{const j=c===0?o[0]??r.initialPageParam:j_(r,l);if(c>0&&j==null)break;l=await x(l,j),c++}while(c<b)}return l};e.options.persister?e.fetchFn=()=>{var w,S;return(S=(w=e.options).persister)==null?void 0:S.call(w,d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=d}}}function j_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function j2(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ac,sr,Ut,Oi,ir,hs,H0,k2=(H0=class extends Nb{constructor(n){super();ee(this,ir);ee(this,Ac);ee(this,sr);ee(this,Ut);ee(this,Oi);q(this,Ac,n.client),this.mutationId=n.mutationId,q(this,Ut,n.mutationCache),q(this,sr,[]),this.state=n.state||Rb(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){O(this,sr).includes(n)||(O(this,sr).push(n),this.clearGcTimeout(),O(this,Ut).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){q(this,sr,O(this,sr).filter(r=>r!==n)),this.scheduleGc(),O(this,Ut).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){O(this,sr).length||(this.state.status==="pending"?this.scheduleGc():O(this,Ut).remove(this))}continue(){var n;return((n=O(this,Oi))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var l,c,d,h,f,p,v,I,w,S,E,x,b,j,k,M,_,T,C,A;const r=()=>{pe(this,ir,hs).call(this,{type:"continue"})},s={client:O(this,Ac),meta:this.options.meta,mutationKey:this.options.mutationKey};q(this,Oi,Cb({fn:()=>this.options.mutationFn?this.options.mutationFn(n,s):Promise.reject(new Error("No mutationFn found")),onFail:(P,D)=>{pe(this,ir,hs).call(this,{type:"failed",failureCount:P,error:D})},onPause:()=>{pe(this,ir,hs).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>O(this,Ut).canRun(this)}));const i=this.state.status==="pending",o=!O(this,Oi).canStart();try{if(i)r();else{pe(this,ir,hs).call(this,{type:"pending",variables:n,isPaused:o}),await((c=(l=O(this,Ut).config).onMutate)==null?void 0:c.call(l,n,this,s));const D=await((h=(d=this.options).onMutate)==null?void 0:h.call(d,n,s));D!==this.state.context&&pe(this,ir,hs).call(this,{type:"pending",context:D,variables:n,isPaused:o})}const P=await O(this,Oi).start();return await((p=(f=O(this,Ut).config).onSuccess)==null?void 0:p.call(f,P,n,this.state.context,this,s)),await((I=(v=this.options).onSuccess)==null?void 0:I.call(v,P,n,this.state.context,s)),await((S=(w=O(this,Ut).config).onSettled)==null?void 0:S.call(w,P,null,this.state.variables,this.state.context,this,s)),await((x=(E=this.options).onSettled)==null?void 0:x.call(E,P,null,n,this.state.context,s)),pe(this,ir,hs).call(this,{type:"success",data:P}),P}catch(P){try{throw await((j=(b=O(this,Ut).config).onError)==null?void 0:j.call(b,P,n,this.state.context,this,s)),await((M=(k=this.options).onError)==null?void 0:M.call(k,P,n,this.state.context,s)),await((T=(_=O(this,Ut).config).onSettled)==null?void 0:T.call(_,void 0,P,this.state.variables,this.state.context,this,s)),await((A=(C=this.options).onSettled)==null?void 0:A.call(C,void 0,P,n,this.state.context,s)),P}finally{pe(this,ir,hs).call(this,{type:"error",error:P})}}finally{O(this,Ut).runNext(this)}}},Ac=new WeakMap,sr=new WeakMap,Ut=new WeakMap,Oi=new WeakMap,ir=new WeakSet,hs=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),dt.batch(()=>{O(this,sr).forEach(s=>{s.onMutationUpdate(n)}),O(this,Ut).notify({mutation:this,type:"updated",action:n})})},H0);function Rb(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var jr,On,Pc,q0,D2=(q0=class extends Va{constructor(e={}){super();ee(this,jr);ee(this,On);ee(this,Pc);this.config=e,q(this,jr,new Set),q(this,On,new Map),q(this,Pc,0)}build(e,n,r){const s=new k2({client:e,mutationCache:this,mutationId:++fu(this,Pc)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){O(this,jr).add(e);const n=Ru(e);if(typeof n=="string"){const r=O(this,On).get(n);r?r.push(e):O(this,On).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(O(this,jr).delete(e)){const n=Ru(e);if(typeof n=="string"){const r=O(this,On).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&O(this,On).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Ru(e);if(typeof n=="string"){const r=O(this,On).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Ru(e);if(typeof n=="string"){const s=(r=O(this,On).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){dt.batch(()=>{O(this,jr).forEach(e=>{this.notify({type:"removed",mutation:e})}),O(this,jr).clear(),O(this,On).clear()})}getAll(){return Array.from(O(this,jr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>b_(n,r))}findAll(e={}){return this.getAll().filter(n=>b_(e,n))}notify(e){dt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return dt.batch(()=>Promise.all(e.map(n=>n.continue().catch(zt))))}},jr=new WeakMap,On=new WeakMap,Pc=new WeakMap,q0);function Ru(t){var e;return(e=t.options.scope)==null?void 0:e.id}var kr,Is,Zt,Dr,zr,id,tg,G0,O2=(G0=class extends Va{constructor(n,r){super();ee(this,zr);ee(this,kr);ee(this,Is);ee(this,Zt);ee(this,Dr);q(this,kr,n),this.setOptions(r),this.bindMethods(),pe(this,zr,id).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=O(this,kr).defaultMutationOptions(n),Hd(this.options,r)||O(this,kr).getMutationCache().notify({type:"observerOptionsUpdated",mutation:O(this,Zt),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&qi(r.mutationKey)!==qi(this.options.mutationKey)?this.reset():((s=O(this,Zt))==null?void 0:s.state.status)==="pending"&&O(this,Zt).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=O(this,Zt))==null||n.removeObserver(this)}onMutationUpdate(n){pe(this,zr,id).call(this),pe(this,zr,tg).call(this,n)}getCurrentResult(){return O(this,Is)}reset(){var n;(n=O(this,Zt))==null||n.removeObserver(this),q(this,Zt,void 0),pe(this,zr,id).call(this),pe(this,zr,tg).call(this)}mutate(n,r){var s;return q(this,Dr,r),(s=O(this,Zt))==null||s.removeObserver(this),q(this,Zt,O(this,kr).getMutationCache().build(O(this,kr),this.options)),O(this,Zt).addObserver(this),O(this,Zt).execute(n)}},kr=new WeakMap,Is=new WeakMap,Zt=new WeakMap,Dr=new WeakMap,zr=new WeakSet,id=function(){var r;const n=((r=O(this,Zt))==null?void 0:r.state)??Rb();q(this,Is,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},tg=function(n){dt.batch(()=>{var r,s,i,o,l,c,d,h;if(O(this,Dr)&&this.hasListeners()){const f=O(this,Is).variables,p=O(this,Is).context,v={client:O(this,kr),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((s=(r=O(this,Dr)).onSuccess)==null||s.call(r,n.data,f,p,v),(o=(i=O(this,Dr)).onSettled)==null||o.call(i,n.data,null,f,p,v)):(n==null?void 0:n.type)==="error"&&((c=(l=O(this,Dr)).onError)==null||c.call(l,n.error,f,p,v),(h=(d=O(this,Dr)).onSettled)==null||h.call(d,void 0,n.error,f,p,v))}this.listeners.forEach(f=>{f(O(this,Is))})})},G0),or,K0,M2=(K0=class extends Va{constructor(e={}){super();ee(this,or);this.config=e,q(this,or,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Bv(s,n);let o=this.get(i);return o||(o=new N2({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){O(this,or).has(e.queryHash)||(O(this,or).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=O(this,or).get(e.queryHash);n&&(e.destroy(),n===e&&O(this,or).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){dt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return O(this,or).get(e)}getAll(){return[...O(this,or).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>S_(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>S_(e,r)):n}notify(e){dt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){dt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){dt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},or=new WeakMap,K0),Xe,Cs,Ns,la,ca,As,ua,da,Q0,L2=(Q0=class{constructor(t={}){ee(this,Xe);ee(this,Cs);ee(this,Ns);ee(this,la);ee(this,ca);ee(this,As);ee(this,ua);ee(this,da);q(this,Xe,t.queryCache||new M2),q(this,Cs,t.mutationCache||new D2),q(this,Ns,t.defaultOptions||{}),q(this,la,new Map),q(this,ca,new Map),q(this,As,0)}mount(){fu(this,As)._++,O(this,As)===1&&(q(this,ua,Hv.subscribe(async t=>{t&&(await this.resumePausedMutations(),O(this,Xe).onFocus())})),q(this,da,qd.subscribe(async t=>{t&&(await this.resumePausedMutations(),O(this,Xe).onOnline())})))}unmount(){var t,e;fu(this,As)._--,O(this,As)===0&&((t=O(this,ua))==null||t.call(this),q(this,ua,void 0),(e=O(this,da))==null||e.call(this),q(this,da,void 0))}isFetching(t){return O(this,Xe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return O(this,Cs).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=O(this,Xe).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=O(this,Xe).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime($s(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return O(this,Xe).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=O(this,Xe).get(r.queryHash),i=s==null?void 0:s.state.data,o=y2(e,i);if(o!==void 0)return O(this,Xe).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return dt.batch(()=>O(this,Xe).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=O(this,Xe).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=O(this,Xe);dt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=O(this,Xe);return dt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=dt.batch(()=>O(this,Xe).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(zt).catch(zt)}invalidateQueries(t,e={}){return dt.batch(()=>(O(this,Xe).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=dt.batch(()=>O(this,Xe).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(zt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(zt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=O(this,Xe).build(this,e);return n.isStaleByTime($s(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(zt).catch(zt)}fetchInfiniteQuery(t){return t.behavior=R_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(zt).catch(zt)}ensureInfiniteQueryData(t){return t.behavior=R_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return qd.isOnline()?O(this,Cs).resumePausedMutations():Promise.resolve()}getQueryCache(){return O(this,Xe)}getMutationCache(){return O(this,Cs)}getDefaultOptions(){return O(this,Ns)}setDefaultOptions(t){q(this,Ns,t)}setQueryDefaults(t,e){O(this,la).set(qi(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...O(this,la).values()],n={};return e.forEach(r=>{fc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){O(this,ca).set(qi(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...O(this,ca).values()],n={};return e.forEach(r=>{fc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...O(this,Ns).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Bv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Wv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...O(this,Ns).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){O(this,Xe).clear(),O(this,Cs).clear()}},Xe=new WeakMap,Cs=new WeakMap,Ns=new WeakMap,la=new WeakMap,ca=new WeakMap,As=new WeakMap,ua=new WeakMap,da=new WeakMap,Q0),jb=g.createContext(void 0),ai=t=>{const e=g.useContext(jb);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},V2=({client:t,children:e})=>(g.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),a.jsx(jb.Provider,{value:t,children:e})),kb=g.createContext(!1),F2=()=>g.useContext(kb);kb.Provider;function U2(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var $2=g.createContext(U2()),z2=()=>g.useContext($2),B2=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},W2=t=>{g.useEffect(()=>{t.clearReset()},[t])},H2=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||bb(n,[t.error,r])),q2=t=>{if(t.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},G2=(t,e)=>t.isLoading&&t.isFetching&&!e,K2=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,k_=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function Q2(t,e,n){var f,p,v,I,w;const r=F2(),s=z2(),i=ai(),o=i.defaultQueryOptions(t);(p=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||p.call(f,o),o._optimisticResults=r?"isRestoring":"optimistic",q2(o),B2(o,s),W2(s);const l=!i.getQueryCache().get(o.queryHash),[c]=g.useState(()=>new e(i,o)),d=c.getOptimisticResult(o),h=!r&&t.subscribed!==!1;if(g.useSyncExternalStore(g.useCallback(S=>{const E=h?c.subscribe(dt.batchCalls(S)):zt;return c.updateResult(),E},[c,h]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),g.useEffect(()=>{c.setOptions(o)},[o,c]),K2(o,d))throw k_(o,c,s);if(H2({result:d,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if((I=(v=i.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||I.call(v,o,d),o.experimental_prefetchInRender&&!Hi&&G2(d,r)){const S=l?k_(o,c,s):(w=i.getQueryCache().get(o.queryHash))==null?void 0:w.promise;S==null||S.catch(zt).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function Gt(t,e){return Q2(t,A2)}function nn(t,e){const n=ai(),[r]=g.useState(()=>new O2(n,t));g.useEffect(()=>{r.setOptions(t)},[r,t]);const s=g.useSyncExternalStore(g.useCallback(o=>r.subscribe(dt.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=g.useCallback((o,l)=>{r.mutate(o,l).catch(zt)},[r]);if(s.error&&bb(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}async function Db(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}async function wa(t,e,n){const r=await fetch(e,{method:t,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});return await Db(r),r}const Y2=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return await Db(n),await n.json()},X2=new L2({defaultOptions:{queries:{queryFn:Y2({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),J2=1,Z2=1e6;let wp=0;function eD(){return wp=(wp+1)%Number.MAX_SAFE_INTEGER,wp.toString()}const _p=new Map,D_=t=>{if(_p.has(t))return;const e=setTimeout(()=>{_p.delete(t),zl({type:"REMOVE_TOAST",toastId:t})},Z2);_p.set(t,e)},tD=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,J2)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?D_(n):t.toasts.forEach(r=>{D_(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},od=[];let ad={toasts:[]};function zl(t){ad=tD(ad,t),od.forEach(e=>{e(ad)})}function nD({...t}){const e=eD(),n=s=>zl({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>zl({type:"DISMISS_TOAST",toastId:e});return zl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Gv(){const[t,e]=g.useState(ad);return g.useEffect(()=>(od.push(e),()=>{const n=od.indexOf(e);n>-1&&od.splice(n,1)}),[t]),{...t,toast:nD,dismiss:n=>zl({type:"DISMISS_TOAST",toastId:n})}}function Z(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function O_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Ob(...t){return e=>{let n=!1;const r=t.map(s=>{const i=O_(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():O_(t[s],null)}}}}function Te(...t){return g.useCallback(Ob(...t),t)}function rD(t,e){const n=g.createContext(e),r=i=>{const{children:o,...l}=i,c=g.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function s(i){const o=g.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Qn(t,e=[]){let n=[];function r(i,o){const l=g.createContext(o),c=n.length;n=[...n,o];const d=f=>{var E;const{scope:p,children:v,...I}=f,w=((E=p==null?void 0:p[t])==null?void 0:E[c])||l,S=g.useMemo(()=>I,Object.values(I));return a.jsx(w.Provider,{value:S,children:v})};d.displayName=i+"Provider";function h(f,p){var w;const v=((w=p==null?void 0:p[t])==null?void 0:w[c])||l,I=g.useContext(v);if(I)return I;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,sD(s,...e)]}function sD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function _a(t){const e=oD(t),n=g.forwardRef((r,s)=>{const{children:i,...o}=r,l=g.Children.toArray(i),c=l.find(lD);if(c){const d=c.props.children,h=l.map(f=>f===c?g.Children.count(d)>1?g.Children.only(null):g.isValidElement(d)?d.props.children:null:f);return a.jsx(e,{...o,ref:s,children:g.isValidElement(d)?g.cloneElement(d,void 0,h):null})}return a.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var iD=_a("Slot");function oD(t){const e=g.forwardRef((n,r)=>{const{children:s,...i}=n;if(g.isValidElement(s)){const o=uD(s),l=cD(i,s.props);return s.type!==g.Fragment&&(l.ref=r?Ob(r,o):o),g.cloneElement(s,l)}return g.Children.count(s)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Mb=Symbol("radix.slottable");function aD(t){const e=({children:n})=>a.jsx(a.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=Mb,e}function lD(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Mb}function cD(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function uD(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Kv(t){const e=t+"CollectionProvider",[n,r]=Qn(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:S,children:E}=w,x=ds.useRef(null),b=ds.useRef(new Map).current;return a.jsx(s,{scope:S,itemMap:b,collectionRef:x,children:E})};o.displayName=e;const l=t+"CollectionSlot",c=_a(l),d=ds.forwardRef((w,S)=>{const{scope:E,children:x}=w,b=i(l,E),j=Te(S,b.collectionRef);return a.jsx(c,{ref:j,children:x})});d.displayName=l;const h=t+"CollectionItemSlot",f="data-radix-collection-item",p=_a(h),v=ds.forwardRef((w,S)=>{const{scope:E,children:x,...b}=w,j=ds.useRef(null),k=Te(S,j),M=i(h,E);return ds.useEffect(()=>(M.itemMap.set(j,{ref:j,...b}),()=>void M.itemMap.delete(j))),a.jsx(p,{[f]:"",ref:k,children:x})});v.displayName=h;function I(w){const S=i(t+"CollectionConsumer",w);return ds.useCallback(()=>{const x=S.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(S.itemMap.values()).sort((M,_)=>b.indexOf(M.ref.current)-b.indexOf(_.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:o,Slot:d,ItemSlot:v},I,r]}var dD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],se=dD.reduce((t,e)=>{const n=_a(`Primitive.${e}`),r=g.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Lb(t,e){t&&lo.flushSync(()=>t.dispatchEvent(e))}function it(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function hD(t,e=globalThis==null?void 0:globalThis.document){const n=it(t);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var fD="DismissableLayer",ng="dismissableLayer.update",pD="dismissableLayer.pointerDownOutside",mD="dismissableLayer.focusOutside",M_,Vb=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Lc=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=t,d=g.useContext(Vb),[h,f]=g.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=g.useState({}),I=Te(e,_=>f(_)),w=Array.from(d.layers),[S]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),E=w.indexOf(S),x=h?w.indexOf(h):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,j=x>=E,k=vD(_=>{const T=_.target,C=[...d.branches].some(A=>A.contains(T));!j||C||(s==null||s(_),o==null||o(_),_.defaultPrevented||l==null||l())},p),M=yD(_=>{const T=_.target;[...d.branches].some(A=>A.contains(T))||(i==null||i(_),o==null||o(_),_.defaultPrevented||l==null||l())},p);return hD(_=>{x===d.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},p),g.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(M_=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),L_(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=M_)}},[h,p,n,d]),g.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),L_())},[h,d]),g.useEffect(()=>{const _=()=>v({});return document.addEventListener(ng,_),()=>document.removeEventListener(ng,_)},[]),a.jsx(se.div,{...c,ref:I,style:{pointerEvents:b?j?"auto":"none":void 0,...t.style},onFocusCapture:Z(t.onFocusCapture,M.onFocusCapture),onBlurCapture:Z(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Z(t.onPointerDownCapture,k.onPointerDownCapture)})});Lc.displayName=fD;var gD="DismissableLayerBranch",Fb=g.forwardRef((t,e)=>{const n=g.useContext(Vb),r=g.useRef(null),s=Te(e,r);return g.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),a.jsx(se.div,{...t,ref:s})});Fb.displayName=gD;function vD(t,e=globalThis==null?void 0:globalThis.document){const n=it(t),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){Ub(pD,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function yD(t,e=globalThis==null?void 0:globalThis.document){const n=it(t),r=g.useRef(!1);return g.useEffect(()=>{const s=i=>{i.target&&!r.current&&Ub(mD,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function L_(){const t=new CustomEvent(ng);document.dispatchEvent(t)}function Ub(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Lb(s,i):s.dispatchEvent(i)}var xD=Lc,wD=Fb,nt=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},_D="Portal",Fh=g.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,i]=g.useState(!1);nt(()=>i(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Lk.createPortal(a.jsx(se.div,{...r,ref:e}),o):null});Fh.displayName=_D;function ED(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var Yn=t=>{const{present:e,children:n}=t,r=TD(e),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),i=Te(r.ref,SD(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:i}):null};Yn.displayName="Presence";function TD(t){const[e,n]=g.useState(),r=g.useRef(null),s=g.useRef(t),i=g.useRef("none"),o=t?"mounted":"unmounted",[l,c]=ED(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const d=ju(r.current);i.current=l==="mounted"?d:"none"},[l]),nt(()=>{const d=r.current,h=s.current;if(h!==t){const p=i.current,v=ju(d);t?c("MOUNT"):v==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&p!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),nt(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,f=v=>{const w=ju(r.current).includes(CSS.escape(v.animationName));if(v.target===e&&w&&(c("ANIMATION_END"),!s.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},p=v=>{v.target===e&&(i.current=ju(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function ju(t){return(t==null?void 0:t.animationName)||"none"}function SD(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var bD=Yg[" useInsertionEffect ".trim().toString()]||nt;function Gi({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=ID({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:s;{const h=g.useRef(t!==void 0);g.useEffect(()=>{const f=h.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const d=g.useCallback(h=>{var f;if(l){const p=CD(h)?h(t):h;p!==t&&((f=o.current)==null||f.call(o,p))}else i(h)},[l,t,i,o]);return[c,d]}function ID({defaultProp:t,onChange:e}){const[n,r]=g.useState(t),s=g.useRef(n),i=g.useRef(e);return bD(()=>{i.current=e},[e]),g.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function CD(t){return typeof t=="function"}var $b=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ND="VisuallyHidden",Uh=g.forwardRef((t,e)=>a.jsx(se.span,{...t,ref:e,style:{...$b,...t.style}}));Uh.displayName=ND;var AD=Uh,Qv="ToastProvider",[Yv,PD,RD]=Kv("Toast"),[zb]=Qn("Toast",[RD]),[jD,$h]=zb(Qv),Bb=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[l,c]=g.useState(null),[d,h]=g.useState(0),f=g.useRef(!1),p=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Qv}\`. Expected non-empty \`string\`.`),a.jsx(Yv.Provider,{scope:e,children:a.jsx(jD,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:g.useCallback(()=>h(v=>v+1),[]),onToastRemove:g.useCallback(()=>h(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};Bb.displayName=Qv;var Wb="ToastViewport",kD=["F8"],rg="toast.viewportPause",sg="toast.viewportResume",Hb=g.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=kD,label:s="Notifications ({hotkey})",...i}=t,o=$h(Wb,n),l=PD(n),c=g.useRef(null),d=g.useRef(null),h=g.useRef(null),f=g.useRef(null),p=Te(e,f,o.onViewportChange),v=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=o.toastCount>0;g.useEffect(()=>{const S=E=>{var b;r.length!==0&&r.every(j=>E[j]||E.code===j)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[r]),g.useEffect(()=>{const S=c.current,E=f.current;if(I&&S&&E){const x=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(rg);E.dispatchEvent(M),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(sg);E.dispatchEvent(M),o.isClosePausedRef.current=!1}},j=M=>{!S.contains(M.relatedTarget)&&b()},k=()=>{S.contains(document.activeElement)||b()};return S.addEventListener("focusin",x),S.addEventListener("focusout",j),S.addEventListener("pointermove",x),S.addEventListener("pointerleave",k),window.addEventListener("blur",x),window.addEventListener("focus",b),()=>{S.removeEventListener("focusin",x),S.removeEventListener("focusout",j),S.removeEventListener("pointermove",x),S.removeEventListener("pointerleave",k),window.removeEventListener("blur",x),window.removeEventListener("focus",b)}}},[I,o.isClosePausedRef]);const w=g.useCallback(({tabbingDirection:S})=>{const x=l().map(b=>{const j=b.ref.current,k=[j,...qD(j)];return S==="forwards"?k:k.reverse()});return(S==="forwards"?x.reverse():x).flat()},[l]);return g.useEffect(()=>{const S=f.current;if(S){const E=x=>{var k,M,_;const b=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!b){const T=document.activeElement,C=x.shiftKey;if(x.target===S&&C){(k=d.current)==null||k.focus();return}const D=w({tabbingDirection:C?"backwards":"forwards"}),R=D.findIndex(B=>B===T);Ep(D.slice(R+1))?x.preventDefault():C?(M=d.current)==null||M.focus():(_=h.current)==null||_.focus()}};return S.addEventListener("keydown",E),()=>S.removeEventListener("keydown",E)}},[l,w]),a.jsxs(wD,{ref:c,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:I?void 0:"none"},children:[I&&a.jsx(ig,{ref:d,onFocusFromOutsideViewport:()=>{const S=w({tabbingDirection:"forwards"});Ep(S)}}),a.jsx(Yv.Slot,{scope:n,children:a.jsx(se.ol,{tabIndex:-1,...i,ref:p})}),I&&a.jsx(ig,{ref:h,onFocusFromOutsideViewport:()=>{const S=w({tabbingDirection:"backwards"});Ep(S)}})]})});Hb.displayName=Wb;var qb="ToastFocusProxy",ig=g.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=$h(qb,n);return a.jsx(Uh,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&r()}})});ig.displayName=qb;var Vc="Toast",DD="toast.swipeStart",OD="toast.swipeMove",MD="toast.swipeCancel",LD="toast.swipeEnd",Gb=g.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[l,c]=Gi({prop:r,defaultProp:s??!0,onChange:i,caller:Vc});return a.jsx(Yn,{present:n||l,children:a.jsx(UD,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:it(t.onPause),onResume:it(t.onResume),onSwipeStart:Z(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Z(t.onSwipeMove,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Z(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Z(t.onSwipeEnd,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});Gb.displayName=Vc;var[VD,FD]=zb(Vc,{onClose(){}}),UD=g.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:v,...I}=t,w=$h(Vc,n),[S,E]=g.useState(null),x=Te(e,B=>E(B)),b=g.useRef(null),j=g.useRef(null),k=s||w.duration,M=g.useRef(0),_=g.useRef(k),T=g.useRef(0),{onToastAdd:C,onToastRemove:A}=w,P=it(()=>{var re;(S==null?void 0:S.contains(document.activeElement))&&((re=w.viewport)==null||re.focus()),o()}),D=g.useCallback(B=>{!B||B===1/0||(window.clearTimeout(T.current),M.current=new Date().getTime(),T.current=window.setTimeout(P,B))},[P]);g.useEffect(()=>{const B=w.viewport;if(B){const re=()=>{D(_.current),d==null||d()},Q=()=>{const le=new Date().getTime()-M.current;_.current=_.current-le,window.clearTimeout(T.current),c==null||c()};return B.addEventListener(rg,Q),B.addEventListener(sg,re),()=>{B.removeEventListener(rg,Q),B.removeEventListener(sg,re)}}},[w.viewport,k,c,d,D]),g.useEffect(()=>{i&&!w.isClosePausedRef.current&&D(k)},[i,k,w.isClosePausedRef,D]),g.useEffect(()=>(C(),()=>A()),[C,A]);const R=g.useMemo(()=>S?eI(S):null,[S]);return w.viewport?a.jsxs(a.Fragment,{children:[R&&a.jsx($D,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:R}),a.jsx(VD,{scope:n,onClose:P,children:lo.createPortal(a.jsx(Yv.ItemSlot,{scope:n,children:a.jsx(xD,{asChild:!0,onEscapeKeyDown:Z(l,()=>{w.isFocusedToastEscapeKeyDownRef.current||P(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(se.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":w.swipeDirection,...I,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Z(t.onKeyDown,B=>{B.key==="Escape"&&(l==null||l(B.nativeEvent),B.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:Z(t.onPointerDown,B=>{B.button===0&&(b.current={x:B.clientX,y:B.clientY})}),onPointerMove:Z(t.onPointerMove,B=>{if(!b.current)return;const re=B.clientX-b.current.x,Q=B.clientY-b.current.y,le=!!j.current,F=["left","right"].includes(w.swipeDirection),W=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,Y=F?W(0,re):0,ae=F?0:W(0,Q),Se=B.pointerType==="touch"?10:2,gt={x:Y,y:ae},ze={originalEvent:B,delta:gt};le?(j.current=gt,ku(OD,f,ze,{discrete:!1})):V_(gt,w.swipeDirection,Se)?(j.current=gt,ku(DD,h,ze,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(re)>Se||Math.abs(Q)>Se)&&(b.current=null)}),onPointerUp:Z(t.onPointerUp,B=>{const re=j.current,Q=B.target;if(Q.hasPointerCapture(B.pointerId)&&Q.releasePointerCapture(B.pointerId),j.current=null,b.current=null,re){const le=B.currentTarget,F={originalEvent:B,delta:re};V_(re,w.swipeDirection,w.swipeThreshold)?ku(LD,v,F,{discrete:!0}):ku(MD,p,F,{discrete:!0}),le.addEventListener("click",W=>W.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),$D=t=>{const{__scopeToast:e,children:n,...r}=t,s=$h(Vc,e),[i,o]=g.useState(!1),[l,c]=g.useState(!1);return WD(()=>o(!0)),g.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:a.jsx(Fh,{asChild:!0,children:a.jsx(Uh,{...r,children:i&&a.jsxs(a.Fragment,{children:[s.label," ",n]})})})},zD="ToastTitle",Kb=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx(se.div,{...r,ref:e})});Kb.displayName=zD;var BD="ToastDescription",Qb=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx(se.div,{...r,ref:e})});Qb.displayName=BD;var Yb="ToastAction",Xb=g.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?a.jsx(Zb,{altText:n,asChild:!0,children:a.jsx(Xv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Yb}\`. Expected non-empty \`string\`.`),null)});Xb.displayName=Yb;var Jb="ToastClose",Xv=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=FD(Jb,n);return a.jsx(Zb,{asChild:!0,children:a.jsx(se.button,{type:"button",...r,ref:e,onClick:Z(t.onClick,s.onClose)})})});Xv.displayName=Jb;var Zb=g.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return a.jsx(se.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function eI(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),HD(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...eI(r))}}),e}function ku(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Lb(s,i):s.dispatchEvent(i)}var V_=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function WD(t=()=>{}){const e=it(t);nt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function HD(t){return t.nodeType===t.ELEMENT_NODE}function qD(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Ep(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var GD=Bb,tI=Hb,nI=Gb,rI=Kb,sI=Qb,iI=Xb,oI=Xv;function aI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=aI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function lI(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=aI(t))&&(r&&(r+=" "),r+=e);return r}const F_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,U_=lI,Fc=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return U_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const h=n==null?void 0:n[d],f=i==null?void 0:i[d];if(h===null)return null;const p=F_(h)||F_(f);return s[d][p]}),l=n&&Object.entries(n).reduce((d,h)=>{let[f,p]=h;return p===void 0||(d[f]=p),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:f,className:p,...v}=h;return Object.entries(v).every(I=>{let[w,S]=I;return Array.isArray(S)?S.includes({...i,...l}[w]):{...i,...l}[w]===S})?[...d,f,p]:d},[]);return U_(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cI=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},c)=>g.createElement("svg",{ref:c,...QD,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:cI("lucide",s),...l},[...o.map(([d,h])=>g.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=(t,e)=>{const n=g.forwardRef(({className:r,...s},i)=>g.createElement(YD,{ref:i,iconNode:e,className:cI(`lucide-${KD(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=Uc("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=Uc("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=Uc("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=Uc("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=Uc("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Jv="-",eO=t=>{const e=nO(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(Jv);return l[0]===""&&l.length!==1&&l.shift(),hI(l,e)||tO(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},hI=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?hI(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Jv);return(o=e.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},$_=/^\[(.+)\]$/,tO=t=>{if($_.test(t)){const e=$_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},nO=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return sO(Object.entries(t.classGroups),n).forEach(([i,o])=>{og(o,r,i,e)}),r},og=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:z_(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(rO(s)){og(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{og(o,z_(e,i),n,r)})})},z_=(t,e)=>{let n=t;return e.split(Jv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},rO=t=>t.isThemeGetter,sO=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[e+o,l])):i);return[n,s]}):t,iO=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},fI="!",oO=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=l=>{const c=[];let d=0,h=0,f;for(let S=0;S<l.length;S++){let E=l[S];if(d===0){if(E===s&&(r||l.slice(S,S+i)===e)){c.push(l.slice(h,S)),h=S+i;continue}if(E==="/"){f=S;continue}}E==="["?d++:E==="]"&&d--}const p=c.length===0?l:l.substring(h),v=p.startsWith(fI),I=v?p.substring(1):p,w=f&&f>h?f-h:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:I,maybePostfixModifierPosition:w}};return n?l=>n({className:l,parseClassName:o}):o},aO=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},lO=t=>({cache:iO(t.cacheSize),parseClassName:oO(t),...eO(t)}),cO=/\s+/,uO=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(cO);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:h,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:v}=n(d);let I=!!v,w=r(I?p.substring(0,v):p);if(!w){if(!I){l=d+(l.length>0?" "+l:l);continue}if(w=r(p),!w){l=d+(l.length>0?" "+l:l);continue}I=!1}const S=aO(h).join(":"),E=f?S+fI:S,x=E+w;if(i.includes(x))continue;i.push(x);const b=s(w,I);for(let j=0;j<b.length;++j){const k=b[j];i.push(E+k)}l=d+(l.length>0?" "+l:l)}return l};function dO(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=pI(e))&&(r&&(r+=" "),r+=n);return r}const pI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=pI(t[r]))&&(n&&(n+=" "),n+=e);return n};function hO(t,...e){let n,r,s,i=o;function o(c){const d=e.reduce((h,f)=>f(h),t());return n=lO(d),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const d=r(c);if(d)return d;const h=uO(c,n);return s(c,h),h}return function(){return i(dO.apply(null,arguments))}}const Le=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},mI=/^\[(?:([a-z-]+):)?(.+)\]$/i,fO=/^\d+\/\d+$/,pO=new Set(["px","full","screen"]),mO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,gO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,vO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,yO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,xO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Cr=t=>Wo(t)||pO.has(t)||fO.test(t),ls=t=>Fa(t,"length",CO),Wo=t=>!!t&&!Number.isNaN(Number(t)),Tp=t=>Fa(t,"number",Wo),wl=t=>!!t&&Number.isInteger(Number(t)),wO=t=>t.endsWith("%")&&Wo(t.slice(0,-1)),he=t=>mI.test(t),cs=t=>mO.test(t),_O=new Set(["length","size","percentage"]),EO=t=>Fa(t,_O,gI),TO=t=>Fa(t,"position",gI),SO=new Set(["image","url"]),bO=t=>Fa(t,SO,AO),IO=t=>Fa(t,"",NO),_l=()=>!0,Fa=(t,e,n)=>{const r=mI.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},CO=t=>gO.test(t)&&!vO.test(t),gI=()=>!1,NO=t=>yO.test(t),AO=t=>xO.test(t),PO=()=>{const t=Le("colors"),e=Le("spacing"),n=Le("blur"),r=Le("brightness"),s=Le("borderColor"),i=Le("borderRadius"),o=Le("borderSpacing"),l=Le("borderWidth"),c=Le("contrast"),d=Le("grayscale"),h=Le("hueRotate"),f=Le("invert"),p=Le("gap"),v=Le("gradientColorStops"),I=Le("gradientColorStopPositions"),w=Le("inset"),S=Le("margin"),E=Le("opacity"),x=Le("padding"),b=Le("saturate"),j=Le("scale"),k=Le("sepia"),M=Le("skew"),_=Le("space"),T=Le("translate"),C=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",he,e],D=()=>[he,e],R=()=>["",Cr,ls],B=()=>["auto",Wo,he],re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Q=()=>["solid","dashed","dotted","double","none"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],W=()=>["","0",he],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ae=()=>[Wo,he];return{cacheSize:500,separator:":",theme:{colors:[_l],spacing:[Cr,ls],blur:["none","",cs,he],brightness:ae(),borderColor:[t],borderRadius:["none","","full",cs,he],borderSpacing:D(),borderWidth:R(),contrast:ae(),grayscale:W(),hueRotate:ae(),invert:W(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[wO,ls],inset:P(),margin:P(),opacity:ae(),padding:D(),saturate:ae(),scale:ae(),sepia:W(),skew:ae(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",he]}],container:["container"],columns:[{columns:[cs]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...re(),he]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",wl,he]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",he]}],grow:[{grow:W()}],shrink:[{shrink:W()}],order:[{order:["first","last","none",wl,he]}],"grid-cols":[{"grid-cols":[_l]}],"col-start-end":[{col:["auto",{span:["full",wl,he]},he]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[_l]}],"row-start-end":[{row:["auto",{span:[wl,he]},he]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",he]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",he]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",he,e]}],"min-w":[{"min-w":[he,e,"min","max","fit"]}],"max-w":[{"max-w":[he,e,"none","full","min","max","fit","prose",{screen:[cs]},cs]}],h:[{h:[he,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[he,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[he,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[he,e,"auto","min","max","fit"]}],"font-size":[{text:["base",cs,ls]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Tp]}],"font-family":[{font:[_l]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",he]}],"line-clamp":[{"line-clamp":["none",Wo,Tp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Cr,he]}],"list-image":[{"list-image":["none",he]}],"list-style-type":[{list:["none","disc","decimal",he]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Cr,ls]}],"underline-offset":[{"underline-offset":["auto",Cr,he]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",he]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",he]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...re(),TO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",EO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},bO]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[I]}],"gradient-via-pos":[{via:[I]}],"gradient-to-pos":[{to:[I]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...Q(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:Q()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Q()]}],"outline-offset":[{"outline-offset":[Cr,he]}],"outline-w":[{outline:[Cr,ls]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[Cr,ls]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",cs,IO]}],"shadow-color":[{shadow:[_l]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...le(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":le()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",cs,he]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",he]}],duration:[{duration:ae()}],ease:[{ease:["linear","in","out","in-out",he]}],delay:[{delay:ae()}],animate:[{animate:["none","spin","ping","pulse","bounce",he]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[wl,he]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",he]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",he]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",he]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Cr,ls,Tp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},RO=hO(PO);function ue(...t){return RO(lI(t))}const jO=GD,vI=g.forwardRef(({className:t,...e},n)=>a.jsx(tI,{ref:n,className:ue("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));vI.displayName=tI.displayName;const kO=Fc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),yI=g.forwardRef(({className:t,variant:e,...n},r)=>a.jsx(nI,{ref:r,className:ue(kO({variant:e}),t),...n}));yI.displayName=nI.displayName;const DO=g.forwardRef(({className:t,...e},n)=>a.jsx(iI,{ref:n,className:ue("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));DO.displayName=iI.displayName;const xI=g.forwardRef(({className:t,...e},n)=>a.jsx(oI,{ref:n,className:ue("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:a.jsx(dI,{className:"h-4 w-4"})}));xI.displayName=oI.displayName;const wI=g.forwardRef(({className:t,...e},n)=>a.jsx(rI,{ref:n,className:ue("text-sm font-semibold",t),...e}));wI.displayName=rI.displayName;const _I=g.forwardRef(({className:t,...e},n)=>a.jsx(sI,{ref:n,className:ue("text-sm opacity-90",t),...e}));_I.displayName=sI.displayName;function OO(){const{toasts:t}=Gv();return a.jsxs(jO,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return a.jsxs(yI,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(wI,{children:n}),r&&a.jsx(_I,{children:r})]}),s,a.jsx(xI,{})]},e)}),a.jsx(vI,{})]})}var MO=Yg[" useId ".trim().toString()]||(()=>{}),LO=0;function $r(t){const[e,n]=g.useState(MO());return nt(()=>{n(r=>r??String(LO++))},[t]),e?`radix-${e}`:""}const VO=["top","right","bottom","left"],Qs=Math.min,hn=Math.max,Gd=Math.round,Du=Math.floor,hr=t=>({x:t,y:t}),FO={left:"right",right:"left",bottom:"top",top:"bottom"},UO={start:"end",end:"start"};function ag(t,e,n){return hn(t,Qs(e,n))}function Gr(t,e){return typeof t=="function"?t(e):t}function Kr(t){return t.split("-")[0]}function Ua(t){return t.split("-")[1]}function Zv(t){return t==="x"?"y":"x"}function ey(t){return t==="y"?"height":"width"}const $O=new Set(["top","bottom"]);function cr(t){return $O.has(Kr(t))?"y":"x"}function ty(t){return Zv(cr(t))}function zO(t,e,n){n===void 0&&(n=!1);const r=Ua(t),s=ty(t),i=ey(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Kd(o)),[o,Kd(o)]}function BO(t){const e=Kd(t);return[lg(t),e,lg(e)]}function lg(t){return t.replace(/start|end/g,e=>UO[e])}const B_=["left","right"],W_=["right","left"],WO=["top","bottom"],HO=["bottom","top"];function qO(t,e,n){switch(t){case"top":case"bottom":return n?e?W_:B_:e?B_:W_;case"left":case"right":return e?WO:HO;default:return[]}}function GO(t,e,n,r){const s=Ua(t);let i=qO(Kr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(lg)))),i}function Kd(t){return t.replace(/left|right|bottom|top/g,e=>FO[e])}function KO(t){return{top:0,right:0,bottom:0,left:0,...t}}function EI(t){return typeof t!="number"?KO(t):{top:t,right:t,bottom:t,left:t}}function Qd(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function H_(t,e,n){let{reference:r,floating:s}=t;const i=cr(e),o=ty(e),l=ey(o),c=Kr(e),d=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[l]/2-s[l]/2;let v;switch(c){case"top":v={x:h,y:r.y-s.height};break;case"bottom":v={x:h,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:f};break;case"left":v={x:r.x-s.width,y:f};break;default:v={x:r.x,y:r.y}}switch(Ua(e)){case"start":v[o]-=p*(n&&d?-1:1);break;case"end":v[o]+=p*(n&&d?-1:1);break}return v}const QO=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=H_(d,r,c),p=r,v={},I=0;for(let w=0;w<l.length;w++){const{name:S,fn:E}=l[w],{x,y:b,data:j,reset:k}=await E({x:h,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:v,rects:d,platform:o,elements:{reference:t,floating:e}});h=x??h,f=b??f,v={...v,[S]:{...v[S],...j}},k&&I<=50&&(I++,typeof k=="object"&&(k.placement&&(p=k.placement),k.rects&&(d=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):k.rects),{x:h,y:f}=H_(d,p,c)),w=-1)}return{x:h,y:f,placement:p,strategy:s,middlewareData:v}};async function pc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:v=0}=Gr(e,t),I=EI(v),S=l[p?f==="floating"?"reference":"floating":f],E=Qd(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(S)))==null||n?S:S.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:c})),x=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},k=Qd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:b,strategy:c}):x);return{top:(E.top-k.top+I.top)/j.y,bottom:(k.bottom-E.bottom+I.bottom)/j.y,left:(E.left-k.left+I.left)/j.x,right:(k.right-E.right+I.right)/j.x}}const YO=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:h=0}=Gr(t,e)||{};if(d==null)return{};const f=EI(h),p={x:n,y:r},v=ty(s),I=ey(v),w=await o.getDimensions(d),S=v==="y",E=S?"top":"left",x=S?"bottom":"right",b=S?"clientHeight":"clientWidth",j=i.reference[I]+i.reference[v]-p[v]-i.floating[I],k=p[v]-i.reference[v],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let _=M?M[b]:0;(!_||!await(o.isElement==null?void 0:o.isElement(M)))&&(_=l.floating[b]||i.floating[I]);const T=j/2-k/2,C=_/2-w[I]/2-1,A=Qs(f[E],C),P=Qs(f[x],C),D=A,R=_-w[I]-P,B=_/2-w[I]/2+T,re=ag(D,B,R),Q=!c.arrow&&Ua(s)!=null&&B!==re&&i.reference[I]/2-(B<D?A:P)-w[I]/2<0,le=Q?B<D?B-D:B-R:0;return{[v]:p[v]+le,data:{[v]:re,centerOffset:B-re-le,...Q&&{alignmentOffset:le}},reset:Q}}}),XO=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:I="none",flipAlignment:w=!0,...S}=Gr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const E=Kr(s),x=cr(l),b=Kr(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(d.floating)),k=p||(b||!w?[Kd(l)]:BO(l)),M=I!=="none";!p&&M&&k.push(...GO(l,w,I,j));const _=[l,...k],T=await pc(e,S),C=[];let A=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&C.push(T[E]),f){const B=zO(s,o,j);C.push(T[B[0]],T[B[1]])}if(A=[...A,{placement:s,overflows:C}],!C.every(B=>B<=0)){var P,D;const B=(((P=i.flip)==null?void 0:P.index)||0)+1,re=_[B];if(re&&(!(f==="alignment"?x!==cr(re):!1)||A.every(F=>cr(F.placement)===x?F.overflows[0]>0:!0)))return{data:{index:B,overflows:A},reset:{placement:re}};let Q=(D=A.filter(le=>le.overflows[0]<=0).sort((le,F)=>le.overflows[1]-F.overflows[1])[0])==null?void 0:D.placement;if(!Q)switch(v){case"bestFit":{var R;const le=(R=A.filter(F=>{if(M){const W=cr(F.placement);return W===x||W==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(W=>W>0).reduce((W,Y)=>W+Y,0)]).sort((F,W)=>F[1]-W[1])[0])==null?void 0:R[0];le&&(Q=le);break}case"initialPlacement":Q=l;break}if(s!==Q)return{reset:{placement:Q}}}return{}}}};function q_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function G_(t){return VO.some(e=>t[e]>=0)}const JO=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Gr(t,e);switch(r){case"referenceHidden":{const i=await pc(e,{...s,elementContext:"reference"}),o=q_(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:G_(o)}}}case"escaped":{const i=await pc(e,{...s,altBoundary:!0}),o=q_(i,n.floating);return{data:{escapedOffsets:o,escaped:G_(o)}}}default:return{}}}}},TI=new Set(["left","top"]);async function ZO(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Kr(n),l=Ua(n),c=cr(n)==="y",d=TI.has(o)?-1:1,h=i&&c?-1:1,f=Gr(e,t);let{mainAxis:p,crossAxis:v,alignmentAxis:I}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof I=="number"&&(v=l==="end"?I*-1:I),c?{x:v*h,y:p*d}:{x:p*d,y:v*h}}const eM=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:l}=e,c=await ZO(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},tM=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:S=>{let{x:E,y:x}=S;return{x:E,y:x}}},...c}=Gr(t,e),d={x:n,y:r},h=await pc(e,c),f=cr(Kr(s)),p=Zv(f);let v=d[p],I=d[f];if(i){const S=p==="y"?"top":"left",E=p==="y"?"bottom":"right",x=v+h[S],b=v-h[E];v=ag(x,v,b)}if(o){const S=f==="y"?"top":"left",E=f==="y"?"bottom":"right",x=I+h[S],b=I-h[E];I=ag(x,I,b)}const w=l.fn({...e,[p]:v,[f]:I});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[p]:i,[f]:o}}}}}},nM=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Gr(t,e),h={x:n,y:r},f=cr(s),p=Zv(f);let v=h[p],I=h[f];const w=Gr(l,e),S=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(c){const b=p==="y"?"height":"width",j=i.reference[p]-i.floating[b]+S.mainAxis,k=i.reference[p]+i.reference[b]-S.mainAxis;v<j?v=j:v>k&&(v=k)}if(d){var E,x;const b=p==="y"?"width":"height",j=TI.has(Kr(s)),k=i.reference[f]-i.floating[b]+(j&&((E=o.offset)==null?void 0:E[f])||0)+(j?0:S.crossAxis),M=i.reference[f]+i.reference[b]+(j?0:((x=o.offset)==null?void 0:x[f])||0)-(j?S.crossAxis:0);I<k?I=k:I>M&&(I=M)}return{[p]:v,[f]:I}}}},rM=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:l}=e,{apply:c=()=>{},...d}=Gr(t,e),h=await pc(e,d),f=Kr(s),p=Ua(s),v=cr(s)==="y",{width:I,height:w}=i.floating;let S,E;f==="top"||f==="bottom"?(S=f,E=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(E=f,S=p==="end"?"top":"bottom");const x=w-h.top-h.bottom,b=I-h.left-h.right,j=Qs(w-h[S],x),k=Qs(I-h[E],b),M=!e.middlewareData.shift;let _=j,T=k;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(_=x),M&&!p){const A=hn(h.left,0),P=hn(h.right,0),D=hn(h.top,0),R=hn(h.bottom,0);v?T=I-2*(A!==0||P!==0?A+P:hn(h.left,h.right)):_=w-2*(D!==0||R!==0?D+R:hn(h.top,h.bottom))}await c({...e,availableWidth:T,availableHeight:_});const C=await o.getDimensions(l.floating);return I!==C.width||w!==C.height?{reset:{rects:!0}}:{}}}};function zh(){return typeof window<"u"}function $a(t){return SI(t)?(t.nodeName||"").toLowerCase():"#document"}function gn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Tr(t){var e;return(e=(SI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function SI(t){return zh()?t instanceof Node||t instanceof gn(t).Node:!1}function qn(t){return zh()?t instanceof Element||t instanceof gn(t).Element:!1}function xr(t){return zh()?t instanceof HTMLElement||t instanceof gn(t).HTMLElement:!1}function K_(t){return!zh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof gn(t).ShadowRoot}const sM=new Set(["inline","contents"]);function $c(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Gn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!sM.has(s)}const iM=new Set(["table","td","th"]);function oM(t){return iM.has($a(t))}const aM=[":popover-open",":modal"];function Bh(t){return aM.some(e=>{try{return t.matches(e)}catch{return!1}})}const lM=["transform","translate","scale","rotate","perspective"],cM=["transform","translate","scale","rotate","perspective","filter"],uM=["paint","layout","strict","content"];function ny(t){const e=ry(),n=qn(t)?Gn(t):t;return lM.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||cM.some(r=>(n.willChange||"").includes(r))||uM.some(r=>(n.contain||"").includes(r))}function dM(t){let e=Ys(t);for(;xr(e)&&!Ea(e);){if(ny(e))return e;if(Bh(e))return null;e=Ys(e)}return null}function ry(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const hM=new Set(["html","body","#document"]);function Ea(t){return hM.has($a(t))}function Gn(t){return gn(t).getComputedStyle(t)}function Wh(t){return qn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ys(t){if($a(t)==="html")return t;const e=t.assignedSlot||t.parentNode||K_(t)&&t.host||Tr(t);return K_(e)?e.host:e}function bI(t){const e=Ys(t);return Ea(e)?t.ownerDocument?t.ownerDocument.body:t.body:xr(e)&&$c(e)?e:bI(e)}function mc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=bI(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=gn(s);if(i){const l=cg(o);return e.concat(o,o.visualViewport||[],$c(s)?s:[],l&&n?mc(l):[])}return e.concat(s,mc(s,[],n))}function cg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function II(t){const e=Gn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=xr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,l=Gd(n)!==i||Gd(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function sy(t){return qn(t)?t:t.contextElement}function Ho(t){const e=sy(t);if(!xr(e))return hr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=II(e);let o=(i?Gd(n.width):n.width)/r,l=(i?Gd(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const fM=hr(0);function CI(t){const e=gn(t);return!ry()||!e.visualViewport?fM:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function pM(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==gn(t)?!1:e}function Ki(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=sy(t);let o=hr(1);e&&(r?qn(r)&&(o=Ho(r)):o=Ho(t));const l=pM(i,n,r)?CI(i):hr(0);let c=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const p=gn(i),v=r&&qn(r)?gn(r):r;let I=p,w=cg(I);for(;w&&r&&v!==I;){const S=Ho(w),E=w.getBoundingClientRect(),x=Gn(w),b=E.left+(w.clientLeft+parseFloat(x.paddingLeft))*S.x,j=E.top+(w.clientTop+parseFloat(x.paddingTop))*S.y;c*=S.x,d*=S.y,h*=S.x,f*=S.y,c+=b,d+=j,I=gn(w),w=cg(I)}}return Qd({width:h,height:f,x:c,y:d})}function Hh(t,e){const n=Wh(t).scrollLeft;return e?e.left+n:Ki(Tr(t)).left+n}function NI(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Hh(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function mM(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Tr(r),l=e?Bh(e.floating):!1;if(r===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},d=hr(1);const h=hr(0),f=xr(r);if((f||!f&&!i)&&(($a(r)!=="body"||$c(o))&&(c=Wh(r)),xr(r))){const v=Ki(r);d=Ho(r),h.x=v.x+r.clientLeft,h.y=v.y+r.clientTop}const p=o&&!f&&!i?NI(o,c):hr(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+h.x+p.x,y:n.y*d.y-c.scrollTop*d.y+h.y+p.y}}function gM(t){return Array.from(t.getClientRects())}function vM(t){const e=Tr(t),n=Wh(t),r=t.ownerDocument.body,s=hn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=hn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Hh(t);const l=-n.scrollTop;return Gn(r).direction==="rtl"&&(o+=hn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:l}}const Q_=25;function yM(t,e){const n=gn(t),r=Tr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const h=ry();(!h||h&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const d=Hh(r);if(d<=0){const h=r.ownerDocument,f=h.body,p=getComputedStyle(f),v=h.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,I=Math.abs(r.clientWidth-f.clientWidth-v);I<=Q_&&(i-=I)}else d<=Q_&&(i+=d);return{width:i,height:o,x:l,y:c}}const xM=new Set(["absolute","fixed"]);function wM(t,e){const n=Ki(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=xr(t)?Ho(t):hr(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,c=s*i.x,d=r*i.y;return{width:o,height:l,x:c,y:d}}function Y_(t,e,n){let r;if(e==="viewport")r=yM(t,n);else if(e==="document")r=vM(Tr(t));else if(qn(e))r=wM(e,n);else{const s=CI(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Qd(r)}function AI(t,e){const n=Ys(t);return n===e||!qn(n)||Ea(n)?!1:Gn(n).position==="fixed"||AI(n,e)}function _M(t,e){const n=e.get(t);if(n)return n;let r=mc(t,[],!1).filter(l=>qn(l)&&$a(l)!=="body"),s=null;const i=Gn(t).position==="fixed";let o=i?Ys(t):t;for(;qn(o)&&!Ea(o);){const l=Gn(o),c=ny(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&xM.has(s.position)||$c(o)&&!c&&AI(t,o))?r=r.filter(h=>h!==o):s=l,o=Ys(o)}return e.set(t,r),r}function EM(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Bh(e)?[]:_M(e,this._c):[].concat(n),r],l=o[0],c=o.reduce((d,h)=>{const f=Y_(e,h,s);return d.top=hn(f.top,d.top),d.right=Qs(f.right,d.right),d.bottom=Qs(f.bottom,d.bottom),d.left=hn(f.left,d.left),d},Y_(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function TM(t){const{width:e,height:n}=II(t);return{width:e,height:n}}function SM(t,e,n){const r=xr(e),s=Tr(e),i=n==="fixed",o=Ki(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=hr(0);function d(){c.x=Hh(s)}if(r||!r&&!i)if(($a(e)!=="body"||$c(s))&&(l=Wh(e)),r){const v=Ki(e,!0,i,e);c.x=v.x+e.clientLeft,c.y=v.y+e.clientTop}else s&&d();i&&!r&&s&&d();const h=s&&!r&&!i?NI(s,l):hr(0),f=o.left+l.scrollLeft-c.x-h.x,p=o.top+l.scrollTop-c.y-h.y;return{x:f,y:p,width:o.width,height:o.height}}function Sp(t){return Gn(t).position==="static"}function X_(t,e){if(!xr(t)||Gn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Tr(t)===n&&(n=n.ownerDocument.body),n}function PI(t,e){const n=gn(t);if(Bh(t))return n;if(!xr(t)){let s=Ys(t);for(;s&&!Ea(s);){if(qn(s)&&!Sp(s))return s;s=Ys(s)}return n}let r=X_(t,e);for(;r&&oM(r)&&Sp(r);)r=X_(r,e);return r&&Ea(r)&&Sp(r)&&!ny(r)?n:r||dM(t)||n}const bM=async function(t){const e=this.getOffsetParent||PI,n=this.getDimensions,r=await n(t.floating);return{reference:SM(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function IM(t){return Gn(t).direction==="rtl"}const CM={convertOffsetParentRelativeRectToViewportRelativeRect:mM,getDocumentElement:Tr,getClippingRect:EM,getOffsetParent:PI,getElementRects:bM,getClientRects:gM,getDimensions:TM,getScale:Ho,isElement:qn,isRTL:IM};function RI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function NM(t,e){let n=null,r;const s=Tr(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=t.getBoundingClientRect(),{left:h,top:f,width:p,height:v}=d;if(l||e(),!p||!v)return;const I=Du(f),w=Du(s.clientWidth-(h+p)),S=Du(s.clientHeight-(f+v)),E=Du(h),b={rootMargin:-I+"px "+-w+"px "+-S+"px "+-E+"px",threshold:hn(0,Qs(1,c))||1};let j=!0;function k(M){const _=M[0].intersectionRatio;if(_!==c){if(!j)return o();_?o(!1,_):r=setTimeout(()=>{o(!1,1e-7)},1e3)}_===1&&!RI(d,t.getBoundingClientRect())&&o(),j=!1}try{n=new IntersectionObserver(k,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(k,b)}n.observe(t)}return o(!0),i}function AM(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=sy(t),h=s||i?[...d?mc(d):[],...mc(e)]:[];h.forEach(E=>{s&&E.addEventListener("scroll",n,{passive:!0}),i&&E.addEventListener("resize",n)});const f=d&&l?NM(d,n):null;let p=-1,v=null;o&&(v=new ResizeObserver(E=>{let[x]=E;x&&x.target===d&&v&&(v.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=v)==null||b.observe(e)})),n()}),d&&!c&&v.observe(d),v.observe(e));let I,w=c?Ki(t):null;c&&S();function S(){const E=Ki(t);w&&!RI(w,E)&&n(),w=E,I=requestAnimationFrame(S)}return n(),()=>{var E;h.forEach(x=>{s&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),f==null||f(),(E=v)==null||E.disconnect(),v=null,c&&cancelAnimationFrame(I)}}const PM=eM,RM=tM,jM=XO,kM=rM,DM=JO,J_=YO,OM=nM,MM=(t,e,n)=>{const r=new Map,s={platform:CM,...n},i={...s.platform,_c:r};return QO(t,e,{...s,platform:i})};var LM=typeof document<"u",VM=function(){},ld=LM?g.useLayoutEffect:VM;function Yd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Yd(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Yd(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function jI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Z_(t,e){const n=jI(t);return Math.round(e*n)/n}function bp(t){const e=g.useRef(t);return ld(()=>{e.current=t}),e}function FM(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[h,f]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,v]=g.useState(r);Yd(p,r)||v(r);const[I,w]=g.useState(null),[S,E]=g.useState(null),x=g.useCallback(F=>{F!==M.current&&(M.current=F,w(F))},[]),b=g.useCallback(F=>{F!==_.current&&(_.current=F,E(F))},[]),j=i||I,k=o||S,M=g.useRef(null),_=g.useRef(null),T=g.useRef(h),C=c!=null,A=bp(c),P=bp(s),D=bp(d),R=g.useCallback(()=>{if(!M.current||!_.current)return;const F={placement:e,strategy:n,middleware:p};P.current&&(F.platform=P.current),MM(M.current,_.current,F).then(W=>{const Y={...W,isPositioned:D.current!==!1};B.current&&!Yd(T.current,Y)&&(T.current=Y,lo.flushSync(()=>{f(Y)}))})},[p,e,n,P,D]);ld(()=>{d===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[d]);const B=g.useRef(!1);ld(()=>(B.current=!0,()=>{B.current=!1}),[]),ld(()=>{if(j&&(M.current=j),k&&(_.current=k),j&&k){if(A.current)return A.current(j,k,R);R()}},[j,k,R,A,C]);const re=g.useMemo(()=>({reference:M,floating:_,setReference:x,setFloating:b}),[x,b]),Q=g.useMemo(()=>({reference:j,floating:k}),[j,k]),le=g.useMemo(()=>{const F={position:n,left:0,top:0};if(!Q.floating)return F;const W=Z_(Q.floating,h.x),Y=Z_(Q.floating,h.y);return l?{...F,transform:"translate("+W+"px, "+Y+"px)",...jI(Q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:Y}},[n,l,Q.floating,h.x,h.y]);return g.useMemo(()=>({...h,update:R,refs:re,elements:Q,floatingStyles:le}),[h,R,re,Q,le])}const UM=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?J_({element:r.current,padding:s}).fn(n):{}:r?J_({element:r,padding:s}).fn(n):{}}}},$M=(t,e)=>({...PM(t),options:[t,e]}),zM=(t,e)=>({...RM(t),options:[t,e]}),BM=(t,e)=>({...OM(t),options:[t,e]}),WM=(t,e)=>({...jM(t),options:[t,e]}),HM=(t,e)=>({...kM(t),options:[t,e]}),qM=(t,e)=>({...DM(t),options:[t,e]}),GM=(t,e)=>({...UM(t),options:[t,e]});var KM="Arrow",kI=g.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return a.jsx(se.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});kI.displayName=KM;var QM=kI;function YM(t){const[e,n]=g.useState(void 0);return nt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var iy="Popper",[DI,qh]=Qn(iy),[XM,OI]=DI(iy),MI=t=>{const{__scopePopper:e,children:n}=t,[r,s]=g.useState(null);return a.jsx(XM,{scope:e,anchor:r,onAnchorChange:s,children:n})};MI.displayName=iy;var LI="PopperAnchor",VI=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=OI(LI,n),o=g.useRef(null),l=Te(e,o),c=g.useRef(null);return g.useEffect(()=>{const d=c.current;c.current=(r==null?void 0:r.current)||o.current,d!==c.current&&i.onAnchorChange(c.current)}),r?null:a.jsx(se.div,{...s,ref:l})});VI.displayName=LI;var oy="PopperContent",[JM,ZM]=DI(oy),FI=g.forwardRef((t,e)=>{var te,Pe,lt,je,Ce,be;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:v="optimized",onPlaced:I,...w}=t,S=OI(oy,n),[E,x]=g.useState(null),b=Te(e,Et=>x(Et)),[j,k]=g.useState(null),M=YM(j),_=(M==null?void 0:M.width)??0,T=(M==null?void 0:M.height)??0,C=r+(i!=="center"?"-"+i:""),A=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},P=Array.isArray(d)?d:[d],D=P.length>0,R={padding:A,boundary:P.filter(tL),altBoundary:D},{refs:B,floatingStyles:re,placement:Q,isPositioned:le,middlewareData:F}=FM({strategy:"fixed",placement:C,whileElementsMounted:(...Et)=>AM(...Et,{animationFrame:v==="always"}),elements:{reference:S.anchor},middleware:[$M({mainAxis:s+T,alignmentAxis:o}),c&&zM({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?BM():void 0,...R}),c&&WM({...R}),HM({...R,apply:({elements:Et,rects:cn,availableWidth:hi,availableHeight:br})=>{const{width:Ir,height:eu}=cn.reference,Ze=Et.floating.style;Ze.setProperty("--radix-popper-available-width",`${hi}px`),Ze.setProperty("--radix-popper-available-height",`${br}px`),Ze.setProperty("--radix-popper-anchor-width",`${Ir}px`),Ze.setProperty("--radix-popper-anchor-height",`${eu}px`)}}),j&&GM({element:j,padding:l}),nL({arrowWidth:_,arrowHeight:T}),p&&qM({strategy:"referenceHidden",...R})]}),[W,Y]=zI(Q),ae=it(I);nt(()=>{le&&(ae==null||ae())},[le,ae]);const Se=(te=F.arrow)==null?void 0:te.x,gt=(Pe=F.arrow)==null?void 0:Pe.y,ze=((lt=F.arrow)==null?void 0:lt.centerOffset)!==0,[Xt,at]=g.useState();return nt(()=>{E&&at(window.getComputedStyle(E).zIndex)},[E]),a.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:le?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Xt,"--radix-popper-transform-origin":[(je=F.transformOrigin)==null?void 0:je.x,(Ce=F.transformOrigin)==null?void 0:Ce.y].join(" "),...((be=F.hide)==null?void 0:be.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(JM,{scope:n,placedSide:W,onArrowChange:k,arrowX:Se,arrowY:gt,shouldHideArrow:ze,children:a.jsx(se.div,{"data-side":W,"data-align":Y,...w,ref:b,style:{...w.style,animation:le?void 0:"none"}})})})});FI.displayName=oy;var UI="PopperArrow",eL={top:"bottom",right:"left",bottom:"top",left:"right"},$I=g.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=ZM(UI,r),o=eL[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(QM,{...s,ref:n,style:{...s.style,display:"block"}})})});$I.displayName=UI;function tL(t){return t!==null}var nL=t=>({name:"transformOrigin",options:t,fn(e){var S,E,x;const{placement:n,rects:r,middlewareData:s}=e,o=((S=s.arrow)==null?void 0:S.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,h]=zI(n),f={start:"0%",center:"50%",end:"100%"}[h],p=(((E=s.arrow)==null?void 0:E.x)??0)+l/2,v=(((x=s.arrow)==null?void 0:x.y)??0)+c/2;let I="",w="";return d==="bottom"?(I=o?f:`${p}px`,w=`${-c}px`):d==="top"?(I=o?f:`${p}px`,w=`${r.floating.height+c}px`):d==="right"?(I=`${-c}px`,w=o?f:`${v}px`):d==="left"&&(I=`${r.floating.width+c}px`,w=o?f:`${v}px`),{data:{x:I,y:w}}}});function zI(t){const[e,n="center"]=t.split("-");return[e,n]}var BI=MI,WI=VI,HI=FI,qI=$I,[Gh]=Qn("Tooltip",[qh]),Kh=qh(),GI="TooltipProvider",rL=700,ug="tooltip.open",[sL,ay]=Gh(GI),KI=t=>{const{__scopeTooltip:e,delayDuration:n=rL,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=g.useRef(!0),l=g.useRef(!1),c=g.useRef(0);return g.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),a.jsx(sL,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:g.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:i})};KI.displayName=GI;var gc="Tooltip",[iL,Qh]=Gh(gc),QI=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=t,c=ay(gc,t.__scopeTooltip),d=Kh(e),[h,f]=g.useState(null),p=$r(),v=g.useRef(0),I=o??c.disableHoverableContent,w=l??c.delayDuration,S=g.useRef(!1),[E,x]=Gi({prop:r,defaultProp:s??!1,onChange:_=>{_?(c.onOpen(),document.dispatchEvent(new CustomEvent(ug))):c.onClose(),i==null||i(_)},caller:gc}),b=g.useMemo(()=>E?S.current?"delayed-open":"instant-open":"closed",[E]),j=g.useCallback(()=>{window.clearTimeout(v.current),v.current=0,S.current=!1,x(!0)},[x]),k=g.useCallback(()=>{window.clearTimeout(v.current),v.current=0,x(!1)},[x]),M=g.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>{S.current=!0,x(!0),v.current=0},w)},[w,x]);return g.useEffect(()=>()=>{v.current&&(window.clearTimeout(v.current),v.current=0)},[]),a.jsx(BI,{...d,children:a.jsx(iL,{scope:e,contentId:p,open:E,stateAttribute:b,trigger:h,onTriggerChange:f,onTriggerEnter:g.useCallback(()=>{c.isOpenDelayedRef.current?M():j()},[c.isOpenDelayedRef,M,j]),onTriggerLeave:g.useCallback(()=>{I?k():(window.clearTimeout(v.current),v.current=0)},[k,I]),onOpen:j,onClose:k,disableHoverableContent:I,children:n})})};QI.displayName=gc;var dg="TooltipTrigger",YI=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Qh(dg,n),i=ay(dg,n),o=Kh(n),l=g.useRef(null),c=Te(e,l,s.onTriggerChange),d=g.useRef(!1),h=g.useRef(!1),f=g.useCallback(()=>d.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),a.jsx(WI,{asChild:!0,...o,children:a.jsx(se.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:Z(t.onPointerMove,p=>{p.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:Z(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:Z(t.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Z(t.onFocus,()=>{d.current||s.onOpen()}),onBlur:Z(t.onBlur,s.onClose),onClick:Z(t.onClick,s.onClose)})})});YI.displayName=dg;var oL="TooltipPortal",[Qz,aL]=Gh(oL,{forceMount:void 0}),Ta="TooltipContent",XI=g.forwardRef((t,e)=>{const n=aL(Ta,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Qh(Ta,t.__scopeTooltip);return a.jsx(Yn,{present:r||o.open,children:o.disableHoverableContent?a.jsx(JI,{side:s,...i,ref:e}):a.jsx(lL,{side:s,...i,ref:e})})}),lL=g.forwardRef((t,e)=>{const n=Qh(Ta,t.__scopeTooltip),r=ay(Ta,t.__scopeTooltip),s=g.useRef(null),i=Te(e,s),[o,l]=g.useState(null),{trigger:c,onClose:d}=n,h=s.current,{onPointerInTransitChange:f}=r,p=g.useCallback(()=>{l(null),f(!1)},[f]),v=g.useCallback((I,w)=>{const S=I.currentTarget,E={x:I.clientX,y:I.clientY},x=fL(E,S.getBoundingClientRect()),b=pL(E,x),j=mL(w.getBoundingClientRect()),k=vL([...b,...j]);l(k),f(!0)},[f]);return g.useEffect(()=>()=>p(),[p]),g.useEffect(()=>{if(c&&h){const I=S=>v(S,h),w=S=>v(S,c);return c.addEventListener("pointerleave",I),h.addEventListener("pointerleave",w),()=>{c.removeEventListener("pointerleave",I),h.removeEventListener("pointerleave",w)}}},[c,h,v,p]),g.useEffect(()=>{if(o){const I=w=>{const S=w.target,E={x:w.clientX,y:w.clientY},x=(c==null?void 0:c.contains(S))||(h==null?void 0:h.contains(S)),b=!gL(E,o);x?p():b&&(p(),d())};return document.addEventListener("pointermove",I),()=>document.removeEventListener("pointermove",I)}},[c,h,o,d,p]),a.jsx(JI,{...t,ref:i})}),[cL,uL]=Gh(gc,{isInside:!1}),dL=aD("TooltipContent"),JI=g.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=t,c=Qh(Ta,n),d=Kh(n),{onClose:h}=c;return g.useEffect(()=>(document.addEventListener(ug,h),()=>document.removeEventListener(ug,h)),[h]),g.useEffect(()=>{if(c.trigger){const f=p=>{const v=p.target;v!=null&&v.contains(c.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,h]),a.jsx(Lc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:a.jsxs(HI,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(dL,{children:r}),a.jsx(cL,{scope:n,isInside:!0,children:a.jsx(AD,{id:c.contentId,role:"tooltip",children:s||r})})]})})});XI.displayName=Ta;var ZI="TooltipArrow",hL=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Kh(n);return uL(ZI,n).isInside?null:a.jsx(qI,{...s,...r,ref:e})});hL.displayName=ZI;function fL(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function pL(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function mL(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function gL(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i],c=e[o],d=l.x,h=l.y,f=c.x,p=c.y;h>r!=p>r&&n<(f-d)*(r-h)/(p-h)+d&&(s=!s)}return s}function vL(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),yL(e)}function yL(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var xL=KI,wL=QI,_L=YI,eC=XI;const tC=xL,Ou=wL,Mu=_L,Cl=g.forwardRef(({className:t,sideOffset:e=4,...n},r)=>a.jsx(eC,{ref:r,sideOffset:e,className:ue("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));Cl.displayName=eC.displayName;const EL=g.createContext(void 0);function TL({children:t}){const[e,n]=g.useState(()=>typeof window<"u"&&localStorage.getItem("theme")||"light");g.useEffect(()=>{const s=document.documentElement;s.classList.remove("light","dark"),s.classList.add(e),localStorage.setItem("theme",e)},[e]);const r=()=>{n(s=>s==="light"?"dark":"light")};return a.jsx(EL.Provider,{value:{theme:e,setTheme:n,toggleTheme:r},children:t})}const SL=()=>{};var eE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},bL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},rC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,h=i>>2,f=(i&3)<<4|l>>4;let p=(l&15)<<2|d>>6,v=d&63;c||(v=64,o||(p=64)),r.push(n[h],n[f],n[p],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(nC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):bL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||d==null||f==null)throw new IL;const p=i<<2|l>>4;if(r.push(p),d!==64){const v=l<<4&240|d>>2;if(r.push(v),f!==64){const I=d<<6&192|f;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class IL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CL=function(t){const e=nC(t);return rC.encodeByteArray(e,!0)},Xd=function(t){return CL(t).replace(/\./g,"")},sC=function(t){try{return rC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL=()=>NL().__FIREBASE_DEFAULTS__,PL=()=>{if(typeof process>"u"||typeof eE>"u")return;const t=eE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},RL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&sC(t[1]);return e&&JSON.parse(e)},Yh=()=>{try{return SL()||AL()||PL()||RL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},iC=t=>{var e,n;return(n=(e=Yh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},jL=t=>{const e=iC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},oC=()=>{var t;return(t=Yh())==null?void 0:t.config},aC=t=>{var e;return(e=Yh())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function za(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function lC(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Xd(JSON.stringify(n)),Xd(JSON.stringify(o)),""].join(".")}const Bl={};function OL(){const t={prod:[],emulator:[]};for(const e of Object.keys(Bl))Bl[e]?t.emulator.push(e):t.prod.push(e);return t}function ML(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let tE=!1;function cC(t,e){if(typeof window>"u"||typeof document>"u"||!za(window.location.host)||Bl[t]===e||Bl[t]||tE)return;Bl[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=OL().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,v){p.setAttribute("width","24"),p.setAttribute("id",v),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function d(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{tE=!0,o()},p}function h(p,v){p.setAttribute("id",v),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=ML(r),v=n("text"),I=document.getElementById(v)||document.createElement("span"),w=n("learnmore"),S=document.getElementById(w)||document.createElement("a"),E=n("preprendIcon"),x=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const b=p.element;l(b),h(S,w);const j=d();c(x,E),b.append(x,I,S,j),document.body.appendChild(b)}i?(I.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())}function VL(){var e;const t=(e=Yh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function $L(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zL(){const t=Mt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function BL(){return!VL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WL(){try{return typeof indexedDB=="object"}catch{return!1}}function HL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL="FirebaseError";class es extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=qL,Object.setPrototypeOf(this,es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zc.prototype.create)}}class zc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?GL(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new es(s,l,r)}}function GL(t,e){return t.replace(KL,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const KL=/\{\$([^}]+)}/g;function QL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(nE(i)&&nE(o)){if(!Qi(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function nE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function YL(t,e){const n=new XL(t,e);return n.subscribe.bind(n)}class XL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");JL(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Ip),s.error===void 0&&(s.error=Ip),s.complete===void 0&&(s.complete=Ip);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ip(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(t){return t&&t._delegate?t._delegate:t}class Yi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new kL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tV(e))try{this.getOrInitializeService({instanceIdentifier:wi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=wi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wi){return this.instances.has(e)}getOptions(e=wi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:eV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wi){return this.component?this.component.multipleInstances?e:wi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eV(t){return t===wi?void 0:t}function tV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ZL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ve||(ve={}));const rV={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},sV=ve.INFO,iV={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},oV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=iV[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ly{constructor(e){this.name=e,this._logLevel=sV,this._logHandler=oV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}const aV=(t,e)=>e.some(n=>t instanceof n);let rE,sE;function lV(){return rE||(rE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cV(){return sE||(sE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uC=new WeakMap,hg=new WeakMap,dC=new WeakMap,Cp=new WeakMap,cy=new WeakMap;function uV(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(zs(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&uC.set(n,t)}).catch(()=>{}),cy.set(e,t),e}function dV(t){if(hg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});hg.set(t,e)}let fg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return hg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||dC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function hV(t){fg=t(fg)}function fV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Np(this),e,...n);return dC.set(r,e.sort?e.sort():[e]),zs(r)}:cV().includes(t)?function(...e){return t.apply(Np(this),e),zs(uC.get(this))}:function(...e){return zs(t.apply(Np(this),e))}}function pV(t){return typeof t=="function"?fV(t):(t instanceof IDBTransaction&&dV(t),aV(t,lV())?new Proxy(t,fg):t)}function zs(t){if(t instanceof IDBRequest)return uV(t);if(Cp.has(t))return Cp.get(t);const e=pV(t);return e!==t&&(Cp.set(t,e),cy.set(e,t)),e}const Np=t=>cy.get(t);function mV(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=zs(o);return r&&o.addEventListener("upgradeneeded",c=>{r(zs(o.result),c.oldVersion,c.newVersion,zs(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const gV=["get","getKey","getAll","getAllKeys","count"],vV=["put","add","delete","clear"],Ap=new Map;function iE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ap.get(e))return Ap.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=vV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||gV.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),s&&c.done]))[0]};return Ap.set(e,i),i}hV(t=>({...t,get:(e,n,r)=>iE(e,n)||t.get(e,n,r),has:(e,n)=>!!iE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function xV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pg="@firebase/app",oE="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr=new ly("@firebase/app"),wV="@firebase/app-compat",_V="@firebase/analytics-compat",EV="@firebase/analytics",TV="@firebase/app-check-compat",SV="@firebase/app-check",bV="@firebase/auth",IV="@firebase/auth-compat",CV="@firebase/database",NV="@firebase/data-connect",AV="@firebase/database-compat",PV="@firebase/functions",RV="@firebase/functions-compat",jV="@firebase/installations",kV="@firebase/installations-compat",DV="@firebase/messaging",OV="@firebase/messaging-compat",MV="@firebase/performance",LV="@firebase/performance-compat",VV="@firebase/remote-config",FV="@firebase/remote-config-compat",UV="@firebase/storage",$V="@firebase/storage-compat",zV="@firebase/firestore",BV="@firebase/ai",WV="@firebase/firestore-compat",HV="firebase",qV="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg="[DEFAULT]",GV={[pg]:"fire-core",[wV]:"fire-core-compat",[EV]:"fire-analytics",[_V]:"fire-analytics-compat",[SV]:"fire-app-check",[TV]:"fire-app-check-compat",[bV]:"fire-auth",[IV]:"fire-auth-compat",[CV]:"fire-rtdb",[NV]:"fire-data-connect",[AV]:"fire-rtdb-compat",[PV]:"fire-fn",[RV]:"fire-fn-compat",[jV]:"fire-iid",[kV]:"fire-iid-compat",[DV]:"fire-fcm",[OV]:"fire-fcm-compat",[MV]:"fire-perf",[LV]:"fire-perf-compat",[VV]:"fire-rc",[FV]:"fire-rc-compat",[UV]:"fire-gcs",[$V]:"fire-gcs-compat",[zV]:"fire-fst",[WV]:"fire-fst-compat",[BV]:"fire-vertex","fire-js":"fire-js",[HV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd=new Map,KV=new Map,gg=new Map;function aE(t,e){try{t.container.addComponent(e)}catch(n){Qr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Sa(t){const e=t.name;if(gg.has(e))return Qr.debug(`There were multiple attempts to register component ${e}.`),!1;gg.set(e,t);for(const n of Jd.values())aE(n,t);for(const n of KV.values())aE(n,t);return!0}function uy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Vn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bs=new zc("app","Firebase",QV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=qV;function hC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:mg,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Bs.create("bad-app-name",{appName:String(s)});if(n||(n=oC()),!n)throw Bs.create("no-options");const i=Jd.get(s);if(i){if(Qi(n,i.options)&&Qi(r,i.config))return i;throw Bs.create("duplicate-app",{appName:s})}const o=new nV(s);for(const c of gg.values())o.addComponent(c);const l=new YV(n,r,o);return Jd.set(s,l),l}function fC(t=mg){const e=Jd.get(t);if(!e&&t===mg&&oC())return hC();if(!e)throw Bs.create("no-app",{appName:t});return e}function Ws(t,e,n){let r=GV[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qr.warn(o.join(" "));return}Sa(new Yi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV="firebase-heartbeat-database",JV=1,vc="firebase-heartbeat-store";let Pp=null;function pC(){return Pp||(Pp=mV(XV,JV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(vc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Bs.create("idb-open",{originalErrorMessage:t.message})})),Pp}async function ZV(t){try{const n=(await pC()).transaction(vc),r=await n.objectStore(vc).get(mC(t));return await n.done,r}catch(e){if(e instanceof es)Qr.warn(e.message);else{const n=Bs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qr.warn(n.message)}}}async function lE(t,e){try{const r=(await pC()).transaction(vc,"readwrite");await r.objectStore(vc).put(e,mC(t)),await r.done}catch(n){if(n instanceof es)Qr.warn(n.message);else{const r=Bs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Qr.warn(r.message)}}}function mC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4=1024,t4=30;class n4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new s4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=cE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>t4){const o=i4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Qr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=cE(),{heartbeatsToSend:r,unsentEntries:s}=r4(this._heartbeatsCache.heartbeats),i=Xd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Qr.warn(n),""}}}function cE(){return new Date().toISOString().substring(0,10)}function r4(t,e=e4){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),uE(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),uE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class s4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WL()?HL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ZV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return lE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return lE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function uE(t){return Xd(JSON.stringify({version:2,heartbeats:t})).length}function i4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o4(t){Sa(new Yi("platform-logger",e=>new yV(e),"PRIVATE")),Sa(new Yi("heartbeat",e=>new n4(e),"PRIVATE")),Ws(pg,oE,t),Ws(pg,oE,"esm2020"),Ws("fire-js","")}o4("");var a4="firebase",l4="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ws(a4,l4,"app");function gC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c4=gC,vC=new zc("auth","Firebase",gC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd=new ly("@firebase/auth");function u4(t,...e){Zd.logLevel<=ve.WARN&&Zd.warn(`Auth (${Ba}): ${t}`,...e)}function cd(t,...e){Zd.logLevel<=ve.ERROR&&Zd.error(`Auth (${Ba}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(t,...e){throw hy(t,...e)}function Wn(t,...e){return hy(t,...e)}function dy(t,e,n){const r={...c4(),[e]:n};return new zc("auth","Firebase",r).create(e,{appName:t.name})}function Vi(t){return dy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function d4(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&wr(t,"argument-error"),dy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function hy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return vC.create(t,...e)}function oe(t,e,...n){if(!t)throw hy(e,...n)}function Vr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw cd(e),new Error(e)}function Yr(t,e){t||Vr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function h4(){return dE()==="http:"||dE()==="https:"}function dE(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(h4()||UL()||"connection"in navigator)?navigator.onLine:!0}function p4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yr(n>e,"Short delay should be less than long delay!"),this.isMobile=LL()||$L()}get(){return f4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(t,e){Yr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],v4=new Wc(3e4,6e4);function py(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Wa(t,e,n,r,s={}){return xC(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=Bc({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...i};return FL()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&za(t.emulatorConfig.host)&&(d.credentials="include"),yC.fetch()(await wC(t,t.config.apiHost,n,l),d)})}async function xC(t,e,n){t._canInitEmulator=!1;const r={...m4,...e};try{const s=new x4(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Lu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lu(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Lu(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Lu(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw dy(t,h,d);wr(t,h)}}catch(s){if(s instanceof es)throw s;wr(t,"network-request-failed",{message:String(s)})}}async function y4(t,e,n,r,s={}){const i=await Wa(t,e,n,r,s);return"mfaPendingCredential"in i&&wr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function wC(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?fy(t.config,s):`${t.config.apiScheme}://${s}`;return g4.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class x4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Wn(this.auth,"network-request-failed")),v4.get())})}}function Lu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Wn(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w4(t,e){return Wa(t,"POST","/v1/accounts:delete",e)}async function eh(t,e){return Wa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _4(t,e=!1){const n=Kt(t),r=await n.getIdToken(e),s=my(r);oe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Wl(Rp(s.auth_time)),issuedAtTime:Wl(Rp(s.iat)),expirationTime:Wl(Rp(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Rp(t){return Number(t)*1e3}function my(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return cd("JWT malformed, contained fewer than 3 sections"),null;try{const s=sC(n);return s?JSON.parse(s):(cd("Failed to decode base64 JWT payload"),null)}catch(s){return cd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function hE(t){const e=my(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof es&&E4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function E4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wl(this.lastLoginAt),this.creationTime=Wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function th(t){var f;const e=t.auth,n=await t.getIdToken(),r=await yc(t,eh(e,{idToken:n}));oe(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?_C(s.providerUserInfo):[],o=b4(t.providerData,i),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),d=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new yg(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function S4(t){const e=Kt(t);await th(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function b4(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function _C(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I4(t,e){const n=await xC(t,{},async()=>{const r=Bc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await wC(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&za(t.emulatorConfig.host)&&(c.credentials="include"),yC.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function C4(t,e){return Wa(t,"POST","/v2/accounts:revokeToken",py(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){oe(e.length!==0,"internal-error");const n=hE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await I4(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new qo;return r&&(oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(oe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(oe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qo,this.toJSON())}_performRefresh(){return Vr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class $n{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new T4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new yg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await yc(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return _4(this,e)}reload(){return S4(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $n({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await th(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(Vi(this.auth));const e=await this.getIdToken();return await yc(this,w4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:p,isAnonymous:v,providerData:I,stsTokenManager:w}=n;oe(f&&w,e,"internal-error");const S=qo.fromJSON(this.name,w);oe(typeof f=="string",e,"internal-error"),us(r,e.name),us(s,e.name),oe(typeof p=="boolean",e,"internal-error"),oe(typeof v=="boolean",e,"internal-error"),us(i,e.name),us(o,e.name),us(l,e.name),us(c,e.name),us(d,e.name),us(h,e.name);const E=new $n({uid:f,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:v,photoURL:o,phoneNumber:i,tenantId:l,stsTokenManager:S,createdAt:d,lastLoginAt:h});return I&&Array.isArray(I)&&(E.providerData=I.map(x=>({...x}))),c&&(E._redirectEventId=c),E}static async _fromIdTokenResponse(e,n,r=!1){const s=new qo;s.updateFromServerResponse(n);const i=new $n({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await th(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];oe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?_C(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new qo;l.updateFromIdToken(r);const c=new $n({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new yg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=new Map;function Fr(t){Yr(t instanceof Function,"Expected a class definition");let e=fE.get(t);return e?(Yr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,fE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}EC.type="NONE";const pE=EC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(t,e,n){return`firebase:${t}:${e}:${n}`}class Go{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=ud(this.userKey,s.apiKey,i),this.fullPersistenceKey=ud("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await eh(this.auth,{idToken:e}).catch(()=>{});return n?$n._fromGetAccountInfoResponse(this.auth,n,e):null}return $n._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Go(Fr(pE),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Fr(pE);const o=ud(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const h=await d._get(o);if(h){let f;if(typeof h=="string"){const p=await eh(e,{idToken:h}).catch(()=>{});if(!p)break;f=await $n._fromGetAccountInfoResponse(e,p,h)}else f=$n._fromJSON(e,h);d!==i&&(l=f),i=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Go(i,e,r):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new Go(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(NC(e))return"Blackberry";if(AC(e))return"Webos";if(SC(e))return"Safari";if((e.includes("chrome/")||bC(e))&&!e.includes("edge/"))return"Chrome";if(CC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function TC(t=Mt()){return/firefox\//i.test(t)}function SC(t=Mt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bC(t=Mt()){return/crios\//i.test(t)}function IC(t=Mt()){return/iemobile/i.test(t)}function CC(t=Mt()){return/android/i.test(t)}function NC(t=Mt()){return/blackberry/i.test(t)}function AC(t=Mt()){return/webos/i.test(t)}function gy(t=Mt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function N4(t=Mt()){var e;return gy(t)&&!!((e=window.navigator)!=null&&e.standalone)}function A4(){return zL()&&document.documentMode===10}function PC(t=Mt()){return gy(t)||CC(t)||AC(t)||NC(t)||/windows phone/i.test(t)||IC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(t,e=[]){let n;switch(t){case"Browser":n=mE(Mt());break;case"Worker":n=`${mE(Mt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ba}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,l)=>{try{const c=e(i);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R4(t,e={}){return Wa(t,"GET","/v2/passwordPolicy",py(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4=6;class k4{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??j4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gE(this),this.idTokenSubscription=new gE(this),this.beforeStateQueue=new P4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Go.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await eh(this,{idToken:e}),r=await $n._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Vn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await th(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=p4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vn(this.app))return Promise.reject(Vi(this));const n=e?Kt(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(Vi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vn(this.app)?Promise.reject(Vi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await R4(this),n=new k4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new zc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await C4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fr(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await Go.create(this,[Fr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&u4(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Xh(t){return Kt(t)}class gE{constructor(e){this.auth=e,this.observer=null,this.addObserver=YL(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function O4(t){vy=t}function M4(t){return vy.loadJS(t)}function L4(){return vy.gapiScript}function V4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(t,e){const n=uy(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Qi(i,e??{}))return s;wr(s,"already-initialized")}return n.initialize({options:e})}function U4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Fr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function $4(t,e,n){const r=Xh(t);oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=jC(e),{host:o,port:l}=z4(e),c=l===null?"":`:${l}`,d={url:`${i}//${o}${c}/`},h=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),oe(Qi(d,r.config.emulator)&&Qi(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,za(o)?(lC(`${i}//${o}${c}`),cC("Auth",!0)):B4()}function jC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function z4(t){const e=jC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:vE(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:vE(o)}}}function vE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function B4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Vr("not implemented")}_getIdTokenResponse(e){return Vr("not implemented")}_linkToIdToken(e,n){return Vr("not implemented")}_getReauthenticationResolver(e){return Vr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ko(t,e){return y4(t,"POST","/v1/accounts:signInWithIdp",py(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4="http://localhost";class Xi extends kC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Xi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):wr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Xi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ko(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ko(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ko(e,n)}buildRequest(){const e={requestUri:W4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Bc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc extends yy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends Hc{constructor(){super("facebook.com")}static credential(e){return Xi._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ys.credential(e.oauthAccessToken)}catch{return null}}}ys.FACEBOOK_SIGN_IN_METHOD="facebook.com";ys.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends Hc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xi._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Or.credential(n,r)}catch{return null}}}Or.GOOGLE_SIGN_IN_METHOD="google.com";Or.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends Hc{constructor(){super("github.com")}static credential(e){return Xi._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xs.credential(e.oauthAccessToken)}catch{return null}}}xs.GITHUB_SIGN_IN_METHOD="github.com";xs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends Hc{constructor(){super("twitter.com")}static credential(e,n){return Xi._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ws.credential(n,r)}catch{return null}}}ws.TWITTER_SIGN_IN_METHOD="twitter.com";ws.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await $n._fromIdTokenResponse(e,r,s),o=yE(r);return new ba({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=yE(r);return new ba({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function yE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh extends es{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,nh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new nh(e,n,r,s)}}function DC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?nh._fromErrorAndOperation(t,i,e,r):i})}async function H4(t,e,n=!1){const r=await yc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ba._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q4(t,e,n=!1){const{auth:r}=t;if(Vn(r.app))return Promise.reject(Vi(r));const s="reauthenticate";try{const i=await yc(t,DC(r,s,e,t),n);oe(i.idToken,r,"internal-error");const o=my(i.idToken);oe(o,r,"internal-error");const{sub:l}=o;return oe(t.uid===l,r,"user-mismatch"),ba._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&wr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G4(t,e,n=!1){if(Vn(t.app))return Promise.reject(Vi(t));const r="signIn",s=await DC(t,r,e),i=await ba._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function K4(t,e,n,r){return Kt(t).onIdTokenChanged(e,n,r)}function Q4(t,e,n){return Kt(t).beforeAuthStateChanged(e,n)}function Y4(t,e,n,r){return Kt(t).onAuthStateChanged(e,n,r)}function X4(t){return Kt(t).signOut()}const rh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rh,"1"),this.storage.removeItem(rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4=1e3,Z4=10;class MC extends OC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);A4()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Z4):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},J4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}MC.type="LOCAL";const eF=MC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC extends OC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}LC.type="SESSION";const VC=LC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Jh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async d=>d(n.origin,i)),c=await tF(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,c)=>{const d=xy("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(p.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(){return window}function rF(t){fr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(){return typeof fr().WorkerGlobalScope<"u"&&typeof fr().importScripts=="function"}async function sF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function oF(){return FC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="firebaseLocalStorageDb",aF=1,sh="firebaseLocalStorage",$C="fbase_key";class qc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zh(t,e){return t.transaction([sh],e?"readwrite":"readonly").objectStore(sh)}function lF(){const t=indexedDB.deleteDatabase(UC);return new qc(t).toPromise()}function xg(){const t=indexedDB.open(UC,aF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(sh,{keyPath:$C})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(sh)?e(r):(r.close(),await lF(),e(await xg()))})})}async function xE(t,e,n){const r=Zh(t,!0).put({[$C]:e,value:n});return new qc(r).toPromise()}async function cF(t,e){const n=Zh(t,!1).get(e),r=await new qc(n).toPromise();return r===void 0?null:r.value}function wE(t,e){const n=Zh(t,!0).delete(e);return new qc(n).toPromise()}const uF=800,dF=3;class zC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>dF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jh._getInstance(oF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await sF(),!this.activeServiceWorker)return;this.sender=new nF(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xg();return await xE(e,rh,"1"),await wE(e,rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>xE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>cF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>wE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Zh(s,!1).getAll();return new qc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zC.type="LOCAL";const hF=zC;new Wc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(t,e){return e?Fr(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy extends kC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ko(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ko(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ko(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function fF(t){return G4(t.auth,new wy(t),t.bypassAuthState)}function pF(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),q4(n,new wy(t),t.bypassAuthState)}async function mF(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),H4(n,new wy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fF;case"linkViaPopup":case"linkViaRedirect":return mF;case"reauthViaPopup":case"reauthViaRedirect":return pF;default:wr(this.auth,"internal-error")}}resolve(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF=new Wc(2e3,1e4);async function vF(t,e,n){if(Vn(t.app))return Promise.reject(Wn(t,"operation-not-supported-in-this-environment"));const r=Xh(t);d4(t,e,yy);const s=BC(r,n);return new bi(r,"signInViaPopup",e,s).executeNotNull()}class bi extends WC{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,bi.currentPopupAction&&bi.currentPopupAction.cancel(),bi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){Yr(this.filter.length===1,"Popup operations only handle one event");const e=xy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,gF.get())};e()}}bi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yF="pendingRedirect",dd=new Map;class xF extends WC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=dd.get(this.auth._key());if(!e){try{const r=await wF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}dd.set(this.auth._key(),e)}return this.bypassAuthState||dd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wF(t,e){const n=TF(e),r=EF(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function _F(t,e){dd.set(t._key(),e)}function EF(t){return Fr(t._redirectPersistence)}function TF(t){return ud(yF,t.config.apiKey,t.name)}async function SF(t,e,n=!1){if(Vn(t.app))return Promise.reject(Vi(t));const r=Xh(t),s=BC(r,e),o=await new xF(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF=10*60*1e3;class IF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!HC(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Wn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bF&&this.cachedEventUids.clear(),this.cachedEventUids.has(_E(e))}saveEventToCache(e){this.cachedEventUids.add(_E(e)),this.lastProcessedEventTime=Date.now()}}function _E(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function HC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function CF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NF(t,e={}){return Wa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PF=/^https?/;async function RF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await NF(t);for(const n of e)try{if(jF(n))return}catch{}wr(t,"unauthorized-domain")}function jF(t){const e=vg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!PF.test(n))return!1;if(AF.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kF=new Wc(3e4,6e4);function EE(){const t=fr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function DF(t){return new Promise((e,n)=>{var s,i,o;function r(){EE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{EE(),n(Wn(t,"network-request-failed"))},timeout:kF.get()})}if((i=(s=fr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=fr().gapi)!=null&&o.load)r();else{const l=V4("iframefcb");return fr()[l]=()=>{gapi.load?r():n(Wn(t,"network-request-failed"))},M4(`${L4()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw hd=null,e})}let hd=null;function OF(t){return hd=hd||DF(t),hd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MF=new Wc(5e3,15e3),LF="__/auth/iframe",VF="emulator/auth/iframe",FF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $F(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?fy(e,VF):`https://${t.config.authDomain}/${LF}`,r={apiKey:e.apiKey,appName:t.name,v:Ba},s=UF.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Bc(r).slice(1)}`}async function zF(t){const e=await OF(t),n=fr().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:$F(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FF,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Wn(t,"network-request-failed"),l=fr().setTimeout(()=>{i(o)},MF.get());function c(){fr().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},WF=500,HF=600,qF="_blank",GF="http://localhost";class TE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KF(t,e,n,r=WF,s=HF){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...BF,width:r.toString(),height:s.toString(),top:i,left:o},d=Mt().toLowerCase();n&&(l=bC(d)?qF:n),TC(d)&&(e=e||GF,c.scrollbars="yes");const h=Object.entries(c).reduce((p,[v,I])=>`${p}${v}=${I},`,"");if(N4(d)&&l!=="_self")return QF(e||"",l),new TE(null);const f=window.open(e||"",l,h);oe(f,t,"popup-blocked");try{f.focus()}catch{}return new TE(f)}function QF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF="__/auth/handler",XF="emulator/auth/handler",JF=encodeURIComponent("fac");async function SE(t,e,n,r,s,i){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ba,eventId:s};if(e instanceof yy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",QL(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Hc){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),d=c?`#${JF}=${encodeURIComponent(c)}`:"";return`${ZF(t)}?${Bc(l).slice(1)}${d}`}function ZF({config:t}){return t.emulator?fy(t,XF):`https://${t.authDomain}/${YF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="webStorageSupport";class e3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VC,this._completeRedirectFn=SF,this._overrideRedirectResult=_F}async _openPopup(e,n,r,s){var o;Yr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await SE(e,n,r,vg(),s);return KF(e,i,xy())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await SE(e,n,r,vg(),s);return rF(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Yr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await zF(e),r=new IF(e);return n.register("authEvent",s=>(oe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jp,{type:jp},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[jp];i!==void 0&&n(!!i),wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=RF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return PC()||SC()||gy()}}const t3=e3;var bE="@firebase/auth",IE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function s3(t){Sa(new Yi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RC(t)},d=new D4(r,s,i,c);return U4(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Sa(new Yi("auth-internal",e=>{const n=Xh(e.getProvider("auth").getImmediate());return(r=>new n3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ws(bE,IE,r3(t)),Ws(bE,IE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3=5*60,o3=aC("authIdTokenMaxAge")||i3;let CE=null;const a3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>o3)return;const s=n==null?void 0:n.token;CE!==s&&(CE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function l3(t=fC()){const e=uy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=F4(t,{popupRedirectResolver:t3,persistence:[hF,eF,VC]}),r=aC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=a3(i.toString());Q4(n,o,()=>o(n.currentUser)),K4(n,l=>o(l))}}const s=iC("auth");return s&&$4(n,`http://${s}`),n}function c3(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}O4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Wn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",c3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});s3("Browser");var NE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hs,qC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,T){function C(){}C.prototype=T.prototype,_.F=T.prototype,_.prototype=new C,_.prototype.constructor=_,_.D=function(A,P,D){for(var R=Array(arguments.length-2),B=2;B<arguments.length;B++)R[B-2]=arguments[B];return T.prototype[P].apply(A,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(_,T,C){C||(C=0);const A=Array(16);if(typeof T=="string")for(var P=0;P<16;++P)A[P]=T.charCodeAt(C++)|T.charCodeAt(C++)<<8|T.charCodeAt(C++)<<16|T.charCodeAt(C++)<<24;else for(P=0;P<16;++P)A[P]=T[C++]|T[C++]<<8|T[C++]<<16|T[C++]<<24;T=_.g[0],C=_.g[1],P=_.g[2];let D=_.g[3],R;R=T+(D^C&(P^D))+A[0]+3614090360&4294967295,T=C+(R<<7&4294967295|R>>>25),R=D+(P^T&(C^P))+A[1]+3905402710&4294967295,D=T+(R<<12&4294967295|R>>>20),R=P+(C^D&(T^C))+A[2]+606105819&4294967295,P=D+(R<<17&4294967295|R>>>15),R=C+(T^P&(D^T))+A[3]+3250441966&4294967295,C=P+(R<<22&4294967295|R>>>10),R=T+(D^C&(P^D))+A[4]+4118548399&4294967295,T=C+(R<<7&4294967295|R>>>25),R=D+(P^T&(C^P))+A[5]+1200080426&4294967295,D=T+(R<<12&4294967295|R>>>20),R=P+(C^D&(T^C))+A[6]+2821735955&4294967295,P=D+(R<<17&4294967295|R>>>15),R=C+(T^P&(D^T))+A[7]+4249261313&4294967295,C=P+(R<<22&4294967295|R>>>10),R=T+(D^C&(P^D))+A[8]+1770035416&4294967295,T=C+(R<<7&4294967295|R>>>25),R=D+(P^T&(C^P))+A[9]+2336552879&4294967295,D=T+(R<<12&4294967295|R>>>20),R=P+(C^D&(T^C))+A[10]+4294925233&4294967295,P=D+(R<<17&4294967295|R>>>15),R=C+(T^P&(D^T))+A[11]+2304563134&4294967295,C=P+(R<<22&4294967295|R>>>10),R=T+(D^C&(P^D))+A[12]+1804603682&4294967295,T=C+(R<<7&4294967295|R>>>25),R=D+(P^T&(C^P))+A[13]+4254626195&4294967295,D=T+(R<<12&4294967295|R>>>20),R=P+(C^D&(T^C))+A[14]+2792965006&4294967295,P=D+(R<<17&4294967295|R>>>15),R=C+(T^P&(D^T))+A[15]+1236535329&4294967295,C=P+(R<<22&4294967295|R>>>10),R=T+(P^D&(C^P))+A[1]+4129170786&4294967295,T=C+(R<<5&4294967295|R>>>27),R=D+(C^P&(T^C))+A[6]+3225465664&4294967295,D=T+(R<<9&4294967295|R>>>23),R=P+(T^C&(D^T))+A[11]+643717713&4294967295,P=D+(R<<14&4294967295|R>>>18),R=C+(D^T&(P^D))+A[0]+3921069994&4294967295,C=P+(R<<20&4294967295|R>>>12),R=T+(P^D&(C^P))+A[5]+3593408605&4294967295,T=C+(R<<5&4294967295|R>>>27),R=D+(C^P&(T^C))+A[10]+38016083&4294967295,D=T+(R<<9&4294967295|R>>>23),R=P+(T^C&(D^T))+A[15]+3634488961&4294967295,P=D+(R<<14&4294967295|R>>>18),R=C+(D^T&(P^D))+A[4]+3889429448&4294967295,C=P+(R<<20&4294967295|R>>>12),R=T+(P^D&(C^P))+A[9]+568446438&4294967295,T=C+(R<<5&4294967295|R>>>27),R=D+(C^P&(T^C))+A[14]+3275163606&4294967295,D=T+(R<<9&4294967295|R>>>23),R=P+(T^C&(D^T))+A[3]+4107603335&4294967295,P=D+(R<<14&4294967295|R>>>18),R=C+(D^T&(P^D))+A[8]+1163531501&4294967295,C=P+(R<<20&4294967295|R>>>12),R=T+(P^D&(C^P))+A[13]+2850285829&4294967295,T=C+(R<<5&4294967295|R>>>27),R=D+(C^P&(T^C))+A[2]+4243563512&4294967295,D=T+(R<<9&4294967295|R>>>23),R=P+(T^C&(D^T))+A[7]+1735328473&4294967295,P=D+(R<<14&4294967295|R>>>18),R=C+(D^T&(P^D))+A[12]+2368359562&4294967295,C=P+(R<<20&4294967295|R>>>12),R=T+(C^P^D)+A[5]+4294588738&4294967295,T=C+(R<<4&4294967295|R>>>28),R=D+(T^C^P)+A[8]+2272392833&4294967295,D=T+(R<<11&4294967295|R>>>21),R=P+(D^T^C)+A[11]+1839030562&4294967295,P=D+(R<<16&4294967295|R>>>16),R=C+(P^D^T)+A[14]+4259657740&4294967295,C=P+(R<<23&4294967295|R>>>9),R=T+(C^P^D)+A[1]+2763975236&4294967295,T=C+(R<<4&4294967295|R>>>28),R=D+(T^C^P)+A[4]+1272893353&4294967295,D=T+(R<<11&4294967295|R>>>21),R=P+(D^T^C)+A[7]+4139469664&4294967295,P=D+(R<<16&4294967295|R>>>16),R=C+(P^D^T)+A[10]+3200236656&4294967295,C=P+(R<<23&4294967295|R>>>9),R=T+(C^P^D)+A[13]+681279174&4294967295,T=C+(R<<4&4294967295|R>>>28),R=D+(T^C^P)+A[0]+3936430074&4294967295,D=T+(R<<11&4294967295|R>>>21),R=P+(D^T^C)+A[3]+3572445317&4294967295,P=D+(R<<16&4294967295|R>>>16),R=C+(P^D^T)+A[6]+76029189&4294967295,C=P+(R<<23&4294967295|R>>>9),R=T+(C^P^D)+A[9]+3654602809&4294967295,T=C+(R<<4&4294967295|R>>>28),R=D+(T^C^P)+A[12]+3873151461&4294967295,D=T+(R<<11&4294967295|R>>>21),R=P+(D^T^C)+A[15]+530742520&4294967295,P=D+(R<<16&4294967295|R>>>16),R=C+(P^D^T)+A[2]+3299628645&4294967295,C=P+(R<<23&4294967295|R>>>9),R=T+(P^(C|~D))+A[0]+4096336452&4294967295,T=C+(R<<6&4294967295|R>>>26),R=D+(C^(T|~P))+A[7]+1126891415&4294967295,D=T+(R<<10&4294967295|R>>>22),R=P+(T^(D|~C))+A[14]+2878612391&4294967295,P=D+(R<<15&4294967295|R>>>17),R=C+(D^(P|~T))+A[5]+4237533241&4294967295,C=P+(R<<21&4294967295|R>>>11),R=T+(P^(C|~D))+A[12]+1700485571&4294967295,T=C+(R<<6&4294967295|R>>>26),R=D+(C^(T|~P))+A[3]+2399980690&4294967295,D=T+(R<<10&4294967295|R>>>22),R=P+(T^(D|~C))+A[10]+4293915773&4294967295,P=D+(R<<15&4294967295|R>>>17),R=C+(D^(P|~T))+A[1]+2240044497&4294967295,C=P+(R<<21&4294967295|R>>>11),R=T+(P^(C|~D))+A[8]+1873313359&4294967295,T=C+(R<<6&4294967295|R>>>26),R=D+(C^(T|~P))+A[15]+4264355552&4294967295,D=T+(R<<10&4294967295|R>>>22),R=P+(T^(D|~C))+A[6]+2734768916&4294967295,P=D+(R<<15&4294967295|R>>>17),R=C+(D^(P|~T))+A[13]+1309151649&4294967295,C=P+(R<<21&4294967295|R>>>11),R=T+(P^(C|~D))+A[4]+4149444226&4294967295,T=C+(R<<6&4294967295|R>>>26),R=D+(C^(T|~P))+A[11]+3174756917&4294967295,D=T+(R<<10&4294967295|R>>>22),R=P+(T^(D|~C))+A[2]+718787259&4294967295,P=D+(R<<15&4294967295|R>>>17),R=C+(D^(P|~T))+A[9]+3951481745&4294967295,_.g[0]=_.g[0]+T&4294967295,_.g[1]=_.g[1]+(P+(R<<21&4294967295|R>>>11))&4294967295,_.g[2]=_.g[2]+P&4294967295,_.g[3]=_.g[3]+D&4294967295}r.prototype.v=function(_,T){T===void 0&&(T=_.length);const C=T-this.blockSize,A=this.C;let P=this.h,D=0;for(;D<T;){if(P==0)for(;D<=C;)s(this,_,D),D+=this.blockSize;if(typeof _=="string"){for(;D<T;)if(A[P++]=_.charCodeAt(D++),P==this.blockSize){s(this,A),P=0;break}}else for(;D<T;)if(A[P++]=_[D++],P==this.blockSize){s(this,A),P=0;break}}this.h=P,this.o+=T},r.prototype.A=function(){var _=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);_[0]=128;for(var T=1;T<_.length-8;++T)_[T]=0;T=this.o*8;for(var C=_.length-8;C<_.length;++C)_[C]=T&255,T/=256;for(this.v(_),_=Array(16),T=0,C=0;C<4;++C)for(let A=0;A<32;A+=8)_[T++]=this.g[C]>>>A&255;return _};function i(_,T){var C=l;return Object.prototype.hasOwnProperty.call(C,_)?C[_]:C[_]=T(_)}function o(_,T){this.h=T;const C=[];let A=!0;for(let P=_.length-1;P>=0;P--){const D=_[P]|0;A&&D==T||(C[P]=D,A=!1)}this.g=C}var l={};function c(_){return-128<=_&&_<128?i(_,function(T){return new o([T|0],T<0?-1:0)}):new o([_|0],_<0?-1:0)}function d(_){if(isNaN(_)||!isFinite(_))return f;if(_<0)return S(d(-_));const T=[];let C=1;for(let A=0;_>=C;A++)T[A]=_/C|0,C*=4294967296;return new o(T,0)}function h(_,T){if(_.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(_.charAt(0)=="-")return S(h(_.substring(1),T));if(_.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=d(Math.pow(T,8));let A=f;for(let D=0;D<_.length;D+=8){var P=Math.min(8,_.length-D);const R=parseInt(_.substring(D,D+P),T);P<8?(P=d(Math.pow(T,P)),A=A.j(P).add(d(R))):(A=A.j(C),A=A.add(d(R)))}return A}var f=c(0),p=c(1),v=c(16777216);t=o.prototype,t.m=function(){if(w(this))return-S(this).m();let _=0,T=1;for(let C=0;C<this.g.length;C++){const A=this.i(C);_+=(A>=0?A:4294967296+A)*T,T*=4294967296}return _},t.toString=function(_){if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(I(this))return"0";if(w(this))return"-"+S(this).toString(_);const T=d(Math.pow(_,6));var C=this;let A="";for(;;){const P=j(C,T).g;C=E(C,P.j(T));let D=((C.g.length>0?C.g[0]:C.h)>>>0).toString(_);if(C=P,I(C))return D+A;for(;D.length<6;)D="0"+D;A=D+A}},t.i=function(_){return _<0?0:_<this.g.length?this.g[_]:this.h};function I(_){if(_.h!=0)return!1;for(let T=0;T<_.g.length;T++)if(_.g[T]!=0)return!1;return!0}function w(_){return _.h==-1}t.l=function(_){return _=E(this,_),w(_)?-1:I(_)?0:1};function S(_){const T=_.g.length,C=[];for(let A=0;A<T;A++)C[A]=~_.g[A];return new o(C,~_.h).add(p)}t.abs=function(){return w(this)?S(this):this},t.add=function(_){const T=Math.max(this.g.length,_.g.length),C=[];let A=0;for(let P=0;P<=T;P++){let D=A+(this.i(P)&65535)+(_.i(P)&65535),R=(D>>>16)+(this.i(P)>>>16)+(_.i(P)>>>16);A=R>>>16,D&=65535,R&=65535,C[P]=R<<16|D}return new o(C,C[C.length-1]&-2147483648?-1:0)};function E(_,T){return _.add(S(T))}t.j=function(_){if(I(this)||I(_))return f;if(w(this))return w(_)?S(this).j(S(_)):S(S(this).j(_));if(w(_))return S(this.j(S(_)));if(this.l(v)<0&&_.l(v)<0)return d(this.m()*_.m());const T=this.g.length+_.g.length,C=[];for(var A=0;A<2*T;A++)C[A]=0;for(A=0;A<this.g.length;A++)for(let P=0;P<_.g.length;P++){const D=this.i(A)>>>16,R=this.i(A)&65535,B=_.i(P)>>>16,re=_.i(P)&65535;C[2*A+2*P]+=R*re,x(C,2*A+2*P),C[2*A+2*P+1]+=D*re,x(C,2*A+2*P+1),C[2*A+2*P+1]+=R*B,x(C,2*A+2*P+1),C[2*A+2*P+2]+=D*B,x(C,2*A+2*P+2)}for(_=0;_<T;_++)C[_]=C[2*_+1]<<16|C[2*_];for(_=T;_<2*T;_++)C[_]=0;return new o(C,0)};function x(_,T){for(;(_[T]&65535)!=_[T];)_[T+1]+=_[T]>>>16,_[T]&=65535,T++}function b(_,T){this.g=_,this.h=T}function j(_,T){if(I(T))throw Error("division by zero");if(I(_))return new b(f,f);if(w(_))return T=j(S(_),T),new b(S(T.g),S(T.h));if(w(T))return T=j(_,S(T)),new b(S(T.g),T.h);if(_.g.length>30){if(w(_)||w(T))throw Error("slowDivide_ only works with positive integers.");for(var C=p,A=T;A.l(_)<=0;)C=k(C),A=k(A);var P=M(C,1),D=M(A,1);for(A=M(A,2),C=M(C,2);!I(A);){var R=D.add(A);R.l(_)<=0&&(P=P.add(C),D=R),A=M(A,1),C=M(C,1)}return T=E(_,P.j(T)),new b(P,T)}for(P=f;_.l(T)>=0;){for(C=Math.max(1,Math.floor(_.m()/T.m())),A=Math.ceil(Math.log(C)/Math.LN2),A=A<=48?1:Math.pow(2,A-48),D=d(C),R=D.j(T);w(R)||R.l(_)>0;)C-=A,D=d(C),R=D.j(T);I(D)&&(D=p),P=P.add(D),_=E(_,R)}return new b(P,_)}t.B=function(_){return j(this,_).h},t.and=function(_){const T=Math.max(this.g.length,_.g.length),C=[];for(let A=0;A<T;A++)C[A]=this.i(A)&_.i(A);return new o(C,this.h&_.h)},t.or=function(_){const T=Math.max(this.g.length,_.g.length),C=[];for(let A=0;A<T;A++)C[A]=this.i(A)|_.i(A);return new o(C,this.h|_.h)},t.xor=function(_){const T=Math.max(this.g.length,_.g.length),C=[];for(let A=0;A<T;A++)C[A]=this.i(A)^_.i(A);return new o(C,this.h^_.h)};function k(_){const T=_.g.length+1,C=[];for(let A=0;A<T;A++)C[A]=_.i(A)<<1|_.i(A-1)>>>31;return new o(C,_.h)}function M(_,T){const C=T>>5;T%=32;const A=_.g.length-C,P=[];for(let D=0;D<A;D++)P[D]=T>0?_.i(D+C)>>>T|_.i(D+C+1)<<32-T:_.i(D+C);return new o(P,_.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,qC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,Hs=o}).apply(typeof NE<"u"?NE:typeof self<"u"?self:typeof window<"u"?window:{});var Vu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var GC,Nl,KC,fd,wg,QC,YC,XC;(function(){var t,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vu=="object"&&Vu];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function s(u,m){if(m)e:{var y=r;u=u.split(".");for(var N=0;N<u.length-1;N++){var L=u[N];if(!(L in y))break e;y=y[L]}u=u[u.length-1],N=y[u],m=m(N),m!=N&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}s("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(u){return u||function(m){var y=[],N;for(N in m)Object.prototype.hasOwnProperty.call(m,N)&&y.push([N,m[N]]);return y}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function l(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function c(u,m,y){return u.call.apply(u.bind,arguments)}function d(u,m,y){return d=c,d.apply(null,arguments)}function h(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var N=y.slice();return N.push.apply(N,arguments),u.apply(this,N)}}function f(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(N,L,V){for(var H=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)H[fe-2]=arguments[fe];return m.prototype[L].apply(N,H)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function v(u){const m=u.length;if(m>0){const y=Array(m);for(let N=0;N<m;N++)y[N]=u[N];return y}return[]}function I(u,m){for(let N=1;N<arguments.length;N++){const L=arguments[N];var y=typeof L;if(y=y!="object"?y:L?Array.isArray(L)?"array":y:"null",y=="array"||y=="object"&&typeof L.length=="number"){y=u.length||0;const V=L.length||0;u.length=y+V;for(let H=0;H<V;H++)u[y+H]=L[H]}else u.push(L)}}class w{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function S(u){o.setTimeout(()=>{throw u},0)}function E(){var u=_;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class x{constructor(){this.h=this.g=null}add(m,y){const N=b.get();N.set(m,y),this.h?this.h.next=N:this.g=N,this.h=N}}var b=new w(()=>new j,u=>u.reset());class j{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let k,M=!1,_=new x,T=()=>{const u=Promise.resolve(void 0);k=()=>{u.then(C)}};function C(){for(var u;u=E();){try{u.h.call(u.g)}catch(y){S(y)}var m=b;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}M=!1}function A(){this.u=this.u,this.C=this.C}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};o.addEventListener("test",y,m),o.removeEventListener("test",y,m)}catch{}return u}();function R(u){return/^[\s\xa0]*$/.test(u)}function B(u,m){P.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}f(B,P),B.prototype.init=function(u,m){const y=this.type=u.type,N=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&B.Z.h.call(this)},B.prototype.h=function(){B.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var re="closure_listenable_"+(Math.random()*1e6|0),Q=0;function le(u,m,y,N,L){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!N,this.ha=L,this.key=++Q,this.da=this.fa=!1}function F(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function W(u,m,y){for(const N in u)m.call(y,u[N],N,u)}function Y(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function ae(u){const m={};for(const y in u)m[y]=u[y];return m}const Se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gt(u,m){let y,N;for(let L=1;L<arguments.length;L++){N=arguments[L];for(y in N)u[y]=N[y];for(let V=0;V<Se.length;V++)y=Se[V],Object.prototype.hasOwnProperty.call(N,y)&&(u[y]=N[y])}}function ze(u){this.src=u,this.g={},this.h=0}ze.prototype.add=function(u,m,y,N,L){const V=u.toString();u=this.g[V],u||(u=this.g[V]=[],this.h++);const H=at(u,m,N,L);return H>-1?(m=u[H],y||(m.fa=!1)):(m=new le(m,this.src,V,!!N,L),m.fa=y,u.push(m)),m};function Xt(u,m){const y=m.type;if(y in u.g){var N=u.g[y],L=Array.prototype.indexOf.call(N,m,void 0),V;(V=L>=0)&&Array.prototype.splice.call(N,L,1),V&&(F(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function at(u,m,y,N){for(let L=0;L<u.length;++L){const V=u[L];if(!V.da&&V.listener==m&&V.capture==!!y&&V.ha==N)return L}return-1}var te="closure_lm_"+(Math.random()*1e6|0),Pe={};function lt(u,m,y,N,L){if(Array.isArray(m)){for(let V=0;V<m.length;V++)lt(u,m[V],y,N,L);return null}return y=eu(y),u&&u[re]?u.J(m,y,l(N)?!!N.capture:!1,L):je(u,m,y,!1,N,L)}function je(u,m,y,N,L,V){if(!m)throw Error("Invalid event type");const H=l(L)?!!L.capture:!!L;let fe=br(u);if(fe||(u[te]=fe=new ze(u)),y=fe.add(m,y,N,H,V),y.proxy)return y;if(N=Ce(),y.proxy=N,N.src=u,N.listener=y,u.addEventListener)D||(L=H),L===void 0&&(L=!1),u.addEventListener(m.toString(),N,L);else if(u.attachEvent)u.attachEvent(cn(m.toString()),N);else if(u.addListener&&u.removeListener)u.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Ce(){function u(y){return m.call(u.src,u.listener,y)}const m=hi;return u}function be(u,m,y,N,L){if(Array.isArray(m))for(var V=0;V<m.length;V++)be(u,m[V],y,N,L);else N=l(N)?!!N.capture:!!N,y=eu(y),u&&u[re]?(u=u.i,V=String(m).toString(),V in u.g&&(m=u.g[V],y=at(m,y,N,L),y>-1&&(F(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[V],u.h--)))):u&&(u=br(u))&&(m=u.g[m.toString()],u=-1,m&&(u=at(m,y,N,L)),(y=u>-1?m[u]:null)&&Et(y))}function Et(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[re])Xt(m.i,u);else{var y=u.type,N=u.proxy;m.removeEventListener?m.removeEventListener(y,N,u.capture):m.detachEvent?m.detachEvent(cn(y),N):m.addListener&&m.removeListener&&m.removeListener(N),(y=br(m))?(Xt(y,u),y.h==0&&(y.src=null,m[te]=null)):F(u)}}}function cn(u){return u in Pe?Pe[u]:Pe[u]="on"+u}function hi(u,m){if(u.da)u=!0;else{m=new B(m,this);const y=u.listener,N=u.ha||u.src;u.fa&&Et(u),u=y.call(N,m)}return u}function br(u){return u=u[te],u instanceof ze?u:null}var Ir="__closure_events_fn_"+(Math.random()*1e9>>>0);function eu(u){return typeof u=="function"?u:(u[Ir]||(u[Ir]=function(m){return u.handleEvent(m)}),u[Ir])}function Ze(){A.call(this),this.i=new ze(this),this.M=this,this.G=null}f(Ze,A),Ze.prototype[re]=!0,Ze.prototype.removeEventListener=function(u,m,y,N){be(this,u,m,y,N)};function Lt(u,m){var y,N=u.G;if(N)for(y=[];N;N=N.G)y.push(N);if(u=u.M,N=m.type||m,typeof m=="string")m=new P(m,u);else if(m instanceof P)m.target=m.target||u;else{var L=m;m=new P(N,u),gt(m,L)}L=!0;let V,H;if(y)for(H=y.length-1;H>=0;H--)V=m.g=y[H],L=tu(V,N,!0,m)&&L;if(V=m.g=u,L=tu(V,N,!0,m)&&L,L=tu(V,N,!1,m)&&L,y)for(H=0;H<y.length;H++)V=m.g=y[H],L=tu(V,N,!1,m)&&L}Ze.prototype.N=function(){if(Ze.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let N=0;N<y.length;N++)F(y[N]);delete u.g[m],u.h--}}this.G=null},Ze.prototype.J=function(u,m,y,N){return this.i.add(String(u),m,!1,y,N)},Ze.prototype.K=function(u,m,y,N){return this.i.add(String(u),m,!0,y,N)};function tu(u,m,y,N){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let V=0;V<m.length;++V){const H=m[V];if(H&&!H.da&&H.capture==y){const fe=H.listener,ct=H.ha||H.src;H.fa&&Xt(u.i,H),L=fe.call(ct,N)!==!1&&L}}return L&&!N.defaultPrevented}function FP(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=d(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:o.setTimeout(u,m||0)}function mx(u){u.g=FP(()=>{u.g=null,u.i&&(u.i=!1,mx(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class UP extends A{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:mx(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ya(u){A.call(this),this.h=u,this.g={}}f(Ya,A);var gx=[];function vx(u){W(u.g,function(m,y){this.g.hasOwnProperty(y)&&Et(m)},u),u.g={}}Ya.prototype.N=function(){Ya.Z.N.call(this),vx(this)},Ya.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Af=o.JSON.stringify,$P=o.JSON.parse,zP=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function yx(){}function xx(){}var Xa={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pf(){P.call(this,"d")}f(Pf,P);function Rf(){P.call(this,"c")}f(Rf,P);var fi={},wx=null;function nu(){return wx=wx||new Ze}fi.Ia="serverreachability";function _x(u){P.call(this,fi.Ia,u)}f(_x,P);function Ja(u){const m=nu();Lt(m,new _x(m))}fi.STAT_EVENT="statevent";function Ex(u,m){P.call(this,fi.STAT_EVENT,u),this.stat=m}f(Ex,P);function Vt(u){const m=nu();Lt(m,new Ex(m,u))}fi.Ja="timingevent";function Tx(u,m){P.call(this,fi.Ja,u),this.size=m}f(Tx,P);function Za(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},m)}function el(){this.g=!0}el.prototype.ua=function(){this.g=!1};function BP(u,m,y,N,L,V){u.info(function(){if(u.g)if(V){var H="",fe=V.split("&");for(let ke=0;ke<fe.length;ke++){var ct=fe[ke].split("=");if(ct.length>1){const vt=ct[0];ct=ct[1];const Zn=vt.split("_");H=Zn.length>=2&&Zn[1]=="type"?H+(vt+"="+ct+"&"):H+(vt+"=redacted&")}}}else H=null;else H=V;return"XMLHTTP REQ ("+N+") [attempt "+L+"]: "+m+`
`+y+`
`+H})}function WP(u,m,y,N,L,V,H){u.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+L+"]: "+m+`
`+y+`
`+V+" "+H})}function po(u,m,y,N){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+qP(u,y)+(N?" "+N:"")})}function HP(u,m){u.info(function(){return"TIMEOUT: "+m})}el.prototype.info=function(){};function qP(u,m){if(!u.g)return m;if(!m)return null;try{const V=JSON.parse(m);if(V){for(u=0;u<V.length;u++)if(Array.isArray(V[u])){var y=V[u];if(!(y.length<2)){var N=y[1];if(Array.isArray(N)&&!(N.length<1)){var L=N[0];if(L!="noop"&&L!="stop"&&L!="close")for(let H=1;H<N.length;H++)N[H]=""}}}}return Af(V)}catch{return m}}var ru={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Sx={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},bx;function jf(){}f(jf,yx),jf.prototype.g=function(){return new XMLHttpRequest},bx=new jf;function tl(u){return encodeURIComponent(String(u))}function GP(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function ts(u,m,y,N){this.j=u,this.i=m,this.l=y,this.S=N||1,this.V=new Ya(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ix}function Ix(){this.i=null,this.g="",this.h=!1}var Cx={},kf={};function Df(u,m,y){u.M=1,u.A=iu(Jn(m)),u.u=y,u.R=!0,Nx(u,null)}function Nx(u,m){u.F=Date.now(),su(u),u.B=Jn(u.A);var y=u.B,N=u.S;Array.isArray(N)||(N=[String(N)]),$x(y.i,"t",N),u.C=0,y=u.j.L,u.h=new Ix,u.g=iw(u.j,y?m:null,!u.u),u.P>0&&(u.O=new UP(d(u.Y,u,u.g),u.P)),m=u.V,y=u.g,N=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(gx[0]=L.toString()),L=gx);for(let V=0;V<L.length;V++){const H=lt(y,L[V],N||m.handleEvent,!1,m.h||m);if(!H)break;m.g[H.key]=H}m=u.J?ae(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Ja(),BP(u.i,u.v,u.B,u.l,u.S,u.u)}ts.prototype.ba=function(u){u=u.target;const m=this.O;m&&ss(u)==3?m.j():this.Y(u)},ts.prototype.Y=function(u){try{if(u==this.g)e:{const fe=ss(this.g),ct=this.g.ya(),ke=this.g.ca();if(!(fe<3)&&(fe!=3||this.g&&(this.h.h||this.g.la()||Kx(this.g)))){this.K||fe!=4||ct==7||(ct==8||ke<=0?Ja(3):Ja(2)),Of(this);var m=this.g.ca();this.X=m;var y=KP(this);if(this.o=m==200,WP(this.i,this.v,this.B,this.l,this.S,fe,m),this.o){if(this.U&&!this.L){t:{if(this.g){var N,L=this.g;if((N=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(N)){var V=N;break t}}V=null}if(u=V)po(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Mf(this,u);else{this.o=!1,this.m=3,Vt(12),pi(this),nl(this);break e}}if(this.R){u=!0;let vt;for(;!this.K&&this.C<y.length;)if(vt=QP(this,y),vt==kf){fe==4&&(this.m=4,Vt(14),u=!1),po(this.i,this.l,null,"[Incomplete Response]");break}else if(vt==Cx){this.m=4,Vt(15),po(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else po(this.i,this.l,vt,null),Mf(this,vt);if(Ax(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),fe!=4||y.length!=0||this.h.h||(this.m=1,Vt(16),u=!1),this.o=this.o&&u,!u)po(this.i,this.l,y,"[Invalid Chunked Response]"),pi(this),nl(this);else if(y.length>0&&!this.W){this.W=!0;var H=this.j;H.g==this&&H.aa&&!H.P&&(H.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),Wf(H),H.P=!0,Vt(11))}}else po(this.i,this.l,y,null),Mf(this,y);fe==4&&pi(this),this.o&&!this.K&&(fe==4?tw(this.j,this):(this.o=!1,su(this)))}else cR(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,Vt(12)):(this.m=0,Vt(13)),pi(this),nl(this)}}}catch{}finally{}};function KP(u){if(!Ax(u))return u.g.la();const m=Kx(u.g);if(m==="")return"";let y="";const N=m.length,L=ss(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return pi(u),nl(u),"";u.h.i=new o.TextDecoder}for(let V=0;V<N;V++)u.h.h=!0,y+=u.h.i.decode(m[V],{stream:!(L&&V==N-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function Ax(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function QP(u,m){var y=u.C,N=m.indexOf(`
`,y);return N==-1?kf:(y=Number(m.substring(y,N)),isNaN(y)?Cx:(N+=1,N+y>m.length?kf:(m=m.slice(N,N+y),u.C=N+y,m)))}ts.prototype.cancel=function(){this.K=!0,pi(this)};function su(u){u.T=Date.now()+u.H,Px(u,u.H)}function Px(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Za(d(u.aa,u),m)}function Of(u){u.D&&(o.clearTimeout(u.D),u.D=null)}ts.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(HP(this.i,this.B),this.M!=2&&(Ja(),Vt(17)),pi(this),this.m=2,nl(this)):Px(this,this.T-u)};function nl(u){u.j.I==0||u.K||tw(u.j,u)}function pi(u){Of(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,vx(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Mf(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||Lf(y.h,u))){if(!u.L&&Lf(y.h,u)&&y.I==3){try{var N=y.Ba.g.parse(m)}catch{N=null}if(Array.isArray(N)&&N.length==3){var L=N;if(L[0]==0){e:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)uu(y),lu(y);else break e;Bf(y),Vt(18)}}else y.xa=L[1],0<y.xa-y.K&&L[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=Za(d(y.Va,y),6e3));kx(y.h)<=1&&y.ta&&(y.ta=void 0)}else gi(y,11)}else if((u.L||y.g==u)&&uu(y),!R(m))for(L=y.Ba.g.parse(m),m=0;m<L.length;m++){let ke=L[m];const vt=ke[0];if(!(vt<=y.K))if(y.K=vt,ke=ke[1],y.I==2)if(ke[0]=="c"){y.M=ke[1],y.ba=ke[2];const Zn=ke[3];Zn!=null&&(y.ka=Zn,y.j.info("VER="+y.ka));const vi=ke[4];vi!=null&&(y.za=vi,y.j.info("SVER="+y.za));const is=ke[5];is!=null&&typeof is=="number"&&is>0&&(N=1.5*is,y.O=N,y.j.info("backChannelRequestTimeoutMs_="+N)),N=y;const os=u.g;if(os){const hu=os.g?os.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hu){var V=N.h;V.g||hu.indexOf("spdy")==-1&&hu.indexOf("quic")==-1&&hu.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Vf(V,V.h),V.h=null))}if(N.G){const Hf=os.g?os.g.getResponseHeader("X-HTTP-Session-Id"):null;Hf&&(N.wa=Hf,Me(N.J,N.G,Hf))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),N=y;var H=u;if(N.na=sw(N,N.L?N.ba:null,N.W),H.L){Dx(N.h,H);var fe=H,ct=N.O;ct&&(fe.H=ct),fe.D&&(Of(fe),su(fe)),N.g=H}else Zx(N);y.i.length>0&&cu(y)}else ke[0]!="stop"&&ke[0]!="close"||gi(y,7);else y.I==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?gi(y,7):zf(y):ke[0]!="noop"&&y.l&&y.l.qa(ke),y.A=0)}}Ja(4)}catch{}}var YP=class{constructor(u,m){this.g=u,this.map=m}};function Rx(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function jx(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function kx(u){return u.h?1:u.g?u.g.size:0}function Lf(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Vf(u,m){u.g?u.g.add(m):u.h=m}function Dx(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Rx.prototype.cancel=function(){if(this.i=Ox(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ox(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return v(u.i)}var Mx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function XP(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const N=u[y].indexOf("=");let L,V=null;N>=0?(L=u[y].substring(0,N),V=u[y].substring(N+1)):L=u[y],m(L,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function ns(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof ns?(this.l=u.l,rl(this,u.j),this.o=u.o,this.g=u.g,sl(this,u.u),this.h=u.h,Ff(this,zx(u.i)),this.m=u.m):u&&(m=String(u).match(Mx))?(this.l=!1,rl(this,m[1]||"",!0),this.o=il(m[2]||""),this.g=il(m[3]||"",!0),sl(this,m[4]),this.h=il(m[5]||"",!0),Ff(this,m[6]||"",!0),this.m=il(m[7]||"")):(this.l=!1,this.i=new al(null,this.l))}ns.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ol(m,Lx,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ol(m,Lx,!0),"@"),u.push(tl(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(ol(y,y.charAt(0)=="/"?eR:ZP,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",ol(y,nR)),u.join("")},ns.prototype.resolve=function(u){const m=Jn(this);let y=!!u.j;y?rl(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var N=u.h;if(y)sl(m,u.u);else if(y=!!u.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var L=m.h.lastIndexOf("/");L!=-1&&(N=m.h.slice(0,L+1)+N)}if(L=N,L==".."||L==".")N="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){N=L.lastIndexOf("/",0)==0,L=L.split("/");const V=[];for(let H=0;H<L.length;){const fe=L[H++];fe=="."?N&&H==L.length&&V.push(""):fe==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),N&&H==L.length&&V.push("")):(V.push(fe),N=!0)}N=V.join("/")}else N=L}return y?m.h=N:y=u.i.toString()!=="",y?Ff(m,zx(u.i)):y=!!u.m,y&&(m.m=u.m),m};function Jn(u){return new ns(u)}function rl(u,m,y){u.j=y?il(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function sl(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ff(u,m,y){m instanceof al?(u.i=m,rR(u.i,u.l)):(y||(m=ol(m,tR)),u.i=new al(m,u.l))}function Me(u,m,y){u.i.set(m,y)}function iu(u){return Me(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function il(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ol(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,JP),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function JP(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Lx=/[#\/\?@]/g,ZP=/[#\?:]/g,eR=/[#\?]/g,tR=/[#\?@]/g,nR=/#/g;function al(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function mi(u){u.g||(u.g=new Map,u.h=0,u.i&&XP(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}t=al.prototype,t.add=function(u,m){mi(this),this.i=null,u=mo(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function Vx(u,m){mi(u),m=mo(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Fx(u,m){return mi(u),m=mo(u,m),u.g.has(m)}t.forEach=function(u,m){mi(this),this.g.forEach(function(y,N){y.forEach(function(L){u.call(m,L,N,this)},this)},this)};function Ux(u,m){mi(u);let y=[];if(typeof m=="string")Fx(u,m)&&(y=y.concat(u.g.get(mo(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}t.set=function(u,m){return mi(this),this.i=null,u=mo(this,u),Fx(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=Ux(this,u),u.length>0?String(u[0]):m):m};function $x(u,m,y){Vx(u,m),y.length>0&&(u.i=null,u.g.set(mo(u,m),v(y)),u.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let N=0;N<m.length;N++){var y=m[N];const L=tl(y);y=Ux(this,y);for(let V=0;V<y.length;V++){let H=L;y[V]!==""&&(H+="="+tl(y[V])),u.push(H)}}return this.i=u.join("&")};function zx(u){const m=new al;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function mo(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function rR(u,m){m&&!u.j&&(mi(u),u.i=null,u.g.forEach(function(y,N){const L=N.toLowerCase();N!=L&&(Vx(this,N),$x(this,L,y))},u)),u.j=m}function sR(u,m){const y=new el;if(o.Image){const N=new Image;N.onload=h(rs,y,"TestLoadImage: loaded",!0,m,N),N.onerror=h(rs,y,"TestLoadImage: error",!1,m,N),N.onabort=h(rs,y,"TestLoadImage: abort",!1,m,N),N.ontimeout=h(rs,y,"TestLoadImage: timeout",!1,m,N),o.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=u}else m(!1)}function iR(u,m){const y=new el,N=new AbortController,L=setTimeout(()=>{N.abort(),rs(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:N.signal}).then(V=>{clearTimeout(L),V.ok?rs(y,"TestPingServer: ok",!0,m):rs(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),rs(y,"TestPingServer: error",!1,m)})}function rs(u,m,y,N,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),N(y)}catch{}}function oR(){this.g=new zP}function Uf(u){this.i=u.Sb||null,this.h=u.ab||!1}f(Uf,yx),Uf.prototype.g=function(){return new ou(this.i,this.h)};function ou(u,m){Ze.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(ou,Ze),t=ou.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,cl(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||o).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ll(this)),this.readyState=0},t.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,cl(this)),this.g&&(this.readyState=3,cl(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Bx(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Bx(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}t.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ll(this):cl(this),this.readyState==3&&Bx(this)}},t.Oa=function(u){this.g&&(this.response=this.responseText=u,ll(this))},t.Na=function(u){this.g&&(this.response=u,ll(this))},t.ga=function(){this.g&&ll(this)};function ll(u){u.readyState=4,u.l=null,u.j=null,u.B=null,cl(u)}t.setRequestHeader=function(u,m){this.A.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function cl(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ou.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Wx(u){let m="";return W(u,function(y,N){m+=N,m+=":",m+=y,m+=`\r
`}),m}function $f(u,m,y){e:{for(N in y){var N=!1;break e}N=!0}N||(y=Wx(y),typeof u=="string"?y!=null&&tl(y):Me(u,m,y))}function Ye(u){Ze.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Ye,Ze);var aR=/^https?$/i,lR=["POST","PUT"];t=Ye.prototype,t.Fa=function(u){this.H=u},t.ea=function(u,m,y,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():bx.g(),this.g.onreadystatechange=p(d(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(V){Hx(this,V);return}if(u=y||"",y=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var L in N)y.set(L,N[L]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const V of N.keys())y.set(V,N.get(V));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(y.keys()).find(V=>V.toLowerCase()=="content-type"),L=o.FormData&&u instanceof o.FormData,!(Array.prototype.indexOf.call(lR,m,void 0)>=0)||N||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,H]of y)this.g.setRequestHeader(V,H);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(V){Hx(this,V)}};function Hx(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,qx(u),au(u)}function qx(u){u.A||(u.A=!0,Lt(u,"complete"),Lt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Lt(this,"complete"),Lt(this,"abort"),au(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),au(this,!0)),Ye.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Gx(this):this.Xa())},t.Xa=function(){Gx(this)};function Gx(u){if(u.h&&typeof i<"u"){if(u.v&&ss(u)==4)setTimeout(u.Ca.bind(u),0);else if(Lt(u,"readystatechange"),ss(u)==4){u.h=!1;try{const V=u.ca();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var y;if(!(y=m)){var N;if(N=V===0){let H=String(u.D).match(Mx)[1]||null;!H&&o.self&&o.self.location&&(H=o.self.location.protocol.slice(0,-1)),N=!aR.test(H?H.toLowerCase():"")}y=N}if(y)Lt(u,"complete"),Lt(u,"success");else{u.o=6;try{var L=ss(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",qx(u)}}finally{au(u)}}}}function au(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||Lt(u,"ready");try{y.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ss(u){return u.g?u.g.readyState:0}t.ca=function(){try{return ss(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),$P(m)}};function Kx(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function cR(u){const m={};u=(u.g&&ss(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<u.length;N++){if(R(u[N]))continue;var y=GP(u[N]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const V=m[L]||[];m[L]=V,V.push(y)}Y(m,function(N){return N.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ul(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function Qx(u){this.za=0,this.i=[],this.j=new el,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ul("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ul("baseRetryDelayMs",5e3,u),this.Za=ul("retryDelaySeedMs",1e4,u),this.Ta=ul("forwardChannelMaxRetries",2,u),this.va=ul("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Rx(u&&u.concurrentRequestLimit),this.Ba=new oR,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Qx.prototype,t.ka=8,t.I=1,t.connect=function(u,m,y,N){Vt(0),this.W=u,this.H=m||{},y&&N!==void 0&&(this.H.OSID=y,this.H.OAID=N),this.F=this.X,this.J=sw(this,null,this.W),cu(this)};function zf(u){if(Yx(u),u.I==3){var m=u.V++,y=Jn(u.J);if(Me(y,"SID",u.M),Me(y,"RID",m),Me(y,"TYPE","terminate"),dl(u,y),m=new ts(u,u.j,m),m.M=2,m.A=iu(Jn(y)),y=!1,o.navigator&&o.navigator.sendBeacon)try{y=o.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&o.Image&&(new Image().src=m.A,y=!0),y||(m.g=iw(m.j,null),m.g.ea(m.A)),m.F=Date.now(),su(m)}rw(u)}function lu(u){u.g&&(Wf(u),u.g.cancel(),u.g=null)}function Yx(u){lu(u),u.v&&(o.clearTimeout(u.v),u.v=null),uu(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&o.clearTimeout(u.m),u.m=null)}function cu(u){if(!jx(u.h)&&!u.m){u.m=!0;var m=u.Ea;k||T(),M||(k(),M=!0),_.add(m,u),u.D=0}}function uR(u,m){return kx(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Za(d(u.Ea,u,m),nw(u,u.D)),u.D++,!0)}t.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new ts(this,this.j,u);let V=this.o;if(this.U&&(V?(V=ae(V),gt(V,this.U)):V=this.U),this.u!==null||this.R||(L.J=V,V=null),this.S)e:{for(var m=0,y=0;y<this.i.length;y++){t:{var N=this.i[y];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(m+=N,m>4096){m=y;break e}if(m===4096||y===this.i.length-1){m=y+1;break e}}m=1e3}else m=1e3;m=Jx(this,L,m),y=Jn(this.J),Me(y,"RID",u),Me(y,"CVER",22),this.G&&Me(y,"X-HTTP-Session-Id",this.G),dl(this,y),V&&(this.R?m="headers="+tl(Wx(V))+"&"+m:this.u&&$f(y,this.u,V)),Vf(this.h,L),this.Ra&&Me(y,"TYPE","init"),this.S?(Me(y,"$req",m),Me(y,"SID","null"),L.U=!0,Df(L,y,null)):Df(L,y,m),this.I=2}}else this.I==3&&(u?Xx(this,u):this.i.length==0||jx(this.h)||Xx(this))};function Xx(u,m){var y;m?y=m.l:y=u.V++;const N=Jn(u.J);Me(N,"SID",u.M),Me(N,"RID",y),Me(N,"AID",u.K),dl(u,N),u.u&&u.o&&$f(N,u.u,u.o),y=new ts(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Jx(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Vf(u.h,y),Df(y,N,m)}function dl(u,m){u.H&&W(u.H,function(y,N){Me(m,N,y)}),u.l&&W({},function(y,N){Me(m,N,y)})}function Jx(u,m,y){y=Math.min(u.i.length,y);const N=u.l?d(u.l.Ka,u.l,u):null;e:{var L=u.i;let fe=-1;for(;;){const ct=["count="+y];fe==-1?y>0?(fe=L[0].g,ct.push("ofs="+fe)):fe=0:ct.push("ofs="+fe);let ke=!0;for(let vt=0;vt<y;vt++){var V=L[vt].g;const Zn=L[vt].map;if(V-=fe,V<0)fe=Math.max(0,L[vt].g-100),ke=!1;else try{V="req"+V+"_"||"";try{var H=Zn instanceof Map?Zn:Object.entries(Zn);for(const[vi,is]of H){let os=is;l(is)&&(os=Af(is)),ct.push(V+vi+"="+encodeURIComponent(os))}}catch(vi){throw ct.push(V+"type="+encodeURIComponent("_badmap")),vi}}catch{N&&N(Zn)}}if(ke){H=ct.join("&");break e}}H=void 0}return u=u.i.splice(0,y),m.G=u,H}function Zx(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;k||T(),M||(k(),M=!0),_.add(m,u),u.A=0}}function Bf(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Za(d(u.Da,u),nw(u,u.A)),u.A++,!0)}t.Da=function(){if(this.v=null,ew(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Za(d(this.Wa,this),u)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Vt(10),lu(this),ew(this))};function Wf(u){u.B!=null&&(o.clearTimeout(u.B),u.B=null)}function ew(u){u.g=new ts(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Jn(u.na);Me(m,"RID","rpc"),Me(m,"SID",u.M),Me(m,"AID",u.K),Me(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Me(m,"TO",u.ia),Me(m,"TYPE","xmlhttp"),dl(u,m),u.u&&u.o&&$f(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=iu(Jn(m)),y.u=null,y.R=!0,Nx(y,u)}t.Va=function(){this.C!=null&&(this.C=null,lu(this),Bf(this),Vt(19))};function uu(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function tw(u,m){var y=null;if(u.g==m){uu(u),Wf(u),u.g=null;var N=2}else if(Lf(u.h,m))y=m.G,Dx(u.h,m),N=1;else return;if(u.I!=0){if(m.o)if(N==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;N=nu(),Lt(N,new Tx(N,y)),cu(u)}else Zx(u);else if(L=m.m,L==3||L==0&&m.X>0||!(N==1&&uR(u,m)||N==2&&Bf(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),L){case 1:gi(u,5);break;case 4:gi(u,10);break;case 3:gi(u,6);break;default:gi(u,2)}}}function nw(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function gi(u,m){if(u.j.info("Error code "+m),m==2){var y=d(u.bb,u),N=u.Ua;const L=!N;N=new ns(N||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||rl(N,"https"),iu(N),L?sR(N.toString(),y):iR(N.toString(),y)}else Vt(2);u.I=0,u.l&&u.l.pa(m),rw(u),Yx(u)}t.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function rw(u){if(u.I=0,u.ja=[],u.l){const m=Ox(u.h);(m.length!=0||u.i.length!=0)&&(I(u.ja,m),I(u.ja,u.i),u.h.i.length=0,v(u.i),u.i.length=0),u.l.oa()}}function sw(u,m,y){var N=y instanceof ns?Jn(y):new ns(y);if(N.g!="")m&&(N.g=m+"."+N.g),sl(N,N.u);else{var L=o.location;N=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const V=new ns(null);N&&rl(V,N),m&&(V.g=m),L&&sl(V,L),y&&(V.h=y),N=V}return y=u.G,m=u.wa,y&&m&&Me(N,y,m),Me(N,"VER",u.ka),dl(u,N),N}function iw(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Ye(new Uf({ab:y})):new Ye(u.ma),m.Fa(u.L),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ow(){}t=ow.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function du(){}du.prototype.g=function(u,m){return new un(u,m)};function un(u,m){Ze.call(this),this.g=new Qx(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new go(this)}f(un,Ze),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){zf(this.g)},un.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=Af(u),u=y);m.i.push(new YP(m.Ya++,u)),m.I==3&&cu(m)},un.prototype.N=function(){this.g.l=null,delete this.j,zf(this.g),delete this.g,un.Z.N.call(this)};function aw(u){Pf.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const y in m){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}f(aw,Pf);function lw(){Rf.call(this),this.status=1}f(lw,Rf);function go(u){this.g=u}f(go,ow),go.prototype.ra=function(){Lt(this.g,"a")},go.prototype.qa=function(u){Lt(this.g,new aw(u))},go.prototype.pa=function(u){Lt(this.g,new lw)},go.prototype.oa=function(){Lt(this.g,"b")},du.prototype.createWebChannel=du.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,XC=function(){return new du},YC=function(){return nu()},QC=fi,wg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ru.NO_ERROR=0,ru.TIMEOUT=8,ru.HTTP_ERROR=6,fd=ru,Sx.COMPLETE="complete",KC=Sx,xx.EventType=Xa,Xa.OPEN="a",Xa.CLOSE="b",Xa.ERROR="c",Xa.MESSAGE="d",Ze.prototype.listen=Ze.prototype.J,Nl=xx,Ye.prototype.listenOnce=Ye.prototype.K,Ye.prototype.getLastError=Ye.prototype.Ha,Ye.prototype.getLastErrorCode=Ye.prototype.ya,Ye.prototype.getStatus=Ye.prototype.ca,Ye.prototype.getResponseJson=Ye.prototype.La,Ye.prototype.getResponseText=Ye.prototype.la,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Fa,GC=Ye}).apply(typeof Vu<"u"?Vu:typeof self<"u"?self:typeof window<"u"?window:{});const AE="@firebase/firestore",PE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jt.UNAUTHENTICATED=new jt(null),jt.GOOGLE_CREDENTIALS=new jt("google-credentials-uid"),jt.FIRST_PARTY=new jt("first-party-uid"),jt.MOCK_USER=new jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ha="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new ly("@firebase/firestore");function _o(){return Ji.logLevel}function G(t,...e){if(Ji.logLevel<=ve.DEBUG){const n=e.map(_y);Ji.debug(`Firestore (${Ha}): ${t}`,...n)}}function Xr(t,...e){if(Ji.logLevel<=ve.ERROR){const n=e.map(_y);Ji.error(`Firestore (${Ha}): ${t}`,...n)}}function Ia(t,...e){if(Ji.logLevel<=ve.WARN){const n=e.map(_y);Ji.warn(`Firestore (${Ha}): ${t}`,...n)}}function _y(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,JC(t,r,n)}function JC(t,e,n){let r=`FIRESTORE (${Ha}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Xr(r),new Error(r)}function Ae(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||JC(e,s,r)}function de(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends es{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class u3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(jt.UNAUTHENTICATED))}shutdown(){}}class d3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class h3{constructor(e){this.t=e,this.currentUser=jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ae(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new qs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new qs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new qs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string",31837,{l:r}),new ZC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string",2055,{h:e}),new jt(e)}}class f3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class p3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new f3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class RE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class m3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ae(this.o===void 0,3512);const r=i=>{i.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new RE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ae(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new RE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=g3(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ye(t,e){return t<e?-1:t>e?1:0}function _g(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return kp(s)===kp(i)?ye(s,i):kp(s)?1:-1}return ye(t.length,e.length)}const v3=55296,y3=57343;function kp(t){const e=t.charCodeAt(0);return e>=v3&&e<=y3}function Ca(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="__name__";class rr{constructor(e,n,r){n===void 0?n=0:n>e.length&&ie(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ie(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return rr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof rr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=rr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ye(e.length,n.length)}static compareSegments(e,n){const r=rr.isNumericId(e),s=rr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?rr.extractNumericId(e).compare(rr.extractNumericId(n)):_g(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hs.fromString(e.substring(4,e.length-2))}}class qe extends rr{construct(e,n,r){return new qe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new qe(n)}static emptyPath(){return new qe([])}}const x3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bt extends rr{construct(e,n,r){return new bt(e,n,r)}static isValidIdentifier(e){return x3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jE}static keyField(){return new bt([jE])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new X($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new X($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new X($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new X($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bt(n)}static emptyPath(){return new bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(qe.fromString(e))}static fromName(e){return new ne(qe.fromString(e).popFirst(5))}static empty(){return new ne(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new qe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(t,e,n){if(!n)throw new X($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _3(t,e,n,r){if(e===!0&&r===!0)throw new X($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function kE(t){if(!ne.isDocumentKey(t))throw new X($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function eN(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ty(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie(12329,{type:typeof t})}function Zi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ty(t);throw new X($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(t,e){const n={typeString:t};return e&&(n.value=e),n}function Gc(t,e){if(!eN(t))throw new X($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new X($.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=-62135596800,OE=1e6;class Fe{static now(){return Fe.fromMillis(Date.now())}static fromDate(e){return Fe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*OE);return new Fe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<DE)throw new X($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/OE}_compareTo(e){return this.seconds===e.seconds?ye(this.nanoseconds,e.nanoseconds):ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Fe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Gc(e,Fe._jsonSchema))return new Fe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-DE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Fe._jsonSchemaVersion="firestore/timestamp/1.0",Fe._jsonSchema={type:ot("string",Fe._jsonSchemaVersion),seconds:ot("number"),nanoseconds:ot("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{static fromTimestamp(e){return new ce(e)}static min(){return new ce(new Fe(0,0))}static max(){return new ce(new Fe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=-1;function E3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ce.fromTimestamp(r===1e9?new Fe(n+1,0):new Fe(n,r));return new Xs(s,ne.empty(),e)}function T3(t){return new Xs(t.readTime,t.key,xc)}class Xs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Xs(ce.min(),ne.empty(),xc)}static max(){return new Xs(ce.max(),ne.empty(),xc)}}function S3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class I3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qa(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==b3)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(s=>s?U.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new U((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(h=>{o[d]=h,++l,l===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new U((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function C3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ga(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ef.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy=-1;function tf(t){return t==null}function ih(t){return t===0&&1/t==-1/0}function N3(t){return typeof t=="number"&&Number.isInteger(t)&&!ih(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN="";function A3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ME(e)),e=P3(t.get(n),e);return ME(e)}function P3(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case tN:n+="";break;default:n+=i}}return n}function ME(t){return t+tN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function li(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,n){this.comparator=e,this.root=n||St.EMPTY}insert(e,n){return new Qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,St.BLACK,null,null))}remove(e){return new Qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,St.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fu(this.root,e,this.comparator,!0)}}class Fu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class St{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??St.RED,this.left=s??St.EMPTY,this.right=i??St.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new St(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return St.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return St.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,St.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,St.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ie(27949);return e+(this.isRed()?0:1)}}St.EMPTY=null,St.RED=!0,St.BLACK=!1;St.EMPTY=new class{constructor(){this.size=0}get key(){throw ie(57766)}get value(){throw ie(16141)}get color(){throw ie(16727)}get left(){throw ie(29726)}get right(){throw ie(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new St(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.comparator=e,this.data=new Qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new VE(this.data.getIterator())}getIteratorFrom(e){return new VE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new mt(this.comparator);return n.data=e,n}}class VE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.fields=e,e.sort(bt.comparator)}static empty(){return new pn([])}unionWith(e){let n=new mt(bt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ca(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new rN("Invalid base64 string: "+i):i}}(e);return new Nt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Nt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nt.EMPTY_BYTE_STRING=new Nt("");const R3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Js(t){if(Ae(!!t,39018),typeof t=="string"){let e=0;const n=R3.exec(t);if(Ae(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:et(t.seconds),nanos:et(t.nanos)}}function et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Zs(t){return typeof t=="string"?Nt.fromBase64String(t):Nt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN="server_timestamp",iN="__type__",oN="__previous_value__",aN="__local_write_time__";function by(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[iN])==null?void 0:r.stringValue)===sN}function nf(t){const e=t.mapValue.fields[oN];return by(e)?nf(e):e}function wc(t){const e=Js(t.mapValue.fields[aN].timestampValue);return new Fe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e,n,r,s,i,o,l,c,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h}}const oh="(default)";class _c{constructor(e,n){this.projectId=e,this.database=n||oh}static empty(){return new _c("","")}get isDefaultDatabase(){return this.database===oh}isEqual(e){return e instanceof _c&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN="__type__",k3="__max__",Uu={mapValue:{}},cN="__vector__",ah="value";function ei(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?by(t)?4:O3(t)?9007199254740991:D3(t)?10:11:ie(28295,{value:t})}function _r(t,e){if(t===e)return!0;const n=ei(t);if(n!==ei(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wc(t).isEqual(wc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Js(s.timestampValue),l=Js(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Zs(s.bytesValue).isEqual(Zs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return et(s.geoPointValue.latitude)===et(i.geoPointValue.latitude)&&et(s.geoPointValue.longitude)===et(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return et(s.integerValue)===et(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=et(s.doubleValue),l=et(i.doubleValue);return o===l?ih(o)===ih(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Ca(t.arrayValue.values||[],e.arrayValue.values||[],_r);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(LE(o)!==LE(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!_r(o[c],l[c])))return!1;return!0}(t,e);default:return ie(52216,{left:t})}}function Ec(t,e){return(t.values||[]).find(n=>_r(n,e))!==void 0}function Na(t,e){if(t===e)return 0;const n=ei(t),r=ei(e);if(n!==r)return ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ye(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=et(i.integerValue||i.doubleValue),c=et(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return FE(t.timestampValue,e.timestampValue);case 4:return FE(wc(t),wc(e));case 5:return _g(t.stringValue,e.stringValue);case 6:return function(i,o){const l=Zs(i),c=Zs(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),c=o.split("/");for(let d=0;d<l.length&&d<c.length;d++){const h=ye(l[d],c[d]);if(h!==0)return h}return ye(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=ye(et(i.latitude),et(o.latitude));return l!==0?l:ye(et(i.longitude),et(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return UE(t.arrayValue,e.arrayValue);case 10:return function(i,o){var p,v,I,w;const l=i.fields||{},c=o.fields||{},d=(p=l[ah])==null?void 0:p.arrayValue,h=(v=c[ah])==null?void 0:v.arrayValue,f=ye(((I=d==null?void 0:d.values)==null?void 0:I.length)||0,((w=h==null?void 0:h.values)==null?void 0:w.length)||0);return f!==0?f:UE(d,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Uu.mapValue&&o===Uu.mapValue)return 0;if(i===Uu.mapValue)return 1;if(o===Uu.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),d=o.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const p=_g(c[f],h[f]);if(p!==0)return p;const v=Na(l[c[f]],d[h[f]]);if(v!==0)return v}return ye(c.length,h.length)}(t.mapValue,e.mapValue);default:throw ie(23264,{he:n})}}function FE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ye(t,e);const n=Js(t),r=Js(e),s=ye(n.seconds,r.seconds);return s!==0?s:ye(n.nanos,r.nanos)}function UE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Na(n[s],r[s]);if(i)return i}return ye(n.length,r.length)}function Aa(t){return Eg(t)}function Eg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Js(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Zs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Eg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Eg(n.fields[o])}`;return s+"}"}(t.mapValue):ie(61005,{value:t})}function pd(t){switch(ei(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nf(t);return e?16+pd(e):16;case 5:return 2*t.stringValue.length;case 6:return Zs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+pd(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return li(r.fields,(i,o)=>{s+=i.length+pd(o)}),s}(t.mapValue);default:throw ie(13486,{value:t})}}function Tg(t){return!!t&&"integerValue"in t}function Iy(t){return!!t&&"arrayValue"in t}function $E(t){return!!t&&"nullValue"in t}function zE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function md(t){return!!t&&"mapValue"in t}function D3(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[lN])==null?void 0:r.stringValue)===cN}function Hl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return li(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Hl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hl(t.arrayValue.values[n]);return e}return{...t}}function O3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===k3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!md(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(n)}setAll(e){let n=bt.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=Hl(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());md(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _r(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];md(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){li(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new rn(Hl(this.value))}}function uN(t){const e=[];return li(t.fields,(n,r)=>{const s=new bt([n]);if(md(r)){const i=uN(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Dt(e,0,ce.min(),ce.min(),ce.min(),rn.empty(),0)}static newFoundDocument(e,n,r,s){return new Dt(e,1,n,ce.min(),r,s,0)}static newNoDocument(e,n){return new Dt(e,2,n,ce.min(),ce.min(),rn.empty(),0)}static newUnknownDocument(e,n){return new Dt(e,3,n,ce.min(),ce.min(),rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n){this.position=e,this.inclusive=n}}function BE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),n.key):r=Na(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function WE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_r(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n="asc"){this.field=e,this.dir=n}}function M3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{}class ht extends dN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new V3(e,n,r):n==="array-contains"?new $3(e,r):n==="in"?new z3(e,r):n==="not-in"?new B3(e,r):n==="array-contains-any"?new W3(e,r):new ht(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new F3(e,r):new U3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Na(n,this.value)):n!==null&&ei(this.value)===ei(n)&&this.matchesComparison(Na(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Er extends dN{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Er(e,n)}matches(e){return hN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function hN(t){return t.op==="and"}function fN(t){return L3(t)&&hN(t)}function L3(t){for(const e of t.filters)if(e instanceof Er)return!1;return!0}function Sg(t){if(t instanceof ht)return t.field.canonicalString()+t.op.toString()+Aa(t.value);if(fN(t))return t.filters.map(e=>Sg(e)).join(",");{const e=t.filters.map(n=>Sg(n)).join(",");return`${t.op}(${e})`}}function pN(t,e){return t instanceof ht?function(r,s){return s instanceof ht&&r.op===s.op&&r.field.isEqual(s.field)&&_r(r.value,s.value)}(t,e):t instanceof Er?function(r,s){return s instanceof Er&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&pN(o,s.filters[l]),!0):!1}(t,e):void ie(19439)}function mN(t){return t instanceof ht?function(n){return`${n.field.canonicalString()} ${n.op} ${Aa(n.value)}`}(t):t instanceof Er?function(n){return n.op.toString()+" {"+n.getFilters().map(mN).join(" ,")+"}"}(t):"Filter"}class V3 extends ht{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class F3 extends ht{constructor(e,n){super(e,"in",n),this.keys=gN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class U3 extends ht{constructor(e,n){super(e,"not-in",n),this.keys=gN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function gN(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class $3 extends ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Iy(n)&&Ec(n.arrayValue,this.value)}}class z3 extends ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ec(this.value.arrayValue,n)}}class B3 extends ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ec(this.value.arrayValue,n)}}class W3 extends ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Iy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ec(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.Te=null}}function HE(t,e=null,n=[],r=[],s=null,i=null,o=null){return new H3(t,e,n,r,s,i,o)}function Cy(t){const e=de(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Sg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),tf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Aa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Aa(r)).join(",")),e.Te=n}return e.Te}function Ny(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!M3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!pN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!WE(t.startAt,e.startAt)&&WE(t.endAt,e.endAt)}function bg(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function q3(t,e,n,r,s,i,o,l){return new rf(t,e,n,r,s,i,o,l)}function Ay(t){return new rf(t)}function qE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function G3(t){return t.collectionGroup!==null}function ql(t){const e=de(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new mt(bt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new ch(i,r))}),n.has(bt.keyField().canonicalString())||e.Ie.push(new ch(bt.keyField(),r))}return e.Ie}function pr(t){const e=de(t);return e.Ee||(e.Ee=K3(e,ql(t))),e.Ee}function K3(t,e){if(t.limitType==="F")return HE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new ch(s.field,i)});const n=t.endAt?new lh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new lh(t.startAt.position,t.startAt.inclusive):null;return HE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ig(t,e,n){return new rf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sf(t,e){return Ny(pr(t),pr(e))&&t.limitType===e.limitType}function vN(t){return`${Cy(pr(t))}|lt:${t.limitType}`}function Eo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>mN(s)).join(", ")}]`),tf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Aa(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Aa(s)).join(",")),`Target(${r})`}(pr(t))}; limitType=${t.limitType})`}function of(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ne.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of ql(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,c){const d=BE(o,l,c);return o.inclusive?d<=0:d<0}(r.startAt,ql(r),s)||r.endAt&&!function(o,l,c){const d=BE(o,l,c);return o.inclusive?d>=0:d>0}(r.endAt,ql(r),s))}(t,e)}function Q3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function yN(t){return(e,n)=>{let r=!1;for(const s of ql(t)){const i=Y3(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function Y3(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(i,o,l){const c=o.data.field(i),d=l.data.field(i);return c!==null&&d!==null?Na(c,d):ie(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ie(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){li(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return nN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3=new Qe(ne.comparator);function Jr(){return X3}const xN=new Qe(ne.comparator);function Al(...t){let e=xN;for(const n of t)e=e.insert(n.key,n);return e}function wN(t){let e=xN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ii(){return Gl()}function _N(){return Gl()}function Gl(){return new co(t=>t.toString(),(t,e)=>t.isEqual(e))}const J3=new Qe(ne.comparator),Z3=new mt(ne.comparator);function xe(...t){let e=Z3;for(const n of t)e=e.add(n);return e}const e6=new mt(ye);function t6(){return e6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ih(e)?"-0":e}}function EN(t){return{integerValue:""+t}}function n6(t,e){return N3(e)?EN(e):Py(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(){this._=void 0}}function r6(t,e,n){return t instanceof uh?function(s,i){const o={fields:{[iN]:{stringValue:sN},[aN]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&by(i)&&(i=nf(i)),i&&(o.fields[oN]=i),{mapValue:o}}(n,e):t instanceof Tc?SN(t,e):t instanceof Sc?bN(t,e):function(s,i){const o=TN(s,i),l=GE(o)+GE(s.Ae);return Tg(o)&&Tg(s.Ae)?EN(l):Py(s.serializer,l)}(t,e)}function s6(t,e,n){return t instanceof Tc?SN(t,e):t instanceof Sc?bN(t,e):n}function TN(t,e){return t instanceof dh?function(r){return Tg(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class uh extends af{}class Tc extends af{constructor(e){super(),this.elements=e}}function SN(t,e){const n=IN(e);for(const r of t.elements)n.some(s=>_r(s,r))||n.push(r);return{arrayValue:{values:n}}}class Sc extends af{constructor(e){super(),this.elements=e}}function bN(t,e){let n=IN(e);for(const r of t.elements)n=n.filter(s=>!_r(s,r));return{arrayValue:{values:n}}}class dh extends af{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function GE(t){return et(t.integerValue||t.doubleValue)}function IN(t){return Iy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function i6(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Tc&&s instanceof Tc||r instanceof Sc&&s instanceof Sc?Ca(r.elements,s.elements,_r):r instanceof dh&&s instanceof dh?_r(r.Ae,s.Ae):r instanceof uh&&s instanceof uh}(t.transform,e.transform)}class o6{constructor(e,n){this.version=e,this.transformResults=n}}class mr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mr}static exists(e){return new mr(void 0,e)}static updateTime(e){return new mr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class lf{}function CN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new AN(t.key,mr.none()):new Kc(t.key,t.data,mr.none());{const n=t.data,r=rn.empty();let s=new mt(bt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ci(t.key,r,new pn(s.toArray()),mr.none())}}function a6(t,e,n){t instanceof Kc?function(s,i,o){const l=s.value.clone(),c=QE(s.fieldTransforms,i,o.transformResults);l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof ci?function(s,i,o){if(!gd(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=QE(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(NN(s)),c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Kl(t,e,n,r){return t instanceof Kc?function(i,o,l,c){if(!gd(i.precondition,o))return l;const d=i.value.clone(),h=YE(i.fieldTransforms,c,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof ci?function(i,o,l,c){if(!gd(i.precondition,o))return l;const d=YE(i.fieldTransforms,c,o),h=o.data;return h.setAll(NN(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,l){return gd(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function l6(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=TN(r.transform,s||null);i!=null&&(n===null&&(n=rn.empty()),n.set(r.field,i))}return n||null}function KE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ca(r,s,(i,o)=>i6(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Kc extends lf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ci extends lf{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function NN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function QE(t,e,n){const r=new Map;Ae(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,s6(o,l,n[s]))}return r}function YE(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,r6(i,o,e))}return r}class AN extends lf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class c6 extends lf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&a6(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Kl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Kl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=_N();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const c=CN(o,l);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xe())}isEqual(e){return this.batchId===e.batchId&&Ca(this.mutations,e.mutations,(n,r)=>KE(n,r))&&Ca(this.baseMutations,e.baseMutations,(n,r)=>KE(n,r))}}class Ry{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ae(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return J3}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Ry(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d6=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt,_e;function f6(t){switch(t){case $.OK:return ie(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return ie(15467,{code:t})}}function PN(t){if(t===void 0)return Xr("GRPC error has no .code"),$.UNKNOWN;switch(t){case rt.OK:return $.OK;case rt.CANCELLED:return $.CANCELLED;case rt.UNKNOWN:return $.UNKNOWN;case rt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case rt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case rt.INTERNAL:return $.INTERNAL;case rt.UNAVAILABLE:return $.UNAVAILABLE;case rt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case rt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case rt.NOT_FOUND:return $.NOT_FOUND;case rt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case rt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case rt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case rt.ABORTED:return $.ABORTED;case rt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case rt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case rt.DATA_LOSS:return $.DATA_LOSS;default:return ie(39323,{code:t})}}(_e=rt||(rt={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6=new Hs([4294967295,4294967295],0);function XE(t){const e=p6().encode(t),n=new qC;return n.update(e),new Uint8Array(n.digest())}function JE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Hs([n,r],0),new Hs([s,i],0)]}class jy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Pl(`Invalid padding: ${n}`);if(r<0)throw new Pl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Pl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Pl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Hs.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Hs.fromNumber(r)));return s.compare(m6)===1&&(s=new Hs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=XE(e),[r,s]=JE(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new jy(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.ge===0)return;const n=XE(e),[r,s]=JE(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Qc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new cf(ce.min(),s,new Qe(ye),Jr(),xe())}}class Qc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Qc(r,n,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class RN{constructor(e,n){this.targetId=e,this.Ce=n}}class jN{constructor(e,n,r=Nt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class ZE{constructor(){this.ve=0,this.Fe=e0(),this.Me=Nt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=xe(),n=xe(),r=xe();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ie(38017,{changeType:i})}}),new Qc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=e0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ae(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class g6{constructor(e){this.Ge=e,this.ze=new Map,this.je=Jr(),this.Je=$u(),this.He=$u(),this.Ye=new Qe(ye)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ie(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(bg(i))if(r===0){const o=new ne(i.path);this.et(n,o,Dt.newNoDocument(o,ce.min()))}else Ae(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const l=this.ut(e),c=l?this.ct(l,e,o):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=Zs(r).toUint8Array()}catch(c){if(c instanceof rN)return Ia("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new jy(o,s,i)}catch(c){return Ia(c instanceof Pl?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const l=this.ot(o);if(l){if(i.current&&bg(l.target)){const c=new ne(l.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,Dt.newNoDocument(c,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=xe();this.He.forEach((i,o)=>{let l=!0;o.forEachWhile(c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new cf(e,n,this.Ye,this.je,r);return this.je=Jr(),this.Je=$u(),this.He=$u(),this.Ye=new Qe(ye),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new ZE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new mt(ye),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new mt(ye),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ZE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function $u(){return new Qe(ne.comparator)}function e0(){return new Qe(ne.comparator)}const v6={asc:"ASCENDING",desc:"DESCENDING"},y6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},x6={and:"AND",or:"OR"};class w6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Cg(t,e){return t.useProto3Json||tf(e)?e:{value:e}}function hh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _6(t,e){return hh(t,e.toTimestamp())}function gr(t){return Ae(!!t,49232),ce.fromTimestamp(function(n){const r=Js(n);return new Fe(r.seconds,r.nanos)}(t))}function ky(t,e){return Ng(t,e).canonicalString()}function Ng(t,e){const n=function(s){return new qe(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function DN(t){const e=qe.fromString(t);return Ae(FN(e),10190,{key:e.toString()}),e}function Ag(t,e){return ky(t.databaseId,e.path)}function Dp(t,e){const n=DN(e);if(n.get(1)!==t.databaseId.projectId)throw new X($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(MN(n))}function ON(t,e){return ky(t.databaseId,e)}function E6(t){const e=DN(t);return e.length===4?qe.emptyPath():MN(e)}function Pg(t){return new qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function MN(t){return Ae(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function t0(t,e,n){return{name:Ag(t,e),fields:n.value.mapValue.fields}}function T6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ie(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(Ae(h===void 0||typeof h=="string",58123),Nt.fromBase64String(h||"")):(Ae(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Nt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(d){const h=d.code===void 0?$.UNKNOWN:PN(d.code);return new X(h,d.message||"")}(o);n=new jN(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Dp(t,r.document.name),i=gr(r.document.updateTime),o=r.document.createTime?gr(r.document.createTime):ce.min(),l=new rn({mapValue:{fields:r.document.fields}}),c=Dt.newFoundDocument(s,i,o,l),d=r.targetIds||[],h=r.removedTargetIds||[];n=new vd(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Dp(t,r.document),i=r.readTime?gr(r.readTime):ce.min(),o=Dt.newNoDocument(s,i),l=r.removedTargetIds||[];n=new vd([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Dp(t,r.document),i=r.removedTargetIds||[];n=new vd([],i,s,null)}else{if(!("filter"in e))return ie(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new h6(s,i),l=r.targetId;n=new RN(l,o)}}return n}function S6(t,e){let n;if(e instanceof Kc)n={update:t0(t,e.key,e.value)};else if(e instanceof AN)n={delete:Ag(t,e.key)};else if(e instanceof ci)n={update:t0(t,e.key,e.data),updateMask:k6(e.fieldMask)};else{if(!(e instanceof c6))return ie(16599,{Vt:e.type});n={verify:Ag(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof uh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Tc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Sc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof dh)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw ie(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:_6(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ie(27497)}(t,e.precondition)),n}function b6(t,e){return t&&t.length>0?(Ae(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?gr(s.updateTime):gr(i);return o.isEqual(ce.min())&&(o=gr(i)),new o6(o,s.transformResults||[])}(n,e))):[]}function I6(t,e){return{documents:[ON(t,e.path)]}}function C6(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ON(t,s);const i=function(d){if(d.length!==0)return VN(Er.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(p){return{field:To(p.field),direction:P6(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Cg(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:s}}function N6(t){let e=E6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ae(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const p=LN(f);return p instanceof Er&&fN(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(I){return new ch(So(I.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(f){let p;return p=typeof f=="object"?f.value:f,tf(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(f){const p=!!f.before,v=f.values||[];return new lh(v,p)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const p=!f.before,v=f.values||[];return new lh(v,p)}(n.endAt)),q3(e,s,o,i,l,"F",c,d)}function A6(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function LN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=So(n.unaryFilter.field);return ht.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=So(n.unaryFilter.field);return ht.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=So(n.unaryFilter.field);return ht.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=So(n.unaryFilter.field);return ht.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ie(61313);default:return ie(60726)}}(t):t.fieldFilter!==void 0?function(n){return ht.create(So(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ie(58110);default:return ie(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Er.create(n.compositeFilter.filters.map(r=>LN(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ie(1026)}}(n.compositeFilter.op))}(t):ie(30097,{filter:t})}function P6(t){return v6[t]}function R6(t){return y6[t]}function j6(t){return x6[t]}function To(t){return{fieldPath:t.canonicalString()}}function So(t){return bt.fromServerFormat(t.fieldPath)}function VN(t){return t instanceof ht?function(n){if(n.op==="=="){if(zE(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NAN"}};if($E(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(zE(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NAN"}};if($E(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:To(n.field),op:R6(n.op),value:n.value}}}(t):t instanceof Er?function(n){const r=n.getFilters().map(s=>VN(s));return r.length===1?r[0]:{compositeFilter:{op:j6(n.op),filters:r}}}(t):ie(54877,{filter:t})}function k6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function FN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n,r,s,i=ce.min(),o=ce.min(),l=Nt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new js(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e){this.yt=e}}function O6(t){const e=N6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ig(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(){this.Cn=new L6}addToCollectionParentIndex(e,n){return this.Cn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Xs.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Xs.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class L6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new mt(qe.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new mt(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UN=41943040;class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(UN,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Pa(0)}static cr(){return new Pa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="LruGarbageCollector",V6=1048576;function s0([t,e],[n,r]){const s=ye(t,n);return s===0?ye(e,r):s}class F6{constructor(e){this.Ir=e,this.buffer=new mt(s0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();s0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class U6{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){G(r0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ga(n)?G(r0,"Ignoring IndexedDB error during garbage collection: ",n):await qa(n)}await this.Vr(3e5)})}}class $6{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(ef.ce);const r=new F6(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(n0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),n0):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,l,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(d=Date.now(),_o()<=ve.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function z6(t,e){return new $6(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(){this.changes=new co(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Kl(r.mutation,s,pn.empty(),Fe.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=xe()){const s=Ii();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Al();return i.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ii();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,xe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=Jr();const o=Gl(),l=function(){return Gl()}();return n.forEach((c,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof ci)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),Kl(h.mutation,d,h.mutation.getFieldMask(),Fe.now())):o.set(d.key,pn.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>l.set(d,new W6(h,o.get(d)??null))),l))}recalculateAndSaveOverlays(e,n){const r=Gl();let s=new Qe((o,l)=>o-l),i=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let h=r.get(c)||pn.empty();h=l.applyToLocalView(d,h),r.set(c,h);const f=(s.get(l.batchId)||xe()).add(c);s=s.insert(l.batchId,f)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,h=c.value,f=_N();h.forEach(p=>{if(!i.has(p)){const v=CN(n.get(p),r.get(p));v!==null&&f.set(p,v),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,f))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):G3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):U.resolve(Ii());let l=xc,c=i;return o.next(d=>U.forEach(d,(h,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),i.get(h)?U.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{c=c.insert(h,p)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,xe())).next(h=>({batchId:l,changes:wN(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let s=Al();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Al();return this.indexManager.getCollectionParents(e,i).next(l=>U.forEach(l,c=>{const d=function(f,p){return new rf(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,Dt.newInvalidDocument(h)))});let l=Al();return o.forEach((c,d)=>{const h=i.get(c);h!==void 0&&Kl(h.mutation,d,pn.empty(),Fe.now()),of(n,d)&&(l=l.insert(c,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return U.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:gr(s.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:O6(s.bundledQuery),readTime:gr(s.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(){this.overlays=new Qe(ne.comparator),this.qr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ii();return U.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const s=Ii(),i=n.length+1,o=new ne(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return U.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Qe((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=Ii(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const l=Ii(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>l.set(d,h)),!(l.size()>=s)););return U.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new d6(n,r));let i=this.qr.get(n);i===void 0&&(i=xe(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(){this.sessionToken=Nt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(){this.Qr=new mt(xt.$r),this.Ur=new mt(xt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new xt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new xt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ne(new qe([])),r=new xt(n,e),s=new xt(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ne(new qe([])),r=new xt(n,e),s=new xt(n,e+1);let i=xe();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new xt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class xt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ne.comparator(e.key,n.key)||ye(e.Yr,n.Yr)}static Kr(e,n){return ye(e.Yr,n.Yr)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new mt(xt.$r)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new u6(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.Zr=this.Zr.add(new xt(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return U.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?Sy:this.tr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new xt(n,0),s=new xt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const l=this.Xr(o.Yr);i.push(l)}),U.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new mt(ye);return n.forEach(s=>{const i=new xt(s,0),o=new xt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],l=>{r=r.add(l.Yr)})}),U.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ne.isDocumentKey(i)||(i=i.child(""));const o=new xt(new ne(i),0);let l=new mt(ye);return this.Zr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(l=l.add(c.Yr)),!0)},o),U.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ae(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return U.forEach(n.mutations,s=>{const i=new xt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new xt(n,0),s=this.Zr.firstAfterOrEqual(r);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e){this.ri=e,this.docs=function(){return new Qe(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():Dt.newInvalidDocument(n))}getEntries(e,n){let r=Jr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Dt.newInvalidDocument(s))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Jr();const o=n.path,l=new ne(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||S3(T3(h),r)<=0||(s.has(h.key)||of(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return U.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ie(9500)}ii(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new X6(this)}getSize(e){return U.resolve(this.size)}}class X6 extends B6{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(e){this.persistence=e,this.si=new co(n=>Cy(n),Ny),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.oi=0,this._i=new Dy,this.targetCount=0,this.ai=Pa.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),U.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Pa(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Pr(n),U.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),U.waitFor(i).next(()=>s)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),U.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e,n){this.ui={},this.overlays={},this.ci=new ef(0),this.li=!1,this.li=!0,this.hi=new K6,this.referenceDelegate=e(this),this.Pi=new J6(this),this.indexManager=new M6,this.remoteDocumentCache=function(s){return new Y6(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new D6(n),this.Ii=new q6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new G6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Q6(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const s=new Z6(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return U.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class Z6 extends I3{constructor(e){super(),this.currentSequenceNumber=e}}class Oy{constructor(e){this.persistence=e,this.Ri=new Dy,this.Vi=null}static mi(e){return new Oy(e)}get fi(){if(this.Vi)return this.Vi;throw ie(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),U.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.fi,r=>{const s=ne.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,ce.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return U.or([()=>U.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class fh{constructor(e,n){this.persistence=e,this.pi=new co(r=>A3(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=z6(this,n)}static mi(e,n){return new fh(e,n)}Ei(){}di(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return U.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?U.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(l=>{l||(r++,i.removeEntry(o,ce.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=pd(e.data.value)),n}br(e,n,r){return U.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return U.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=xe(),s=xe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new My(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return BL()?8:C3(Mt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new eU;return this.Ss(e,n,o).next(l=>{if(i.result=l,this.Vs)return this.bs(e,n,o,l.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(_o()<=ve.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),U.resolve()):(_o()<=ve.DEBUG&&G("QueryEngine","Query:",Eo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(_o()<=ve.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pr(n))):U.resolve())}ys(e,n){if(qE(n))return U.resolve(null);let r=pr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Ig(n,null,"F"),r=pr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=xe(...i);return this.ps.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.Ds(n,l);return this.Cs(n,d,o,c.readTime)?this.ys(e,Ig(n,null,"F")):this.vs(e,d,n,c)}))})))}ws(e,n,r,s){return qE(n)||s.isEqual(ce.min())?U.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?U.resolve(null):(_o()<=ve.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Eo(n)),this.vs(e,o,n,E3(s,xc)).next(l=>l))})}Ds(e,n){let r=new mt(yN(e));return n.forEach((s,i)=>{of(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return _o()<=ve.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Eo(n)),this.ps.getDocumentsMatchingQuery(e,n,Xs.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly="LocalStore",nU=3e8;class rU{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Qe(ye),this.xs=new co(i=>Cy(i),Ny),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new H6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function sU(t,e,n,r){return new rU(t,e,n,r)}async function zN(t,e){const n=de(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let c=xe();for(const d of s){o.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of i){l.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:l}))})})}function iU(t,e){const n=de(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,d,h){const f=d.batch,p=f.keys();let v=U.resolve();return p.forEach(I=>{v=v.next(()=>h.getEntry(c,I)).next(w=>{const S=d.docVersions.get(I);Ae(S!==null,48541),w.version.compareTo(S)<0&&(f.applyToRemoteDocument(w,d),w.isValidDocument()&&(w.setReadTime(d.commitVersion),h.addEntry(w)))})}),v.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=xe();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function BN(t){const e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function oU(t,e){const n=de(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const l=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;l.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,f)));let v=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?v=v.withResumeToken(Nt.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),s=s.insert(f,v),function(w,S,E){return w.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=nU?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(p,v,h)&&l.push(n.Pi.updateTargetData(i,v))});let c=Jr(),d=xe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),l.push(aU(i,o,e.documentUpdates).next(h=>{c=h.ks,d=h.qs})),!r.isEqual(ce.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(h)}return U.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(n.Ms=s,i))}function aU(t,e,n){let r=xe(),s=xe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Jr();return n.forEach((l,c)=>{const d=i.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(ce.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):G(Ly,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)}),{ks:o,qs:s}})}function lU(t,e){const n=de(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Sy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function cU(t,e){const n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,U.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new js(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Rg(t,e,n){const r=de(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Ga(o))throw o;G(Ly,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function i0(t,e,n){const r=de(t);let s=ce.min(),i=xe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,h){const f=de(c),p=f.xs.get(h);return p!==void 0?U.resolve(f.Ms.get(p)):f.Pi.getTargetData(d,h)}(r,o,pr(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,l.targetId).next(c=>{i=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:ce.min(),n?i:xe())).next(l=>(uU(r,Q3(e),l),{documents:l,Qs:i})))}function uU(t,e,n){let r=t.Os.get(e)||ce.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class o0{constructor(){this.activeTargetIds=t6()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dU{constructor(){this.Mo=new o0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new o0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="ConnectivityMonitor";class l0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){G(a0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){G(a0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zu=null;function jg(){return zu===null?zu=function(){return 268435456+Math.round(2147483648*Math.random())}():zu++,"0x"+zu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="RestConnection",fU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pU{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===oh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=jg(),l=this.zo(e,n.toUriEncodedString());G(Op,`Sending RPC '${e}' ${o}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:d}=new URL(l),h=za(d);return this.Jo(e,l,c,r,h).then(f=>(G(Op,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Ia(Op,`RPC '${e}' ${o} failed with error: `,f,"url: ",l,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ha}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=fU[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt="WebChannelConnection";class gU extends pU{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=jg();return new Promise((l,c)=>{const d=new GC;d.setWithCredentials(!0),d.listenOnce(KC.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case fd.NO_ERROR:const f=d.getResponseJson();G(Rt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),l(f);break;case fd.TIMEOUT:G(Rt,`RPC '${e}' ${o} timed out`),c(new X($.DEADLINE_EXCEEDED,"Request time out"));break;case fd.HTTP_ERROR:const p=d.getStatus();if(G(Rt,`RPC '${e}' ${o} failed with status:`,p,"response text:",d.getResponseText()),p>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const I=v==null?void 0:v.error;if(I&&I.status&&I.message){const w=function(E){const x=E.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(x)>=0?x:$.UNKNOWN}(I.status);c(new X(w,I.message))}else c(new X($.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new X($.UNAVAILABLE,"Connection failed."));break;default:ie(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{G(Rt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);G(Rt,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",h,r,15)})}T_(e,n,r){const s=jg(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=XC(),l=YC(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");G(Rt,`Creating RPC '${e}' stream ${s}: ${h}`,c);const f=o.createWebChannel(h,c);this.I_(f);let p=!1,v=!1;const I=new mU({Yo:S=>{v?G(Rt,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(p||(G(Rt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),G(Rt,`RPC '${e}' stream ${s} sending:`,S),f.send(S))},Zo:()=>f.close()}),w=(S,E,x)=>{S.listen(E,b=>{try{x(b)}catch(j){setTimeout(()=>{throw j},0)}})};return w(f,Nl.EventType.OPEN,()=>{v||(G(Rt,`RPC '${e}' stream ${s} transport opened.`),I.o_())}),w(f,Nl.EventType.CLOSE,()=>{v||(v=!0,G(Rt,`RPC '${e}' stream ${s} transport closed`),I.a_(),this.E_(f))}),w(f,Nl.EventType.ERROR,S=>{v||(v=!0,Ia(Rt,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),I.a_(new X($.UNAVAILABLE,"The operation could not be completed")))}),w(f,Nl.EventType.MESSAGE,S=>{var E;if(!v){const x=S.data[0];Ae(!!x,16349);const b=x,j=(b==null?void 0:b.error)||((E=b[0])==null?void 0:E.error);if(j){G(Rt,`RPC '${e}' stream ${s} received error:`,j);const k=j.status;let M=function(C){const A=rt[C];if(A!==void 0)return PN(A)}(k),_=j.message;M===void 0&&(M=$.INTERNAL,_="Unknown error status: "+k+" with message "+j.message),v=!0,I.a_(new X(M,_)),f.close()}else G(Rt,`RPC '${e}' stream ${s} received:`,x),I.u_(x)}}),w(l,QC.STAT_EVENT,S=>{S.stat===wg.PROXY?G(Rt,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===wg.NOPROXY&&G(Rt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{I.__()},0),I}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Mp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(t){return new w6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&G("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="PersistentStream";class HN{constructor(e,n,r,s,i,o,l,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new WN(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Xr(n.toString()),Xr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new X($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return G(c0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(G(c0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vU extends HN{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=T6(this.serializer,e),r=function(i){if(!("targetChange"in i))return ce.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ce.min():o.readTime?gr(o.readTime):ce.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Pg(this.serializer),n.addTarget=function(i,o){let l;const c=o.target;if(l=bg(c)?{documents:I6(i,c)}:{query:C6(i,c).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=kN(i,o.resumeToken);const d=Cg(i,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(ce.min())>0){l.readTime=hh(i,o.snapshotVersion.toTimestamp());const d=Cg(i,o.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const r=A6(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Pg(this.serializer),n.removeTarget=e,this.q_(n)}}class yU extends HN{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ae(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ae(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=b6(e.writeResults,e.commitTime),r=gr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Pg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>S6(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{}class wU extends xU{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new X($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,Ng(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new X($.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Ho(e,Ng(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X($.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class _U{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xr(n),this.aa=!1):G("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo="RemoteStore";class EU{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{uo(this)&&(G(eo,"Restarting streams for network reachability change."),await async function(c){const d=de(c);d.Ea.add(4),await Yc(d),d.Ra.set("Unknown"),d.Ea.delete(4),await df(d)}(this))})}),this.Ra=new _U(r,s)}}async function df(t){if(uo(t))for(const e of t.da)await e(!0)}async function Yc(t){for(const e of t.da)await e(!1)}function qN(t,e){const n=de(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),$y(n)?Uy(n):Ka(n).O_()&&Fy(n,e))}function Vy(t,e){const n=de(t),r=Ka(n);n.Ia.delete(e),r.O_()&&GN(n,e),n.Ia.size===0&&(r.O_()?r.L_():uo(n)&&n.Ra.set("Unknown"))}function Fy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ka(t).Y_(e)}function GN(t,e){t.Va.Ue(e),Ka(t).Z_(e)}function Uy(t){t.Va=new g6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ka(t).start(),t.Ra.ua()}function $y(t){return uo(t)&&!Ka(t).x_()&&t.Ia.size>0}function uo(t){return de(t).Ea.size===0}function KN(t){t.Va=void 0}async function TU(t){t.Ra.set("Online")}async function SU(t){t.Ia.forEach((e,n)=>{Fy(t,e)})}async function bU(t,e){KN(t),$y(t)?(t.Ra.ha(e),Uy(t)):t.Ra.set("Unknown")}async function IU(t,e,n){if(t.Ra.set("Online"),e instanceof jN&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.Ia.delete(l),s.Va.removeTarget(l))}(t,e)}catch(r){G(eo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ph(t,r)}else if(e instanceof vd?t.Va.Ze(e):e instanceof RN?t.Va.st(e):t.Va.tt(e),!n.isEqual(ce.min()))try{const r=await BN(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.Va.Tt(o);return l.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ia.get(d);h&&i.Ia.set(d,h.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,d)=>{const h=i.Ia.get(c);if(!h)return;i.Ia.set(c,h.withResumeToken(Nt.EMPTY_BYTE_STRING,h.snapshotVersion)),GN(i,c);const f=new js(h.target,c,d,h.sequenceNumber);Fy(i,f)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){G(eo,"Failed to raise snapshot:",r),await ph(t,r)}}async function ph(t,e,n){if(!Ga(e))throw e;t.Ea.add(1),await Yc(t),t.Ra.set("Offline"),n||(n=()=>BN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G(eo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await df(t)})}function QN(t,e){return e().catch(n=>ph(t,n,e))}async function hf(t){const e=de(t),n=ti(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Sy;for(;CU(e);)try{const s=await lU(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,NU(e,s)}catch(s){await ph(e,s)}YN(e)&&XN(e)}function CU(t){return uo(t)&&t.Ta.length<10}function NU(t,e){t.Ta.push(e);const n=ti(t);n.O_()&&n.X_&&n.ea(e.mutations)}function YN(t){return uo(t)&&!ti(t).x_()&&t.Ta.length>0}function XN(t){ti(t).start()}async function AU(t){ti(t).ra()}async function PU(t){const e=ti(t);for(const n of t.Ta)e.ea(n.mutations)}async function RU(t,e,n){const r=t.Ta.shift(),s=Ry.from(r,e,n);await QN(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await hf(t)}async function jU(t,e){e&&ti(t).X_&&await async function(r,s){if(function(o){return f6(o)&&o!==$.ABORTED}(s.code)){const i=r.Ta.shift();ti(r).B_(),await QN(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await hf(r)}}(t,e),YN(t)&&XN(t)}async function u0(t,e){const n=de(t);n.asyncQueue.verifyOperationInProgress(),G(eo,"RemoteStore received new credentials");const r=uo(n);n.Ea.add(3),await Yc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await df(n)}async function kU(t,e){const n=de(t);e?(n.Ea.delete(2),await df(n)):e||(n.Ea.add(2),await Yc(n),n.Ra.set("Unknown"))}function Ka(t){return t.ma||(t.ma=function(n,r,s){const i=de(n);return i.sa(),new vU(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:TU.bind(null,t),t_:SU.bind(null,t),r_:bU.bind(null,t),H_:IU.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),$y(t)?Uy(t):t.Ra.set("Unknown")):(await t.ma.stop(),KN(t))})),t.ma}function ti(t){return t.fa||(t.fa=function(n,r,s){const i=de(n);return i.sa(),new yU(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:AU.bind(null,t),r_:jU.bind(null,t),ta:PU.bind(null,t),na:RU.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await hf(t)):(await t.fa.stop(),t.Ta.length>0&&(G(eo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new zy(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function By(t,e){if(Xr("AsyncQueue",`${e}: ${t}`),Ga(t))return new X($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{static emptySet(e){return new Qo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=Al(),this.sortedSet=new Qe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Qo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Qo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(){this.ga=new Qe(ne.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ie(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ra{constructor(e,n,r,s,i,o,l,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Ra(e,n,Qo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class OU{constructor(){this.queries=h0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=de(n),i=s.queries;s.queries=h0(),i.forEach((o,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new X($.ABORTED,"Firestore shutting down"))}}function h0(){return new co(t=>vN(t),sf)}async function MU(t,e){const n=de(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new DU,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=By(o,`Initialization of query '${Eo(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Wy(n)}async function LU(t,e){const n=de(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function VU(t,e){const n=de(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.Sa)l.Fa(s)&&(r=!0);o.wa=s}}r&&Wy(n)}function FU(t,e,n){const r=de(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Wy(t){t.Ca.forEach(e=>{e.next()})}var kg,f0;(f0=kg||(kg={})).Ma="default",f0.Cache="cache";class UU{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ra(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ra.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==kg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e){this.key=e}}class ZN{constructor(e){this.key=e}}class $U{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=xe(),this.mutatedKeys=xe(),this.eu=yN(e),this.tu=new Qo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new d0,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),v=of(this.query,f)?f:null,I=!!p&&this.mutatedKeys.has(p.key),w=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let S=!1;p&&v?p.data.isEqual(v.data)?I!==w&&(r.track({type:3,doc:v}),S=!0):this.su(p,v)||(r.track({type:2,doc:v}),S=!0,(c&&this.eu(v,c)>0||d&&this.eu(v,d)<0)&&(l=!0)):!p&&v?(r.track({type:0,doc:v}),S=!0):p&&!v&&(r.track({type:1,doc:p}),S=!0,(c||d)&&(l=!0)),S&&(v?(o=o.add(v),i=w?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:l,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(v,I){const w=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie(20277,{Rt:S})}};return w(v)-w(I)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const l=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,d=c!==this.Za;return this.Za=c,o.length!==0||d?{snapshot:new Ra(this.query,e.tu,i,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new d0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=xe(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new ZN(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new JN(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=xe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ra.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Hy="SyncEngine";class zU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class BU{constructor(e){this.key=e,this.hu=!1}}class WU{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new co(l=>vN(l),sf),this.Iu=new Map,this.Eu=new Set,this.du=new Qe(ne.comparator),this.Au=new Map,this.Ru=new Dy,this.Vu={},this.mu=new Map,this.fu=Pa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function HU(t,e,n=!0){const r=iA(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await eA(r,e,n,!0),s}async function qU(t,e){const n=iA(t);await eA(n,e,!0,!1)}async function eA(t,e,n,r){const s=await cU(t.localStore,pr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await GU(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&qN(t.remoteStore,s),l}async function GU(t,e,n,r,s){t.pu=(f,p,v)=>async function(w,S,E,x){let b=S.view.ru(E);b.Cs&&(b=await i0(w.localStore,S.query,!1).then(({documents:_})=>S.view.ru(_,b)));const j=x&&x.targetChanges.get(S.targetId),k=x&&x.targetMismatches.get(S.targetId)!=null,M=S.view.applyChanges(b,w.isPrimaryClient,j,k);return m0(w,S.targetId,M.au),M.snapshot}(t,f,p,v);const i=await i0(t.localStore,e,!0),o=new $U(e,i.Qs),l=o.ru(i.documents),c=Qc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(l,t.isPrimaryClient,c);m0(t,n,d.au);const h=new zU(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function KU(t,e,n){const r=de(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!sf(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Rg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Vy(r.remoteStore,s.targetId),Dg(r,s.targetId)}).catch(qa)):(Dg(r,s.targetId),await Rg(r.localStore,s.targetId,!0))}async function QU(t,e){const n=de(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Vy(n.remoteStore,r.targetId))}async function YU(t,e,n){const r=r5(t);try{const s=await function(o,l){const c=de(o),d=Fe.now(),h=l.reduce((v,I)=>v.add(I.key),xe());let f,p;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let I=Jr(),w=xe();return c.Ns.getEntries(v,h).next(S=>{I=S,I.forEach((E,x)=>{x.isValidDocument()||(w=w.add(E))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,I)).next(S=>{f=S;const E=[];for(const x of l){const b=l6(x,f.get(x.key).overlayedDocument);b!=null&&E.push(new ci(x.key,b,uN(b.value.mapValue),mr.exists(!0)))}return c.mutationQueue.addMutationBatch(v,d,E,l)}).next(S=>{p=S;const E=S.applyToLocalDocumentSet(f,w);return c.documentOverlayCache.saveOverlays(v,S.batchId,E)})}).then(()=>({batchId:p.batchId,changes:wN(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,c){let d=o.Vu[o.currentUser.toKey()];d||(d=new Qe(ye)),d=d.insert(l,c),o.Vu[o.currentUser.toKey()]=d}(r,s.batchId,n),await Xc(r,s.changes),await hf(r.remoteStore)}catch(s){const i=By(s,"Failed to persist write");n.reject(i)}}async function tA(t,e){const n=de(t);try{const r=await oU(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Ae(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Ae(o.hu,14607):s.removedDocuments.size>0&&(Ae(o.hu,42227),o.hu=!1))}),await Xc(n,r,e)}catch(r){await qa(r)}}function p0(t,e,n){const r=de(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const l=o.view.va(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const c=de(o);c.onlineState=l;let d=!1;c.queries.forEach((h,f)=>{for(const p of f.Sa)p.va(l)&&(d=!0)}),d&&Wy(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function XU(t,e,n){const r=de(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Qe(ne.comparator);o=o.insert(i,Dt.newNoDocument(i,ce.min()));const l=xe().add(i),c=new cf(ce.min(),new Map,new Qe(ye),o,l);await tA(r,c),r.du=r.du.remove(i),r.Au.delete(e),qy(r)}else await Rg(r.localStore,e,!1).then(()=>Dg(r,e,n)).catch(qa)}async function JU(t,e){const n=de(t),r=e.batch.batchId;try{const s=await iU(n.localStore,e);rA(n,r,null),nA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Xc(n,s)}catch(s){await qa(s)}}async function ZU(t,e,n){const r=de(t);try{const s=await function(o,l){const c=de(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,l).next(f=>(Ae(f!==null,37113),h=f.keys(),c.mutationQueue.removeMutationBatch(d,f))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(r.localStore,e);rA(r,e,n),nA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Xc(r,s)}catch(s){await qa(s)}}function nA(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function rA(t,e,n){const r=de(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Dg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||sA(t,r)})}function sA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Vy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),qy(t))}function m0(t,e,n){for(const r of n)r instanceof JN?(t.Ru.addReference(r.key,e),e5(t,r)):r instanceof ZN?(G(Hy,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||sA(t,r.key)):ie(19791,{wu:r})}function e5(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(G(Hy,"New document in limbo: "+n),t.Eu.add(r),qy(t))}function qy(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ne(qe.fromString(e)),r=t.fu.next();t.Au.set(r,new BU(n)),t.du=t.du.insert(n,r),qN(t.remoteStore,new js(pr(Ay(n.path)),r,"TargetPurposeLimboResolution",ef.ce))}}async function Xc(t,e,n){const r=de(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((l,c)=>{o.push(r.pu(c,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){s.push(d);const f=My.As(c.targetId,d);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(c,d){const h=de(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>U.forEach(d,p=>U.forEach(p.Es,v=>h.persistence.referenceDelegate.addReference(f,p.targetId,v)).next(()=>U.forEach(p.ds,v=>h.persistence.referenceDelegate.removeReference(f,p.targetId,v)))))}catch(f){if(!Ga(f))throw f;G(Ly,"Failed to update sequence numbers: "+f)}for(const f of d){const p=f.targetId;if(!f.fromCache){const v=h.Ms.get(p),I=v.snapshotVersion,w=v.withLastLimboFreeSnapshotVersion(I);h.Ms=h.Ms.insert(p,w)}}}(r.localStore,i))}async function t5(t,e){const n=de(t);if(!n.currentUser.isEqual(e)){G(Hy,"User change. New user:",e.toKey());const r=await zN(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(l=>{l.forEach(c=>{c.reject(new X($.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Xc(n,r.Ls)}}function n5(t,e){const n=de(t),r=n.Au.get(e);if(r&&r.hu)return xe().add(r.key);{let s=xe();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const l=n.Tu.get(o);s=s.unionWith(l.view.nu)}return s}}function iA(t){const e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=n5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XU.bind(null,e),e.Pu.H_=VU.bind(null,e.eventManager),e.Pu.yu=FU.bind(null,e.eventManager),e}function r5(t){const e=de(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZU.bind(null,e),e}class mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=uf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return sU(this.persistence,new tU,e.initialUser,this.serializer)}Cu(e){return new $N(Oy.mi,this.serializer)}Du(e){return new dU}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mh.provider={build:()=>new mh};class s5 extends mh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ae(this.persistence.referenceDelegate instanceof fh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new U6(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new $N(r=>fh.mi(r,n),this.serializer)}}class Og{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>p0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=t5.bind(null,this.syncEngine),await kU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new OU}()}createDatastore(e){const n=uf(e.databaseInfo.databaseId),r=function(i){return new gU(i)}(e.databaseInfo);return function(i,o,l,c){return new wU(i,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new EU(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>p0(this.syncEngine,n,0),function(){return l0.v()?new l0:new hU}())}createSyncEngine(e,n){return function(s,i,o,l,c,d,h){const f=new WU(s,i,o,l,c,d);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=de(s);G(eo,"RemoteStore shutting down."),i.Ea.add(5),await Yc(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Og.provider={build:()=>new Og};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Xr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni="FirestoreClient";class o5{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=jt.UNAUTHENTICATED,this.clientId=Ey.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{G(ni,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G(ni,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=By(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Lp(t,e){t.asyncQueue.verifyOperationInProgress(),G(ni,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await zN(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function g0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await a5(t);G(ni,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>u0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>u0(e.remoteStore,s)),t._onlineComponents=e}async function a5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G(ni,"Using user provided OfflineComponentProvider");try{await Lp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===$.FAILED_PRECONDITION||s.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ia("Error using user provided cache. Falling back to memory cache: "+n),await Lp(t,new mh)}}else G(ni,"Using default OfflineComponentProvider"),await Lp(t,new s5(void 0));return t._offlineComponents}async function oA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G(ni,"Using user provided OnlineComponentProvider"),await g0(t,t._uninitializedComponentsProvider._online)):(G(ni,"Using default OnlineComponentProvider"),await g0(t,new Og))),t._onlineComponents}function l5(t){return oA(t).then(e=>e.syncEngine)}async function c5(t){const e=await oA(t),n=e.eventManager;return n.onListen=HU.bind(null,e.syncEngine),n.onUnlisten=KU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=qU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=QU.bind(null,e.syncEngine),n}function u5(t,e,n={}){const r=new qs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,d){const h=new i5({next:p=>{h.Nu(),o.enqueueAndForget(()=>LU(i,f));const v=p.docs.has(l);!v&&p.fromCache?d.reject(new X($.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&p.fromCache&&c&&c.source==="server"?d.reject(new X($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new UU(Ay(l.path),h,{includeMetadataChanges:!0,qa:!0});return MU(i,f)}(await c5(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="firestore.googleapis.com",y0=!0;class x0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new X($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lA,this.ssl=y0}else this.host=e.host,this.ssl=e.ssl??y0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=UN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<V6)throw new X($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aA(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new X($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new X($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new X($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gy{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new u3;switch(r.type){case"firstParty":return new p3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=v0.get(n);r&&(G("ComponentProvider","Removing Datastore"),v0.delete(n),r.terminate())}(this),Promise.resolve()}}function d5(t,e,n,r={}){var d;t=Zi(t,Gy);const s=za(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;s&&(lC(`https://${l}`),cC("Firestore",!0)),i.host!==lA&&i.host!==l&&Ia("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:l,ssl:s,emulatorOptions:r};if(!Qi(c,o)&&(t._setSettings(c),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=jt.MOCK_USER;else{h=DL(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new X($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new jt(p)}t._authCredentials=new d3(new ZC(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ky(this.firestore,e,this._query)}}class pt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pt(this.firestore,e,this._key)}toJSON(){return{type:pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Gc(n,pt._jsonSchema))return new pt(e,r||null,new ne(qe.fromString(n.referencePath)))}}pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:ot("string",pt._jsonSchemaVersion),referencePath:ot("string")};class bc extends Ky{constructor(e,n,r){super(e,n,Ay(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new ne(e))}withConverter(e){return new bc(this.firestore,e,this._path)}}function Vp(t,e,...n){if(t=Kt(t),arguments.length===1&&(e=Ey.newId()),w3("doc","path",e),t instanceof Gy){const r=qe.fromString(e,...n);return kE(r),new pt(t,null,new ne(r))}{if(!(t instanceof pt||t instanceof bc))throw new X($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qe.fromString(e,...n));return kE(r),new pt(t.firestore,t instanceof bc?t.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="AsyncQueue";class _0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new WN(this,"async_queue_retry"),this._c=()=>{const r=Mp();r&&G(w0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Mp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Mp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new qs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ga(e))throw e;G(w0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Xr("INTERNAL UNHANDLED ERROR: ",E0(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=zy.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&ie(47125,{Pc:E0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function E0(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ff extends Gy{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new _0,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _0(e),this._firestoreClient=void 0,await e}}}function h5(t,e){const n=typeof t=="object"?t:fC(),r=typeof t=="string"?t:oh,s=uy(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=jL("firestore");i&&d5(s,...i)}return s}function cA(t){if(t._terminated)throw new X($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||f5(t),t._firestoreClient}function f5(t){var r,s,i;const e=t._freezeSettings(),n=function(l,c,d,h){return new j3(l,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,aA(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new o5(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sn(Nt.fromBase64String(e))}catch(n){throw new X($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Sn(Nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Sn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Gc(e,Sn._jsonSchema))return Sn.fromBase64String(e.bytes)}}Sn._jsonSchemaVersion="firestore/bytes/1.0",Sn._jsonSchema={type:ot("string",Sn._jsonSchemaVersion),bytes:ot("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ye(this._lat,e._lat)||ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vr._jsonSchemaVersion}}static fromJSON(e){if(Gc(e,vr._jsonSchema))return new vr(e.latitude,e.longitude)}}vr._jsonSchemaVersion="firestore/geoPoint/1.0",vr._jsonSchema={type:ot("string",vr._jsonSchemaVersion),latitude:ot("number"),longitude:ot("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:yr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Gc(e,yr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new yr(e.vectorValues);throw new X($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}yr._jsonSchemaVersion="firestore/vectorValue/1.0",yr._jsonSchema={type:ot("string",yr._jsonSchemaVersion),vectorValues:ot("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5=/^__.*__$/;class m5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ci(e,this.data,this.fieldMask,n,this.fieldTransforms):new Kc(e,this.data,n,this.fieldTransforms)}}class uA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ci(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function dA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie(40011,{Ac:t})}}class Yy{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Yy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return gh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(dA(this.Ac)&&p5.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class g5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||uf(e)}Cc(e,n,r,s=!1){return new Yy({Ac:e,methodName:n,Dc:r,path:bt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hA(t){const e=t._freezeSettings(),n=uf(t._databaseId);return new g5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function v5(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);Xy("Data must be an object, but it was:",o,r);const l=fA(r,o);let c,d;if(i.merge)c=new pn(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const p=Mg(e,f,n);if(!o.contains(p))throw new X($.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);mA(h,p)||h.push(p)}c=new pn(h),d=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,d=o.fieldTransforms;return new m5(new rn(l),c,d)}class mf extends Qy{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mf}}function y5(t,e,n,r){const s=t.Cc(1,e,n);Xy("Data must be an object, but it was:",s,r);const i=[],o=rn.empty();li(r,(c,d)=>{const h=Jy(e,c,n);d=Kt(d);const f=s.yc(h);if(d instanceof mf)i.push(h);else{const p=gf(d,f);p!=null&&(i.push(h),o.set(h,p))}});const l=new pn(i);return new uA(o,l,s.fieldTransforms)}function x5(t,e,n,r,s,i){const o=t.Cc(1,e,n),l=[Mg(e,r,n)],c=[s];if(i.length%2!=0)throw new X($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)l.push(Mg(e,i[p])),c.push(i[p+1]);const d=[],h=rn.empty();for(let p=l.length-1;p>=0;--p)if(!mA(d,l[p])){const v=l[p];let I=c[p];I=Kt(I);const w=o.yc(v);if(I instanceof mf)d.push(v);else{const S=gf(I,w);S!=null&&(d.push(v),h.set(v,S))}}const f=new pn(d);return new uA(h,f,o.fieldTransforms)}function gf(t,e){if(pA(t=Kt(t)))return Xy("Unsupported field value:",e,t),fA(t,e);if(t instanceof Qy)return function(r,s){if(!dA(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let c=gf(l,s.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return n6(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Fe.fromDate(r);return{timestampValue:hh(s.serializer,i)}}if(r instanceof Fe){const i=new Fe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hh(s.serializer,i)}}if(r instanceof vr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Sn)return{bytesValue:kN(s.serializer,r._byteString)};if(r instanceof pt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:ky(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof yr)return function(o,l){return{mapValue:{fields:{[lN]:{stringValue:cN},[ah]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw l.Sc("VectorValues must only contain numeric values.");return Py(l.serializer,d)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Ty(r)}`)}(t,e)}function fA(t,e){const n={};return nN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):li(t,(r,s)=>{const i=gf(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function pA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Fe||t instanceof vr||t instanceof Sn||t instanceof pt||t instanceof Qy||t instanceof yr)}function Xy(t,e,n){if(!pA(n)||!eN(n)){const r=Ty(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Mg(t,e,n){if((e=Kt(e))instanceof pf)return e._internalPath;if(typeof e=="string")return Jy(t,e);throw gh("Field path arguments must be of type string or ",t,!1,void 0,n)}const w5=new RegExp("[~\\*/\\[\\]]");function Jy(t,e,n){if(e.search(w5)>=0)throw gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pf(...e.split("."))._internalPath}catch{throw gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gh(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new X($.INVALID_ARGUMENT,l+t+c)}function mA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(vA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _5 extends gA{data(){return super.data()}}function vA(t,e){return typeof e=="string"?Jy(t,e):e instanceof pf?e._internalPath:e._delegate._internalPath}class E5{convertValue(e,n="none"){switch(ei(e)){case 0:return null;case 1:return e.booleanValue;case 2:return et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return li(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[ah].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>et(o.doubleValue));return new yr(n)}convertGeoPoint(e){return new vr(et(e.latitude),et(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=nf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(wc(e));default:return null}}convertTimestamp(e){const n=Js(e);return new Fe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=qe.fromString(e);Ae(FN(r),9688,{name:e});const s=new _c(r.get(1),r.get(3)),i=new ne(r.popFirst(5));return s.isEqual(n)||Xr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T5(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Rl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fi extends gA{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new yd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(vA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new X($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Fi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Fi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fi._jsonSchema={type:ot("string",Fi._jsonSchemaVersion),bundleSource:ot("string","DocumentSnapshot"),bundleName:ot("string"),bundle:ot("string")};class yd extends Fi{data(e={}){return super.data(e)}}class Ql{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Rl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new yd(this._firestore,this._userDataWriter,r.key,r,new Rl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const c=new yd(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Rl(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new yd(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Rl(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:S5(l.type),doc:c,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new X($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ql._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ey.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function S5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b5(t){t=Zi(t,pt);const e=Zi(t.firestore,ff);return u5(cA(e),t._key).then(n=>A5(e,t,n))}Ql._jsonSchemaVersion="firestore/querySnapshot/1.0",Ql._jsonSchema={type:ot("string",Ql._jsonSchemaVersion),bundleSource:ot("string","QuerySnapshot"),bundleName:ot("string"),bundle:ot("string")};class I5 extends E5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,n)}}function C5(t,e,n){t=Zi(t,pt);const r=Zi(t.firestore,ff),s=T5(t.converter,e,n);return yA(r,[v5(hA(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,mr.none())])}function N5(t,e,n,...r){t=Zi(t,pt);const s=Zi(t.firestore,ff),i=hA(s);let o;return o=typeof(e=Kt(e))=="string"||e instanceof pf?x5(i,"updateDoc",t._key,e,n,r):y5(i,"updateDoc",t._key,e),yA(s,[o.toMutation(t._key,mr.exists(!0))])}function yA(t,e){return function(r,s){const i=new qs;return r.asyncQueue.enqueueAndForget(async()=>YU(await l5(r),s,i)),i.promise}(cA(t),e)}function A5(t,e,n){const r=n.docs.get(e._key),s=new I5(t);return new Fi(t,s,e._key,r,new Rl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Ha=s})(Ba),Sa(new Yi("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new ff(new h3(r.getProvider("auth-internal")),new m3(o,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new X($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _c(d.options.projectId,h)}(o,s),o);return i={useFetchStreams:n,...i},l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),Ws(AE,PE,e),Ws(AE,PE,"esm2020")})();const P5={apiKey:"AIzaSyApDku-geNVplwIgRBz2U0rs46aAVo-_mE",authDomain:"aios-97581.firebaseapp.com",projectId:"aios-97581",storageBucket:"aios-97581.appspot.com",messagingSenderId:"307575156824",appId:"1:307575156824:web:00924bd384df1f29909a2d"},xA=hC(P5),Fp=l3(xA),Up=h5(xA),Zy=new Or;Zy.addScope("email");Zy.addScope("profile");class $p{static async signInWithGoogle(){try{const n=(await vF(Fp,Zy)).user;return await this.saveUserToFirestore(n),n}catch(e){throw console.error("Google sign-in error:",e),e}}static async signOut(){try{await X4(Fp)}catch(e){throw console.error("Sign-out error:",e),e}}static onAuthStateChanged(e){return Y4(Fp,e)}static async saveUserToFirestore(e){try{const n=Vp(Up,"users",e.uid),r={uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL,emailVerified:e.emailVerified,createdAt:new Date,lastLoginAt:new Date,preferences:{theme:"light",notifications:!0,language:"en"}};await C5(n,r,{merge:!0})}catch(n){throw console.error("Error saving user to Firestore:",n),n}}static async getUserData(e){try{const n=Vp(Up,"users",e),r=await b5(n);if(r.exists())return r.data();throw new Error("User data not found")}catch(n){throw console.error("Error getting user data:",n),n}}static async updateUserData(e,n){try{const r=Vp(Up,"users",e);await N5(r,{...n,updatedAt:new Date})}catch(r){throw console.error("Error updating user data:",r),r}}}const wA=g.createContext(void 0);function R5({children:t}){const[e,n]=g.useState(null),[r,s]=g.useState(!0);g.useEffect(()=>$p.onAuthStateChanged(d=>{n(d),s(!1)}),[]);const l={user:e,loading:r,signInWithGoogle:async()=>{try{s(!0),await $p.signInWithGoogle()}catch(c){throw console.error("Sign-in error:",c),c}finally{s(!1)}},signOut:async()=>{try{s(!0),await $p.signOut()}catch(c){throw console.error("Sign-out error:",c),c}finally{s(!1)}},isAuthenticated:!!e};return a.jsx(wA.Provider,{value:l,children:t})}function Jc(){const t=g.useContext(wA);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const me=g.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:ue("glass-card rounded-lg border bg-card/80 backdrop-blur-xl text-card-foreground shadow-sm transition-all duration-300 hover:shadow-lg",t),...e}));me.displayName="Card";const De=g.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:ue("flex flex-col space-y-1.5 p-6",t),...e}));De.displayName="CardHeader";const Ue=g.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:ue("text-2xl font-semibold leading-none tracking-tight cyber-text",t),...e}));Ue.displayName="CardTitle";const j5=g.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:ue("text-sm text-muted-foreground",t),...e}));j5.displayName="CardDescription";const Ie=g.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:ue("p-6 pt-0",t),...e}));Ie.displayName="CardContent";const k5=g.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:ue("flex items-center p-6 pt-0",t),...e}));k5.displayName="CardFooter";function D5(){return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 via-background to-accent/10 flex items-center justify-center p-4",children:a.jsx(me,{className:"w-full max-w-md",children:a.jsxs(Ie,{className:"p-8 text-center",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-primary to-accent rounded-2xl flex items-center justify-center mx-auto mb-4",children:a.jsx("i",{className:"fas fa-robot text-white text-2xl"})}),a.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"AuraOS"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"AI-Powered Social Media Platform"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:"Loading your workspace..."}),a.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:a.jsx("div",{className:"bg-primary h-2 rounded-full animate-pulse",style:{width:"60%"}})})]}),a.jsxs("div",{className:"text-left space-y-2 text-xs text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsx("span",{children:"Initializing AI systems"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsx("span",{children:"Loading social media integrations"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full animate-pulse"}),a.jsx("span",{children:"Connecting to Firestore database"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-muted rounded-full"}),a.jsx("span",{children:"Preparing your dashboard"})]})]})]}),a.jsxs("div",{className:"mt-8 pt-6 border-t border-border",children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Powered by advanced AI"}),a.jsxs("div",{className:"flex justify-center gap-4 text-xs text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("i",{className:"fas fa-brain text-primary"}),a.jsx("span",{children:"Smart Agents"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("i",{className:"fas fa-share-alt text-accent"}),a.jsx("span",{children:"Auto Posting"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("i",{className:"fas fa-chart-line text-green-500"}),a.jsx("span",{children:"Analytics"})]})]})]})]})})})}const O5=Fc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 relative overflow-hidden",{variants:{variant:{default:"neon-button bg-gradient-to-r from-primary to-accent text-primary-foreground hover:from-primary/90 hover:to-accent/90 neon-glow-md hover:neon-glow-lg",destructive:"bg-gradient-to-r from-destructive to-red-500 text-destructive-foreground hover:from-destructive/90 hover:to-red-500/90 neon-glow-md hover:neon-glow-lg",outline:"border border-primary/50 bg-transparent hover:bg-primary/10 hover:text-primary hover:border-primary neon-glow-sm hover:neon-glow-md",secondary:"bg-gradient-to-r from-secondary to-secondary/80 text-secondary-foreground hover:from-secondary/90 hover:to-secondary/70 neon-glow-sm hover:neon-glow-md",ghost:"hover:bg-primary/10 hover:text-primary transition-all duration-300",link:"text-primary underline-offset-4 hover:underline neon-text",neon:"neon-button bg-gradient-to-r from-primary via-accent to-primary text-primary-foreground animate-neon-pulse hover:animate-none",cyber:"cyber-border bg-gradient-to-r from-primary/20 to-accent/20 text-primary hover:from-primary/30 hover:to-accent/30 animate-cyber-border",holographic:"holographic text-white font-bold animate-holographic-shift"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10",xl:"h-12 rounded-lg px-10 text-base"}},defaultVariants:{variant:"default",size:"default"}}),J=g.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?iD:"button";return a.jsx(o,{className:ue(O5({variant:e,size:n,className:t})),ref:i,...s})});J.displayName="Button";const M5=Fc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Bt=g.forwardRef(({className:t,variant:e,...n},r)=>a.jsx("div",{ref:r,role:"alert",className:ue(M5({variant:e}),t),...n}));Bt.displayName="Alert";const L5=g.forwardRef(({className:t,...e},n)=>a.jsx("h5",{ref:n,className:ue("mb-1 font-medium leading-none tracking-tight",t),...e}));L5.displayName="AlertTitle";const Wt=g.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:ue("text-sm [&_p]:leading-relaxed",t),...e}));Wt.displayName="AlertDescription";var V5="Separator",T0="horizontal",F5=["horizontal","vertical"],_A=g.forwardRef((t,e)=>{const{decorative:n,orientation:r=T0,...s}=t,i=U5(r)?r:T0,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(se.div,{"data-orientation":i,...l,...s,ref:e})});_A.displayName=V5;function U5(t){return F5.includes(t)}var EA=_A;const An=g.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>a.jsx(EA,{ref:s,decorative:n,orientation:e,className:ue("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));An.displayName=EA.displayName;const $5=()=>a.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(20)].map((t,e)=>a.jsx("div",{className:"absolute bg-primary/20 rounded-full animate-float",style:{width:`${Math.random()*30+10}px`,height:`${Math.random()*30+10}px`,left:`${Math.random()*100}%`,animationDuration:`${Math.random()*20+15}s`,animationDelay:`${Math.random()*-20}s`}},e))});function z5(){const{signInWithGoogle:t,loading:e}=Jc(),[n,r]=g.useState(null),[s,i]=g.useState(!1),o=async()=>{try{r(null),i(!0),await t()}catch(l){r(l.message||"Failed to sign in with Google")}finally{i(!1)}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 via-background to-accent/10 flex items-center justify-center p-4 relative overflow-hidden",children:[a.jsx($5,{}),a.jsxs("div",{className:"w-full max-w-md z-10",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-primary to-accent rounded-3xl flex items-center justify-center mx-auto mb-6 transform rotate-12 transition-transform duration-500 hover:rotate-0 shadow-lg",children:a.jsx("i",{className:"fas fa-robot text-white text-4xl"})}),a.jsx("h1",{className:"text-5xl font-bold text-foreground mb-2",children:"AuraOS"}),a.jsx("p",{className:"text-xl text-muted-foreground",children:"The Future of AI-Powered Automation"})]}),a.jsxs(me,{className:"shadow-2xl border-0 bg-card/80 backdrop-blur-sm transform-gpu transition-transform duration-500 hover:scale-105 [transform-style:preserve-3d]",children:[a.jsxs(De,{className:"text-center pb-4",children:[a.jsx(Ue,{className:"text-2xl font-semibold",children:"Unlock Your AI Potential"}),a.jsx("p",{className:"text-muted-foreground",children:"Sign in to access your intelligent automation dashboard"})]}),a.jsxs(Ie,{className:"space-y-6",children:[n&&a.jsx(Bt,{variant:"destructive",children:a.jsx(Wt,{children:n})}),a.jsx(J,{onClick:o,disabled:s||e,className:"w-full h-14 text-lg font-medium bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white border-0 shadow-lg transform transition-transform hover:scale-105",children:s?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white mr-3"}),"Authenticating..."]}):a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"fab fa-google text-2xl mr-4"}),"Continue with Google"]})}),a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx(J,{variant:"link",className:"text-xs text-muted-foreground",children:"Sign in as Guest"}),a.jsx(An,{orientation:"vertical",className:"h-4"}),a.jsx(J,{variant:"link",className:"text-xs text-muted-foreground",children:"Sign up for a free trial"})]}),a.jsx(An,{className:"my-6",children:a.jsx("span",{className:"text-xs text-muted-foreground bg-card px-2",children:"or"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-sm font-medium text-foreground text-center",children:"Unlock cutting-edge features:"}),a.jsx(tC,{children:a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[a.jsxs(Ou,{children:[a.jsxs(Mu,{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/50 hover:bg-muted/70 transition-colors",children:[a.jsx("i",{className:"fas fa-robot text-primary"}),a.jsx("span",{children:"Autonomous AI Agents"})]}),a.jsx(Cl,{children:a.jsx("p",{children:"Deploy AI agents that learn and adapt to automate complex tasks."})})]}),a.jsxs(Ou,{children:[a.jsxs(Mu,{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/50 hover:bg-muted/70 transition-colors",children:[a.jsx("i",{className:"fas fa-cogs text-accent"}),a.jsx("span",{children:"Self-Improving Workflows"})]}),a.jsx(Cl,{children:a.jsx("p",{children:"Create workflows that optimize themselves for maximum efficiency."})})]}),a.jsxs(Ou,{children:[a.jsxs(Mu,{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/50 hover:bg-muted/70 transition-colors",children:[a.jsx("i",{className:"fas fa-brain text-green-500"}),a.jsx("span",{children:"Predictive Analytics"})]}),a.jsx(Cl,{children:a.jsx("p",{children:"Gain insights into future trends and make data-driven decisions."})})]}),a.jsxs(Ou,{children:[a.jsxs(Mu,{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/50 hover:bg-muted/70 transition-colors",children:[a.jsx("i",{className:"fas fa-users text-purple-500"}),a.jsx("span",{children:"Collaborative AI"})]}),a.jsx(Cl,{children:a.jsx("p",{children:"Enable multiple AI agents to collaborate on complex projects."})})]})]})})]}),a.jsxs("div",{className:"pt-4",children:[a.jsx("h3",{className:"text-sm font-medium text-foreground text-center mb-2",children:"Trusted by innovators:"}),a.jsxs("blockquote",{className:"text-center text-xs text-muted-foreground italic",children:['"AuraOS has transformed our workflow, saving us countless hours and delivering incredible results."',a.jsx("footer",{className:"mt-1 not-italic font-semibold",children:"- CEO of a leading tech company"})]})]}),a.jsx("div",{className:"text-center pt-4",children:a.jsxs("span",{className:"inline-flex items-center text-xs text-muted-foreground",children:[a.jsx("i",{className:"fas fa-lock text-green-500 mr-2"}),"Secure sign-in powered by Firebase Authentication"]})})]})]}),a.jsxs("div",{className:"text-center mt-8",children:[a.jsxs("p",{className:"text-xs text-muted-foreground",children:["By signing in, you agree to our"," ",a.jsx("a",{href:"#",className:"text-primary hover:underline",children:"Terms of Service"})," ","and"," ",a.jsx("a",{href:"#",className:"text-primary hover:underline",children:"Privacy Policy"})]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Your data is protected with end-to-end encryption and advanced security protocols."})]})]})]})}function B5({children:t}){const{user:e,loading:n,isAuthenticated:r}=Jc();return n?a.jsx(D5,{}):r?a.jsx(a.Fragment,{children:t}):a.jsx(z5,{})}function W5(){return hb.useSyncExternalStore(H5,()=>!0,()=>!1)}function H5(){return()=>{}}var ex="Avatar",[q5]=Qn(ex),[G5,TA]=q5(ex),SA=g.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=g.useState("idle");return a.jsx(G5,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:a.jsx(se.span,{...r,ref:e})})});SA.displayName=ex;var bA="AvatarImage",IA=g.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=TA(bA,n),l=K5(r,i),c=it(d=>{s(d),o.onImageLoadingStatusChange(d)});return nt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(se.img,{...i,ref:e,src:r}):null});IA.displayName=bA;var CA="AvatarFallback",NA=g.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=TA(CA,n),[o,l]=g.useState(r===void 0);return g.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&i.imageLoadingStatus!=="loaded"?a.jsx(se.span,{...s,ref:e}):null});NA.displayName=CA;function S0(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function K5(t,{referrerPolicy:e,crossOrigin:n}){const r=W5(),s=g.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[o,l]=g.useState(()=>S0(i,t));return nt(()=>{l(S0(i,t))},[i,t]),nt(()=>{const c=f=>()=>{l(f)};if(!i)return;const d=c("loaded"),h=c("error");return i.addEventListener("load",d),i.addEventListener("error",h),e&&(i.referrerPolicy=e),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",d),i.removeEventListener("error",h)}},[i,n,e]),o}var AA=SA,PA=IA,RA=NA;const Yo=g.forwardRef(({className:t,...e},n)=>a.jsx(AA,{ref:n,className:ue("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Yo.displayName=AA.displayName;const vf=g.forwardRef(({className:t,...e},n)=>a.jsx(PA,{ref:n,className:ue("aspect-square h-full w-full",t),...e}));vf.displayName=PA.displayName;const Xo=g.forwardRef(({className:t,...e},n)=>a.jsx(RA,{ref:n,className:ue("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Xo.displayName=RA.displayName;const Q5=[{name:"Dashboard",href:"/",icon:"fas fa-home"},{name:"Social Feed",href:"/social-feed",icon:"fas fa-users",hasNotification:!0},{name:"Workflows",href:"/workflows",icon:"fas fa-project-diagram"},{name:"AI Agents",href:"/ai-agents",icon:"fas fa-robot"},{name:"Smart Learning",href:"/smart-learning",icon:"fas fa-brain"},{name:"AI Tools",href:"/advanced-ai-tools",icon:"fas fa-tools"},{name:"Telegram",href:"/telegram",icon:"fab fa-telegram"},{name:"Analytics",href:"/analytics",icon:"fas fa-chart-bar"},{name:"Settings",href:"/settings",icon:"fas fa-cog"},{name:"Debug",href:"/debug",icon:"fas fa-bug"},{name:"Workspace",href:"/workspace",icon:"fas fa-star"}];function ho(){var i,o,l;const[t]=u2(),{user:e,signOut:n}=Jc(),{data:r}=Gt({queryKey:["userData",e==null?void 0:e.uid],queryFn:()=>e!=null&&e.uid?Promise.resolve({displayName:e.displayName,email:e.email}):null,enabled:!!(e!=null&&e.uid)}),s=async()=>{try{await n()}catch(c){console.error("Sign out error:",c)}};return a.jsxs("div",{className:"w-64 glass-card border-r border-border/50 flex flex-col backdrop-blur-xl cyber-scrollbar",children:[a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 gradient-cyber-primary rounded-xl flex items-center justify-center neon-glow-lg animate-neon-pulse",children:a.jsx("i",{className:"fas fa-robot text-white text-lg"})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-bold text-xl neon-text animate-neon-flicker",children:"AuraOS"}),a.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:"v2.0"})]})]})}),a.jsx("nav",{className:"flex-1 px-4 pb-4",children:a.jsx("ul",{className:"space-y-2",children:Q5.map(c=>{const d=t===c.href;return a.jsx("li",{children:a.jsx(f2,{href:c.href,children:a.jsxs("a",{className:ue("flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-300 group relative overflow-hidden",d?"gradient-cyber-primary text-white neon-glow-lg animate-neon-pulse":"text-muted-foreground hover:text-foreground hover:bg-primary/10 hover:neon-glow-sm hover:border-primary/30 border border-transparent"),"data-testid":`nav-${c.name.toLowerCase().replace(" ","-")}`,children:[a.jsx("i",{className:`${c.icon} w-5 transition-transform duration-300 group-hover:scale-110`}),a.jsx("span",{className:"font-medium",children:c.name}),c.hasNotification&&a.jsx("div",{className:"ml-auto w-2 h-2 bg-accent rounded-full animate-neon-pulse neon-glow-sm"}),d&&a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent animate-cyber-scan"})]})})},c.name)})})}),a.jsx(An,{className:"bg-border/30"}),a.jsx("div",{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl hover:bg-primary/10 transition-all duration-300 group",children:[a.jsxs(Yo,{className:"w-10 h-10 border border-primary/30 neon-glow-sm group-hover:neon-glow-md transition-all duration-300",children:[a.jsx(vf,{src:(e==null?void 0:e.photoURL)||void 0,alt:(e==null?void 0:e.displayName)||"User"}),a.jsx(Xo,{className:"bg-gradient-to-r from-primary/20 to-accent/20 text-primary font-bold",children:((i=e==null?void 0:e.displayName)==null?void 0:i.split(" ").map(c=>c[0]).join(""))||((l=(o=e==null?void 0:e.email)==null?void 0:o[0])==null?void 0:l.toUpperCase())||"U"})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-foreground truncate neon-text","data-testid":"text-user-name",children:(e==null?void 0:e.displayName)||(e==null?void 0:e.email)||"User"}),a.jsx("p",{className:"text-xs text-muted-foreground truncate","data-testid":"text-user-email",children:(e==null?void 0:e.email)||"user@example.com"})]}),a.jsx(J,{variant:"ghost",size:"sm",onClick:s,"data-testid":"button-sign-out",title:"Sign Out",className:"hover:bg-primary/20 hover:text-primary transition-all duration-300 neon-glow-sm hover:neon-glow-md",children:a.jsx("i",{className:"fas fa-sign-out-alt"})})]})})]})}function fo({title:t,subtitle:e,actions:n}){return a.jsx("header",{className:"glass-card border-b border-border/50 px-6 py-4 backdrop-blur-xl",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold neon-text animate-neon-flicker","data-testid":"text-page-title",children:t}),e&&a.jsx("p",{className:"text-sm text-muted-foreground mt-1","data-testid":"text-page-subtitle",children:e})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(J,{variant:"ghost",size:"sm",className:"relative neon-glow-sm hover:neon-glow-md transition-all duration-300","data-testid":"button-notifications",children:[a.jsx("i",{className:"fas fa-bell text-lg"}),a.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-accent rounded-full animate-neon-pulse neon-glow-sm"})]}),n]})]})})}function Y5(){var r,s,i,o;const{data:t,isLoading:e}=Gt({queryKey:["/api/users/user-1/stats"]});if(e)return a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:Array.from({length:4}).map((l,c)=>a.jsx(me,{className:"p-6",children:a.jsxs("div",{className:"animate-pulse space-y-3",children:[a.jsx("div",{className:"h-4 bg-muted rounded w-1/2"}),a.jsx("div",{className:"h-8 bg-muted rounded w-3/4"}),a.jsx("div",{className:"h-3 bg-muted rounded w-2/3"})]})},c))});const n=[{title:"Total Posts",value:((r=t==null?void 0:t.totalPosts)==null?void 0:r.toLocaleString())||"0",change:"+12%",changeText:"from last month",icon:"fas fa-file-alt",iconBg:"bg-primary/10",iconColor:"text-primary",isPositive:!0,testId:"stat-total-posts"},{title:"Active Agents",value:((s=t==null?void 0:t.activeAgents)==null?void 0:s.toString())||"0",change:"+3",changeText:"new this week",icon:"fas fa-robot",iconBg:"bg-accent/10",iconColor:"text-accent",isPositive:!0,testId:"stat-active-agents"},{title:"Engagement Rate",value:`${((i=t==null?void 0:t.engagementRate)==null?void 0:i.toFixed(1))||"0.0"}%`,change:"+0.8%",changeText:"from last week",icon:"fas fa-heart",iconBg:"bg-green-500/10",iconColor:"text-green-500",isPositive:!0,testId:"stat-engagement-rate"},{title:"Automations Run",value:((o=t==null?void 0:t.automationsRun)==null?void 0:o.toLocaleString())||"0",change:"+24%",changeText:"efficiency gain",icon:"fas fa-bolt",iconBg:"bg-blue-500/10",iconColor:"text-blue-500",isPositive:!0,testId:"stat-automations-run"}];return a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map(l=>a.jsx(me,{className:"p-6","data-testid":l.testId,children:a.jsxs(Ie,{className:"p-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:l.title}),a.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":`${l.testId}-value`,children:l.value})]}),a.jsx("div",{className:`w-12 h-12 ${l.iconBg} rounded-lg flex items-center justify-center`,children:a.jsx("i",{className:`${l.icon} ${l.iconColor} text-xl`})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`text-sm ${l.isPositive?"text-green-600":"text-red-600"}`,"data-testid":`${l.testId}-change`,children:l.change}),a.jsx("span",{className:"text-sm text-muted-foreground","data-testid":`${l.testId}-change-text`,children:l.changeText})]})]})},l.testId))})}const X5=Fc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ht({className:t,variant:e,...n}){return a.jsx("div",{className:ue(X5({variant:e}),t),...n})}function jA({post:t}){const[e,n]=g.useState(!1),r=ai(),s=nn({mutationFn:async()=>wa("POST",`/api/posts/${t.id}/like`),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/posts"]}),n(!0)}}),i=o=>{const l=new Date,c=new Date(o),d=Math.floor((l.getTime()-c.getTime())/(1e3*60*60));return d<1?"Just now":d<24?`${d}h ago`:`${Math.floor(d/24)}d ago`};return a.jsx(me,{className:"overflow-hidden transition-all duration-200 hover:shadow-md","data-testid":`post-card-${t.id}`,children:a.jsxs(Ie,{className:"p-6",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsxs(Yo,{className:"w-12 h-12",children:[a.jsx(vf,{src:t.author.identityIcon||void 0,alt:t.author.identityName}),a.jsx(Xo,{children:t.author.identityName.split(" ").map(o=>o[0]).join("")})]}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("h3",{className:"font-semibold text-foreground","data-testid":`text-author-${t.id}`,children:t.author.identityName}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:["@",t.author.username]}),a.jsx("div",{className:"w-1 h-1 bg-muted-foreground rounded-full"}),a.jsx("span",{className:"text-sm text-muted-foreground","data-testid":`text-timestamp-${t.id}`,children:i(t.createdAt||new Date)}),t.isAiGenerated&&a.jsxs(Ht,{variant:"secondary",className:"ml-auto bg-primary/10 text-primary","data-testid":`badge-ai-generated-${t.id}`,children:[a.jsx("i",{className:"fas fa-robot mr-1"}),"AI Enhanced"]})]}),a.jsx("p",{className:"text-foreground mb-4 whitespace-pre-wrap","data-testid":`text-content-${t.id}`,children:t.content}),t.imageUrl&&a.jsx("img",{src:t.imageUrl,alt:"Post content",className:"w-full h-48 object-cover rounded-lg mb-4","data-testid":`img-content-${t.id}`})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-border",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs(J,{variant:"ghost",size:"sm",className:`flex items-center gap-2 transition-colors ${e?"text-red-500":"text-muted-foreground hover:text-red-500"}`,onClick:()=>s.mutate(),disabled:s.isPending,"data-testid":`button-like-${t.id}`,children:[a.jsx("i",{className:e?"fas fa-heart":"far fa-heart"}),a.jsx("span",{"data-testid":`text-likes-${t.id}`,children:e?t.likes+1:t.likes})]}),a.jsxs(J,{variant:"ghost",size:"sm",className:"flex items-center gap-2 text-muted-foreground hover:text-primary transition-colors","data-testid":`button-comment-${t.id}`,children:[a.jsx("i",{className:"fas fa-comment"}),a.jsx("span",{"data-testid":`text-comments-${t.id}`,children:t.comments})]}),a.jsxs(J,{variant:"ghost",size:"sm",className:"flex items-center gap-2 text-muted-foreground hover:text-green-500 transition-colors","data-testid":`button-share-${t.id}`,children:[a.jsx("i",{className:"fas fa-retweet"}),a.jsx("span",{"data-testid":`text-shares-${t.id}`,children:t.shares})]})]}),a.jsx(J,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-foreground","data-testid":`button-bookmark-${t.id}`,children:a.jsx("i",{className:"far fa-bookmark"})})]})]})})}function kA({template:t,showActions:e=!1}){const{toast:n}=Gv(),r=ai(),s=nn({mutationFn:async()=>(await wa("POST",`/api/agent-templates/${t.id}/use`),wa("POST","/api/user-agents",{userId:"user-1",templateId:t.id,name:t.name,config:t.config,isActive:!0})),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/user-agents"]}),r.invalidateQueries({queryKey:["/api/agent-templates"]}),n({title:"Agent created!",description:`${t.name} has been added to your agents.`})},onError:()=>{n({title:"Error",description:"Failed to create agent. Please try again.",variant:"destructive"})}}),i=o=>{const l={Content:"from-blue-500 to-purple-500",Engagement:"from-green-500 to-teal-500",Analytics:"from-orange-500 to-red-500",default:"from-gray-500 to-gray-600"};return l[o]||l.default};return a.jsx(me,{className:"transition-all duration-200 hover:shadow-md cursor-pointer","data-testid":`agent-template-${t.id}`,children:a.jsx(Ie,{className:"p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`w-8 h-8 bg-gradient-to-r ${i(t.category)} rounded-lg flex items-center justify-center flex-shrink-0`,children:a.jsx("i",{className:`${t.icon} text-white text-sm`})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-foreground","data-testid":`text-name-${t.id}`,children:t.name}),a.jsx("p",{className:"text-sm text-muted-foreground mb-3","data-testid":`text-description-${t.id}`,children:t.description}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.isPopular&&a.jsx(Ht,{variant:"default",className:"bg-primary/10 text-primary","data-testid":`badge-popular-${t.id}`,children:"Popular"}),a.jsx(Ht,{variant:"outline","data-testid":`badge-category-${t.id}`,children:t.category}),a.jsxs("span",{className:"text-xs text-muted-foreground","data-testid":`text-usage-${t.id}`,children:["Used ",t.usageCount.toLocaleString()," times"]})]}),e&&a.jsxs("div",{className:"flex gap-2 mt-3",children:[a.jsxs(J,{size:"sm",onClick:()=>s.mutate(),disabled:s.isPending,"data-testid":`button-use-${t.id}`,children:[a.jsx("i",{className:`fas ${s.isPending?"fa-spinner fa-spin":"fa-plus"} mr-1`}),s.isPending?"Creating...":"Use Template"]}),a.jsxs(J,{size:"sm",variant:"outline","data-testid":`button-preview-${t.id}`,children:[a.jsx("i",{className:"fas fa-eye mr-1"}),"Preview"]})]})]})]})})})}const ri=g.forwardRef(({className:t,type:e,...n},r)=>a.jsx("input",{type:e,className:ue("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));ri.displayName="Input";var J5=g.createContext(void 0);function yf(t){const e=g.useContext(J5);return t||e||"ltr"}function Lg(t,[e,n]){return Math.min(n,Math.max(e,t))}function Z5(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var tx="ScrollArea",[DA]=Qn(tx),[e9,Pn]=DA(tx),OA=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=t,[l,c]=g.useState(null),[d,h]=g.useState(null),[f,p]=g.useState(null),[v,I]=g.useState(null),[w,S]=g.useState(null),[E,x]=g.useState(0),[b,j]=g.useState(0),[k,M]=g.useState(!1),[_,T]=g.useState(!1),C=Te(e,P=>c(P)),A=yf(s);return a.jsx(e9,{scope:n,type:r,dir:A,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:h,content:f,onContentChange:p,scrollbarX:v,onScrollbarXChange:I,scrollbarXEnabled:k,onScrollbarXEnabledChange:M,scrollbarY:w,onScrollbarYChange:S,scrollbarYEnabled:_,onScrollbarYEnabledChange:T,onCornerWidthChange:x,onCornerHeightChange:j,children:a.jsx(se.div,{dir:A,...o,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":E+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})})});OA.displayName=tx;var MA="ScrollAreaViewport",LA=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=t,o=Pn(MA,n),l=g.useRef(null),c=Te(e,l,o.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(se.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:a.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});LA.displayName=MA;var Sr="ScrollAreaScrollbar",nx=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Pn(Sr,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,l=t.orientation==="horizontal";return g.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),s.type==="hover"?a.jsx(t9,{...r,ref:e,forceMount:n}):s.type==="scroll"?a.jsx(n9,{...r,ref:e,forceMount:n}):s.type==="auto"?a.jsx(VA,{...r,ref:e,forceMount:n}):s.type==="always"?a.jsx(rx,{...r,ref:e}):null});nx.displayName=Sr;var t9=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Pn(Sr,t.__scopeScrollArea),[i,o]=g.useState(!1);return g.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},h=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",h)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(Yn,{present:n||i,children:a.jsx(VA,{"data-state":i?"visible":"hidden",...r,ref:e})})}),n9=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Pn(Sr,t.__scopeScrollArea),i=t.orientation==="horizontal",o=wf(()=>c("SCROLL_END"),100),[l,c]=Z5("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return g.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,s.scrollHideDelay,c]),g.useEffect(()=>{const d=s.viewport,h=i?"scrollLeft":"scrollTop";if(d){let f=d[h];const p=()=>{const v=d[h];f!==v&&(c("SCROLL"),o()),f=v};return d.addEventListener("scroll",p),()=>d.removeEventListener("scroll",p)}},[s.viewport,i,c,o]),a.jsx(Yn,{present:n||l!=="hidden",children:a.jsx(rx,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Z(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Z(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),VA=g.forwardRef((t,e)=>{const n=Pn(Sr,t.__scopeScrollArea),{forceMount:r,...s}=t,[i,o]=g.useState(!1),l=t.orientation==="horizontal",c=wf(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?d:h)}},10);return ja(n.viewport,c),ja(n.content,c),a.jsx(Yn,{present:r||i,children:a.jsx(rx,{"data-state":i?"visible":"hidden",...s,ref:e})})}),rx=g.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=Pn(Sr,t.__scopeScrollArea),i=g.useRef(null),o=g.useRef(0),[l,c]=g.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=BA(l.viewport,l.content),h={...r,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function f(p,v){return l9(p,o.current,l,v)}return n==="horizontal"?a.jsx(r9,{...h,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollLeft,v=b0(p,l,s.dir);i.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=f(p,s.dir))}}):n==="vertical"?a.jsx(s9,{...h,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollTop,v=b0(p,l);i.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=f(p))}}):null}),r9=g.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=Pn(Sr,t.__scopeScrollArea),[o,l]=g.useState(),c=g.useRef(null),d=Te(e,c,i.onScrollbarXChange);return g.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(UA,{"data-orientation":"horizontal",...s,ref:d,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":xf(n)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.x),onDragScroll:h=>t.onDragScroll(h.x),onWheelScroll:(h,f)=>{if(i.viewport){const p=i.viewport.scrollLeft+h.deltaX;t.onWheelScroll(p),HA(p,f)&&h.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:yh(o.paddingLeft),paddingEnd:yh(o.paddingRight)}})}})}),s9=g.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=Pn(Sr,t.__scopeScrollArea),[o,l]=g.useState(),c=g.useRef(null),d=Te(e,c,i.onScrollbarYChange);return g.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(UA,{"data-orientation":"vertical",...s,ref:d,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":xf(n)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.y),onDragScroll:h=>t.onDragScroll(h.y),onWheelScroll:(h,f)=>{if(i.viewport){const p=i.viewport.scrollTop+h.deltaY;t.onWheelScroll(p),HA(p,f)&&h.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:yh(o.paddingTop),paddingEnd:yh(o.paddingBottom)}})}})}),[i9,FA]=DA(Sr),UA=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:h,onResize:f,...p}=t,v=Pn(Sr,n),[I,w]=g.useState(null),S=Te(e,C=>w(C)),E=g.useRef(null),x=g.useRef(""),b=v.viewport,j=r.content-r.viewport,k=it(h),M=it(c),_=wf(f,10);function T(C){if(E.current){const A=C.clientX-E.current.left,P=C.clientY-E.current.top;d({x:A,y:P})}}return g.useEffect(()=>{const C=A=>{const P=A.target;(I==null?void 0:I.contains(P))&&k(A,j)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[b,I,j,k]),g.useEffect(M,[r,M]),ja(I,_),ja(v.content,_),a.jsx(i9,{scope:n,scrollbar:I,hasThumb:s,onThumbChange:it(i),onThumbPointerUp:it(o),onThumbPositionChange:M,onThumbPointerDown:it(l),children:a.jsx(se.div,{...p,ref:S,style:{position:"absolute",...p.style},onPointerDown:Z(t.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),E.current=I.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),T(C))}),onPointerMove:Z(t.onPointerMove,T),onPointerUp:Z(t.onPointerUp,C=>{const A=C.target;A.hasPointerCapture(C.pointerId)&&A.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=x.current,v.viewport&&(v.viewport.style.scrollBehavior=""),E.current=null})})})}),vh="ScrollAreaThumb",$A=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=FA(vh,t.__scopeScrollArea);return a.jsx(Yn,{present:n||s.hasThumb,children:a.jsx(o9,{ref:e,...r})})}),o9=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,i=Pn(vh,n),o=FA(vh,n),{onThumbPositionChange:l}=o,c=Te(e,f=>o.onThumbChange(f)),d=g.useRef(void 0),h=wf(()=>{d.current&&(d.current(),d.current=void 0)},100);return g.useEffect(()=>{const f=i.viewport;if(f){const p=()=>{if(h(),!d.current){const v=c9(f,l);d.current=v,l()}};return l(),f.addEventListener("scroll",p),()=>f.removeEventListener("scroll",p)}},[i.viewport,h,l]),a.jsx(se.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Z(t.onPointerDownCapture,f=>{const v=f.target.getBoundingClientRect(),I=f.clientX-v.left,w=f.clientY-v.top;o.onThumbPointerDown({x:I,y:w})}),onPointerUp:Z(t.onPointerUp,o.onThumbPointerUp)})});$A.displayName=vh;var sx="ScrollAreaCorner",zA=g.forwardRef((t,e)=>{const n=Pn(sx,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?a.jsx(a9,{...t,ref:e}):null});zA.displayName=sx;var a9=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=Pn(sx,n),[i,o]=g.useState(0),[l,c]=g.useState(0),d=!!(i&&l);return ja(s.scrollbarX,()=>{var f;const h=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(h),c(h)}),ja(s.scrollbarY,()=>{var f;const h=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(h),o(h)}),d?a.jsx(se.div,{...r,ref:e,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function yh(t){return t?parseInt(t,10):0}function BA(t,e){const n=t/e;return isNaN(n)?0:n}function xf(t){const e=BA(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function l9(t,e,n,r="ltr"){const s=xf(n),i=s/2,o=e||i,l=s-o,c=n.scrollbar.paddingStart+o,d=n.scrollbar.size-n.scrollbar.paddingEnd-l,h=n.content-n.viewport,f=r==="ltr"?[0,h]:[h*-1,0];return WA([c,d],f)(t)}function b0(t,e,n="ltr"){const r=xf(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,o=e.content-e.viewport,l=i-r,c=n==="ltr"?[0,o]:[o*-1,0],d=Lg(t,c);return WA([0,o],[0,l])(d)}function WA(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function HA(t,e){return t>0&&t<e}var c9=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function s(){const i={left:t.scrollLeft,top:t.scrollTop},o=n.left!==i.left,l=n.top!==i.top;(o||l)&&e(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function wf(t,e){const n=it(t),r=g.useRef(0);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),g.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function ja(t,e){const n=it(e);nt(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}var qA=OA,u9=LA,d9=zA;const GA=g.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(qA,{ref:r,className:ue("relative overflow-hidden",t),...n,children:[a.jsx(u9,{className:"h-full w-full rounded-[inherit]",children:e}),a.jsx(KA,{}),a.jsx(d9,{})]}));GA.displayName=qA.displayName;const KA=g.forwardRef(({className:t,orientation:e="vertical",...n},r)=>a.jsx(nx,{ref:r,orientation:e,className:ue("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:a.jsx($A,{className:"relative flex-1 rounded-full bg-border"})}));KA.displayName=nx.displayName;function h9(t,e){const n=g.useRef(null);return g.useEffect(()=>{const s=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}${t}`,i=new WebSocket(s);return n.current=i,i.onopen=()=>{console.log("WebSocket connected")},i.onmessage=o=>{try{const l=JSON.parse(o.data);e(l)}catch(l){console.error("Failed to parse WebSocket message:",l)}},i.onclose=()=>{console.log("WebSocket disconnected")},i.onerror=o=>{console.error("WebSocket error:",o)},()=>{i.close()}},[t,e]),n.current}function _f(){const[t,e]=g.useState(!1),[n,r]=g.useState(""),[s,i]=g.useState([]),o=g.useRef(null);h9("/ws",f=>{console.log("WebSocket message:",f)});const{data:l}=Gt({queryKey:["/api/chat/history"],queryFn:()=>fetch("/api/chat/history?userId=user-1&limit=10").then(f=>f.json()),enabled:t}),c=nn({mutationFn:async f=>(await wa("POST","/api/chat",{message:f,userId:"user-1"})).json(),onSuccess:f=>{i(p=>[...p,{id:Date.now().toString(),type:"ai",content:f.response,timestamp:new Date}])}}),d=()=>{if(!n.trim())return;const f={id:Date.now().toString(),type:"user",content:n,timestamp:new Date};i(p=>[...p,f]),c.mutate(n),r("")},h=f=>{f.key==="Enter"&&!f.shiftKey&&(f.preventDefault(),d())};return g.useEffect(()=>{var f;(f=o.current)==null||f.scrollIntoView({behavior:"smooth"})},[s]),g.useEffect(()=>{t&&s.length===0&&i([{id:"welcome",type:"ai",content:"Hi! I'm your AI assistant. I can help you create content, set up automations, or analyze your social media performance. What would you like to do?",timestamp:new Date}])},[t]),a.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:a.jsxs("div",{className:"relative",children:[a.jsx(J,{className:"w-14 h-14 rounded-full shadow-lg hover:shadow-xl transition-all duration-200 group",onClick:()=>e(!t),"data-testid":"button-toggle-chat",children:a.jsx("i",{className:`fas ${t?"fa-times":"fa-robot"} text-lg group-hover:scale-110 transition-transform`})}),t&&a.jsxs(me,{className:"absolute bottom-16 right-0 w-80 shadow-xl","data-testid":"chat-widget",children:[a.jsx(De,{className:"p-4 border-b",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(Yo,{className:"w-8 h-8",children:[a.jsx(vf,{src:"",alt:"AI Assistant"}),a.jsx(Xo,{className:"bg-gradient-to-r from-primary to-accent text-white",children:a.jsx("i",{className:"fas fa-robot text-sm"})})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-foreground",children:"AI Assistant"}),a.jsx(Ht,{variant:"secondary",className:"text-xs bg-green-500/10 text-green-600",children:"Online"})]}),a.jsx(J,{variant:"ghost",size:"sm",onClick:()=>e(!1),"data-testid":"button-close-chat",children:a.jsx("i",{className:"fas fa-times"})})]})}),a.jsxs(Ie,{className:"p-0",children:[a.jsx(GA,{className:"h-60 p-4",children:a.jsxs("div",{className:"space-y-4",children:[s.map(f=>a.jsxs("div",{className:`flex gap-3 ${f.type==="user"?"justify-end":"justify-start"}`,"data-testid":`chat-message-${f.type}-${f.id}`,children:[f.type==="ai"&&a.jsx(Yo,{className:"w-6 h-6 flex-shrink-0",children:a.jsx(Xo,{className:"bg-primary text-white",children:a.jsx("i",{className:"fas fa-robot text-xs"})})}),a.jsx("div",{className:`max-w-[70%] p-3 rounded-lg text-sm ${f.type==="user"?"bg-primary text-primary-foreground ml-auto":"bg-muted text-foreground"}`,children:f.content})]},f.id)),c.isPending&&a.jsxs("div",{className:"flex gap-3 justify-start",children:[a.jsx(Yo,{className:"w-6 h-6 flex-shrink-0",children:a.jsx(Xo,{className:"bg-primary text-white",children:a.jsx("i",{className:"fas fa-robot text-xs"})})}),a.jsxs("div",{className:"bg-muted text-foreground p-3 rounded-lg text-sm",children:[a.jsx("i",{className:"fas fa-spinner fa-spin mr-2"}),"AI is thinking..."]})]}),a.jsx("div",{ref:o})]})}),a.jsx("div",{className:"p-4 border-t",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ri,{placeholder:"Type your message...",value:n,onChange:f=>r(f.target.value),onKeyPress:h,disabled:c.isPending,"data-testid":"input-chat-message"}),a.jsx(J,{onClick:d,disabled:c.isPending||!n.trim(),"data-testid":"button-send-message",children:a.jsx("i",{className:"fas fa-paper-plane"})})]})})]})]})]})})}function f9(){const{data:t,isLoading:e}=Gt({queryKey:["/api/posts"]}),{data:n,isLoading:r}=Gt({queryKey:["/api/agent-templates"]}),{data:s,isLoading:i}=Gt({queryKey:["/api/user-agents"],queryFn:()=>fetch("/api/user-agents?userId=user-1").then(o=>o.json())});return a.jsxs("div",{className:"flex h-screen overflow-hidden bg-background carbon-texture",children:[a.jsx(ho,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(fo,{title:"Dashboard",subtitle:"Manage your AI-powered social platform"}),a.jsx("main",{className:"flex-1 overflow-auto cyber-scrollbar",children:a.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[a.jsx(Y5,{}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mt-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-semibold neon-text animate-neon-flicker",children:"Recent Posts"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(J,{variant:"neon",size:"sm","data-testid":"filter-all",children:"All"}),a.jsx(J,{variant:"cyber",size:"sm","data-testid":"filter-ai-generated",children:"AI Generated"}),a.jsx(J,{variant:"outline",size:"sm","data-testid":"filter-manual",children:"Manual"})]})]}),e?a.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((o,l)=>a.jsx(me,{className:"p-6 animate-pulse",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),a.jsx("div",{className:"h-3 bg-muted rounded w-1/2"}),a.jsx("div",{className:"h-32 bg-muted rounded"})]})},l))}):a.jsx("div",{className:"space-y-6",children:t==null?void 0:t.map(o=>a.jsx(jA,{post:o},o.id))}),a.jsxs(me,{className:"relative overflow-hidden",children:[a.jsx(De,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Ue,{className:"gradient-cyber-primary bg-clip-text text-transparent",children:"Visual Workflow Builder"}),a.jsx(J,{variant:"holographic",size:"sm","data-testid":"link-open-editor",children:"Open Editor"})]})}),a.jsx(Ie,{children:a.jsxs("div",{className:"relative bg-gradient-to-br from-muted/30 to-muted/10 rounded-xl p-6 min-h-[300px] overflow-hidden border border-primary/20",children:[a.jsx("div",{className:"absolute inset-0 opacity-10",children:a.jsx("div",{className:"grid grid-cols-12 grid-rows-8 h-full w-full",children:Array.from({length:96}).map((o,l)=>a.jsx("div",{className:"border border-primary/20"},l))})}),a.jsxs("div",{className:"relative flex items-center justify-center space-x-8",children:[a.jsx("div",{className:"gradient-cyber-primary text-white px-6 py-4 rounded-xl shadow-lg cursor-move transition-all duration-300 hover:scale-105 neon-glow-md hover:neon-glow-lg animate-hologram-flicker","data-testid":"workflow-node-trigger",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("i",{className:"fas fa-play-circle text-xl"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-bold",children:"Trigger"}),a.jsx("div",{className:"text-xs opacity-80",children:"New Mention"})]})]})}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-0.5 w-16 bg-gradient-to-r from-primary to-accent"}),a.jsx("i",{className:"fas fa-chevron-right text-primary ml-2 animate-neon-pulse"})]}),a.jsx("div",{className:"gradient-cyber-secondary text-white px-6 py-4 rounded-xl shadow-lg cursor-move transition-all duration-300 hover:scale-105 neon-glow-md hover:neon-glow-lg animate-hologram-flicker","data-testid":"workflow-node-ai",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("i",{className:"fas fa-robot text-xl"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-bold",children:"AI Analysis"}),a.jsx("div",{className:"text-xs opacity-80",children:"Sentiment Check"})]})]})}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-0.5 w-16 bg-gradient-to-r from-accent to-primary"}),a.jsx("i",{className:"fas fa-chevron-right text-accent ml-2 animate-neon-pulse"})]}),a.jsx("div",{className:"gradient-cyber-tertiary text-white px-6 py-4 rounded-xl shadow-lg cursor-move transition-all duration-300 hover:scale-105 neon-glow-md hover:neon-glow-lg animate-hologram-flicker","data-testid":"workflow-node-action",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("i",{className:"fas fa-reply text-xl"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-bold",children:"Auto Reply"}),a.jsx("div",{className:"text-xs opacity-80",children:"Generate Response"})]})]})})]}),a.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground","data-testid":"text-last-run",children:"Last run: 2 minutes ago"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("span",{className:"text-primary neon-text","data-testid":"text-successful-runs",children:" 12 successful runs today"}),a.jsx("span",{className:"text-muted-foreground","data-testid":"text-errors",children:" 0 errors"})]})]})})]})})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(me,{className:"relative overflow-hidden",children:[a.jsx(De,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Ue,{className:"gradient-cyber-primary bg-clip-text text-transparent",children:"AI Agent Templates"}),a.jsx(J,{variant:"neon",size:"sm","data-testid":"link-view-all-templates",children:"View All"})]})}),a.jsxs(Ie,{className:"space-y-3",children:[r?a.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((o,l)=>a.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg animate-pulse",children:[a.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),a.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]},l))}):n==null?void 0:n.slice(0,3).map(o=>a.jsx(kA,{template:o},o.id)),a.jsxs(J,{className:"w-full gradient-cyber-primary hover:gradient-cyber-secondary transition-all duration-300 neon-glow-md hover:neon-glow-lg","data-testid":"button-create-agent",children:[a.jsx("i",{className:"fas fa-plus mr-2"}),"Create Custom Agent"]})]})]}),a.jsxs(me,{className:"relative overflow-hidden",children:[a.jsx(De,{children:a.jsx(Ue,{className:"gradient-cyber-secondary bg-clip-text text-transparent",children:"Active Automations"})}),a.jsx(Ie,{className:"space-y-4",children:i?a.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((o,l)=>a.jsx("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg animate-pulse",children:a.jsx("div",{className:"h-4 bg-muted rounded w-3/4"})},l))}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-primary/10 to-accent/10 rounded-xl border border-primary/20 neon-glow-sm hover:neon-glow-md transition-all duration-300","data-testid":"automation-daily-scheduler",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-3 h-3 bg-primary rounded-full animate-neon-pulse neon-glow-sm"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-foreground neon-text",children:"Daily Content Scheduler"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Last run: 30 min ago"})]})]}),a.jsx(J,{variant:"ghost",size:"sm","data-testid":"button-automation-options",children:a.jsx("i",{className:"fas fa-ellipsis-v"})})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-accent/10 to-primary/10 rounded-xl border border-accent/20 neon-glow-sm hover:neon-glow-md transition-all duration-300","data-testid":"automation-engagement-tracker",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-3 h-3 bg-accent rounded-full animate-neon-pulse neon-glow-sm"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-foreground neon-text",children:"Engagement Tracker"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Last run: 1 hour ago"})]})]}),a.jsx(J,{variant:"ghost",size:"sm","data-testid":"button-automation-options",children:a.jsx("i",{className:"fas fa-ellipsis-v"})})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-yellow-500/10 to-orange-500/10 rounded-xl border border-yellow-500/20 neon-glow-sm hover:neon-glow-md transition-all duration-300","data-testid":"automation-hashtag-optimizer",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full animate-neon-pulse neon-glow-sm"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-foreground neon-text",children:"Hashtag Optimizer"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Paused"})]})]}),a.jsx(J,{variant:"ghost",size:"sm","data-testid":"button-automation-options",children:a.jsx("i",{className:"fas fa-ellipsis-v"})})]})]})})]}),a.jsxs(me,{className:"relative overflow-hidden",children:[a.jsx(De,{children:a.jsx(Ue,{className:"gradient-cyber-tertiary bg-clip-text text-transparent",children:"Quick Actions"})}),a.jsx(Ie,{children:a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs(J,{variant:"ghost",className:"p-4 bg-gradient-to-br from-primary/20 to-primary/10 text-primary hover:from-primary/30 hover:to-primary/20 h-auto flex-col neon-glow-sm hover:neon-glow-md transition-all duration-300","data-testid":"button-schedule-post",children:[a.jsx("i",{className:"fas fa-calendar-plus text-xl mb-2"}),a.jsx("span",{className:"text-sm font-medium",children:"Schedule Post"})]}),a.jsxs(J,{variant:"ghost",className:"p-4 bg-gradient-to-br from-accent/20 to-accent/10 text-accent hover:from-accent/30 hover:to-accent/20 h-auto flex-col neon-glow-sm hover:neon-glow-md transition-all duration-300","data-testid":"button-ai-generate",children:[a.jsx("i",{className:"fas fa-sparkles text-xl mb-2"}),a.jsx("span",{className:"text-sm font-medium",children:"AI Generate"})]}),a.jsxs(J,{variant:"ghost",className:"p-4 bg-gradient-to-br from-blue-500/20 to-blue-500/10 text-blue-400 hover:from-blue-500/30 hover:to-blue-500/20 h-auto flex-col neon-glow-sm hover:neon-glow-md transition-all duration-300","data-testid":"button-view-analytics",children:[a.jsx("i",{className:"fas fa-chart-bar text-xl mb-2"}),a.jsx("span",{className:"text-sm font-medium",children:"Analytics"})]}),a.jsxs(J,{variant:"ghost",className:"p-4 bg-gradient-to-br from-green-500/20 to-green-500/10 text-green-400 hover:from-green-500/30 hover:to-green-500/20 h-auto flex-col neon-glow-sm hover:neon-glow-md transition-all duration-300","data-testid":"button-create-workflow",children:[a.jsx("i",{className:"fas fa-plus text-xl mb-2"}),a.jsx("span",{className:"text-sm font-medium",children:"New Agent"})]})]})})]})]})]})]})})]}),a.jsx(_f,{})]})}var zp="focusScope.autoFocusOnMount",Bp="focusScope.autoFocusOnUnmount",I0={bubbles:!1,cancelable:!0},p9="FocusScope",ix=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[l,c]=g.useState(null),d=it(s),h=it(i),f=g.useRef(null),p=Te(e,w=>c(w)),v=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let w=function(b){if(v.paused||!l)return;const j=b.target;l.contains(j)?f.current=j:fs(f.current,{select:!0})},S=function(b){if(v.paused||!l)return;const j=b.relatedTarget;j!==null&&(l.contains(j)||fs(f.current,{select:!0}))},E=function(b){if(document.activeElement===document.body)for(const k of b)k.removedNodes.length>0&&fs(l)};document.addEventListener("focusin",w),document.addEventListener("focusout",S);const x=new MutationObserver(E);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",S),x.disconnect()}}},[r,l,v.paused]),g.useEffect(()=>{if(l){N0.add(v);const w=document.activeElement;if(!l.contains(w)){const E=new CustomEvent(zp,I0);l.addEventListener(zp,d),l.dispatchEvent(E),E.defaultPrevented||(m9(w9(QA(l)),{select:!0}),document.activeElement===w&&fs(l))}return()=>{l.removeEventListener(zp,d),setTimeout(()=>{const E=new CustomEvent(Bp,I0);l.addEventListener(Bp,h),l.dispatchEvent(E),E.defaultPrevented||fs(w??document.body,{select:!0}),l.removeEventListener(Bp,h),N0.remove(v)},0)}}},[l,d,h,v]);const I=g.useCallback(w=>{if(!n&&!r||v.paused)return;const S=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,E=document.activeElement;if(S&&E){const x=w.currentTarget,[b,j]=g9(x);b&&j?!w.shiftKey&&E===j?(w.preventDefault(),n&&fs(b,{select:!0})):w.shiftKey&&E===b&&(w.preventDefault(),n&&fs(j,{select:!0})):E===x&&w.preventDefault()}},[n,r,v.paused]);return a.jsx(se.div,{tabIndex:-1,...o,ref:p,onKeyDown:I})});ix.displayName=p9;function m9(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(fs(r,{select:e}),document.activeElement!==n)return}function g9(t){const e=QA(t),n=C0(e,t),r=C0(e.reverse(),t);return[n,r]}function QA(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function C0(t,e){for(const n of t)if(!v9(n,{upTo:e}))return n}function v9(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function y9(t){return t instanceof HTMLInputElement&&"select"in t}function fs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&y9(t)&&e&&t.select()}}var N0=x9();function x9(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=A0(t,e),t.unshift(e)},remove(e){var n;t=A0(t,e),(n=t[0])==null||n.resume()}}}function A0(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function w9(t){return t.filter(e=>e.tagName!=="A")}var Wp=0;function YA(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??P0()),document.body.insertAdjacentElement("beforeend",t[1]??P0()),Wp++,()=>{Wp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Wp--}},[])}function P0(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var lr=function(){return lr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},lr.apply(this,arguments)};function XA(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function _9(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var xd="right-scroll-bar-position",wd="width-before-scroll-bar",E9="with-scroll-bars-hidden",T9="--removed-body-scroll-bar-size";function Hp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function S9(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var b9=typeof window<"u"?g.useLayoutEffect:g.useEffect,R0=new WeakMap;function I9(t,e){var n=S9(null,function(r){return t.forEach(function(s){return Hp(s,r)})});return b9(function(){var r=R0.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(l){i.has(l)||Hp(l,null)}),i.forEach(function(l){s.has(l)||Hp(l,o)})}R0.set(n,t)},[t]),n}function C9(t){return t}function N9(t,e){e===void 0&&(e=C9);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var h=o;o=[],h.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),n}}}};return s}function A9(t){t===void 0&&(t={});var e=N9(null);return e.options=lr({async:!0,ssr:!1},t),e}var JA=function(t){var e=t.sideCar,n=XA(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,lr({},n))};JA.isSideCarExport=!0;function P9(t,e){return t.useMedium(e),JA}var ZA=A9(),qp=function(){},Ef=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:qp,onWheelCapture:qp,onTouchMoveCapture:qp}),s=r[0],i=r[1],o=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,h=t.enabled,f=t.shards,p=t.sideCar,v=t.noRelative,I=t.noIsolation,w=t.inert,S=t.allowPinchZoom,E=t.as,x=E===void 0?"div":E,b=t.gapMode,j=XA(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=p,M=I9([n,e]),_=lr(lr({},j),s);return g.createElement(g.Fragment,null,h&&g.createElement(k,{sideCar:ZA,removeScrollBar:d,shards:f,noRelative:v,noIsolation:I,inert:w,setCallbacks:i,allowPinchZoom:!!S,lockRef:n,gapMode:b}),o?g.cloneElement(g.Children.only(l),lr(lr({},_),{ref:M})):g.createElement(x,lr({},_,{className:c,ref:M}),l))});Ef.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ef.classNames={fullWidth:wd,zeroRight:xd};var R9=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function j9(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=R9();return e&&t.setAttribute("nonce",e),t}function k9(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function D9(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var O9=function(){var t=0,e=null;return{add:function(n){t==0&&(e=j9())&&(k9(e,n),D9(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},M9=function(){var t=O9();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},e1=function(){var t=M9(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},L9={left:0,top:0,right:0,gap:0},Gp=function(t){return parseInt(t||"",10)||0},V9=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Gp(n),Gp(r),Gp(s)]},F9=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return L9;var e=V9(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},U9=e1(),Jo="data-scroll-locked",$9=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(E9,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Jo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(xd,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(wd,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(xd," .").concat(xd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(wd," .").concat(wd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Jo,`] {
    `).concat(T9,": ").concat(l,`px;
  }
`)},j0=function(){var t=parseInt(document.body.getAttribute(Jo)||"0",10);return isFinite(t)?t:0},z9=function(){g.useEffect(function(){return document.body.setAttribute(Jo,(j0()+1).toString()),function(){var t=j0()-1;t<=0?document.body.removeAttribute(Jo):document.body.setAttribute(Jo,t.toString())}},[])},B9=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;z9();var i=g.useMemo(function(){return F9(s)},[s]);return g.createElement(U9,{styles:$9(i,!e,s,n?"":"!important")})},Vg=!1;if(typeof window<"u")try{var Bu=Object.defineProperty({},"passive",{get:function(){return Vg=!0,!0}});window.addEventListener("test",Bu,Bu),window.removeEventListener("test",Bu,Bu)}catch{Vg=!1}var yo=Vg?{passive:!1}:!1,W9=function(t){return t.tagName==="TEXTAREA"},t1=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!W9(t)&&n[e]==="visible")},H9=function(t){return t1(t,"overflowY")},q9=function(t){return t1(t,"overflowX")},k0=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=n1(t,r);if(s){var i=r1(t,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},G9=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},K9=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},n1=function(t,e){return t==="v"?H9(e):q9(e)},r1=function(t,e){return t==="v"?G9(e):K9(e)},Q9=function(t,e){return t==="h"&&e==="rtl"?-1:1},Y9=function(t,e,n,r,s){var i=Q9(t,window.getComputedStyle(e).direction),o=i*r,l=n.target,c=e.contains(l),d=!1,h=o>0,f=0,p=0;do{if(!l)break;var v=r1(t,l),I=v[0],w=v[1],S=v[2],E=w-S-i*I;(I||E)&&n1(t,l)&&(f+=E,p+=I);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(h&&Math.abs(f)<1||!h&&Math.abs(p)<1)&&(d=!0),d},Wu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},D0=function(t){return[t.deltaX,t.deltaY]},O0=function(t){return t&&"current"in t?t.current:t},X9=function(t,e){return t[0]===e[0]&&t[1]===e[1]},J9=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Z9=0,xo=[];function e$(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(Z9++)[0],i=g.useState(e1)[0],o=g.useRef(t);g.useEffect(function(){o.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var w=_9([t.lockRef.current],(t.shards||[]).map(O0),!0).filter(Boolean);return w.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),w.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=g.useCallback(function(w,S){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var E=Wu(w),x=n.current,b="deltaX"in w?w.deltaX:x[0]-E[0],j="deltaY"in w?w.deltaY:x[1]-E[1],k,M=w.target,_=Math.abs(b)>Math.abs(j)?"h":"v";if("touches"in w&&_==="h"&&M.type==="range")return!1;var T=k0(_,M);if(!T)return!0;if(T?k=_:(k=_==="v"?"h":"v",T=k0(_,M)),!T)return!1;if(!r.current&&"changedTouches"in w&&(b||j)&&(r.current=k),!k)return!0;var C=r.current||k;return Y9(C,S,w,C==="h"?b:j)},[]),c=g.useCallback(function(w){var S=w;if(!(!xo.length||xo[xo.length-1]!==i)){var E="deltaY"in S?D0(S):Wu(S),x=e.current.filter(function(k){return k.name===S.type&&(k.target===S.target||S.target===k.shadowParent)&&X9(k.delta,E)})[0];if(x&&x.should){S.cancelable&&S.preventDefault();return}if(!x){var b=(o.current.shards||[]).map(O0).filter(Boolean).filter(function(k){return k.contains(S.target)}),j=b.length>0?l(S,b[0]):!o.current.noIsolation;j&&S.cancelable&&S.preventDefault()}}},[]),d=g.useCallback(function(w,S,E,x){var b={name:w,delta:S,target:E,should:x,shadowParent:t$(E)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(j){return j!==b})},1)},[]),h=g.useCallback(function(w){n.current=Wu(w),r.current=void 0},[]),f=g.useCallback(function(w){d(w.type,D0(w),w.target,l(w,t.lockRef.current))},[]),p=g.useCallback(function(w){d(w.type,Wu(w),w.target,l(w,t.lockRef.current))},[]);g.useEffect(function(){return xo.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,yo),document.addEventListener("touchmove",c,yo),document.addEventListener("touchstart",h,yo),function(){xo=xo.filter(function(w){return w!==i}),document.removeEventListener("wheel",c,yo),document.removeEventListener("touchmove",c,yo),document.removeEventListener("touchstart",h,yo)}},[]);var v=t.removeScrollBar,I=t.inert;return g.createElement(g.Fragment,null,I?g.createElement(i,{styles:J9(s)}):null,v?g.createElement(B9,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function t$(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const n$=P9(ZA,e$);var ox=g.forwardRef(function(t,e){return g.createElement(Ef,lr({},t,{ref:e,sideCar:n$}))});ox.classNames=Ef.classNames;var r$=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},wo=new WeakMap,Hu=new WeakMap,qu={},Kp=0,s1=function(t){return t&&(t.host||s1(t.parentNode))},s$=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=s1(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},i$=function(t,e,n,r){var s=s$(e,Array.isArray(t)?t:[t]);qu[n]||(qu[n]=new WeakMap);var i=qu[n],o=[],l=new Set,c=new Set(s),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};s.forEach(d);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(l.has(p))h(p);else try{var v=p.getAttribute(r),I=v!==null&&v!=="false",w=(wo.get(p)||0)+1,S=(i.get(p)||0)+1;wo.set(p,w),i.set(p,S),o.push(p),w===1&&I&&Hu.set(p,!0),S===1&&p.setAttribute(n,"true"),I||p.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",p,E)}})};return h(e),l.clear(),Kp++,function(){o.forEach(function(f){var p=wo.get(f)-1,v=i.get(f)-1;wo.set(f,p),i.set(f,v),p||(Hu.has(f)||f.removeAttribute(r),Hu.delete(f)),v||f.removeAttribute(n)}),Kp--,Kp||(wo=new WeakMap,wo=new WeakMap,Hu=new WeakMap,qu={})}},i1=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=r$(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),i$(r,s,n,"aria-hidden")):function(){return null}},Tf="Dialog",[o1]=Qn(Tf),[o$,Xn]=o1(Tf),a1=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,l=g.useRef(null),c=g.useRef(null),[d,h]=Gi({prop:r,defaultProp:s??!1,onChange:i,caller:Tf});return a.jsx(o$,{scope:e,triggerRef:l,contentRef:c,contentId:$r(),titleId:$r(),descriptionId:$r(),open:d,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(f=>!f),[h]),modal:o,children:n})};a1.displayName=Tf;var l1="DialogTrigger",c1=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Xn(l1,n),i=Te(e,s.triggerRef);return a.jsx(se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":cx(s.open),...r,ref:i,onClick:Z(t.onClick,s.onOpenToggle)})});c1.displayName=l1;var ax="DialogPortal",[a$,u1]=o1(ax,{forceMount:void 0}),d1=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Xn(ax,e);return a.jsx(a$,{scope:e,forceMount:n,children:g.Children.map(r,o=>a.jsx(Yn,{present:n||i.open,children:a.jsx(Fh,{asChild:!0,container:s,children:o})}))})};d1.displayName=ax;var xh="DialogOverlay",h1=g.forwardRef((t,e)=>{const n=u1(xh,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Xn(xh,t.__scopeDialog);return i.modal?a.jsx(Yn,{present:r||i.open,children:a.jsx(c$,{...s,ref:e})}):null});h1.displayName=xh;var l$=_a("DialogOverlay.RemoveScroll"),c$=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Xn(xh,n);return a.jsx(ox,{as:l$,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(se.div,{"data-state":cx(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),to="DialogContent",f1=g.forwardRef((t,e)=>{const n=u1(to,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Xn(to,t.__scopeDialog);return a.jsx(Yn,{present:r||i.open,children:i.modal?a.jsx(u$,{...s,ref:e}):a.jsx(d$,{...s,ref:e})})});f1.displayName=to;var u$=g.forwardRef((t,e)=>{const n=Xn(to,t.__scopeDialog),r=g.useRef(null),s=Te(e,n.contentRef,r);return g.useEffect(()=>{const i=r.current;if(i)return i1(i)},[]),a.jsx(p1,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Z(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Z(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Z(t.onFocusOutside,i=>i.preventDefault())})}),d$=g.forwardRef((t,e)=>{const n=Xn(to,t.__scopeDialog),r=g.useRef(!1),s=g.useRef(!1);return a.jsx(p1,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),p1=g.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,l=Xn(to,n),c=g.useRef(null),d=Te(e,c);return YA(),a.jsxs(a.Fragment,{children:[a.jsx(ix,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(Lc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":cx(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(h$,{titleId:l.titleId}),a.jsx(p$,{contentRef:c,descriptionId:l.descriptionId})]})]})}),lx="DialogTitle",m1=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Xn(lx,n);return a.jsx(se.h2,{id:s.titleId,...r,ref:e})});m1.displayName=lx;var g1="DialogDescription",v1=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Xn(g1,n);return a.jsx(se.p,{id:s.descriptionId,...r,ref:e})});v1.displayName=g1;var y1="DialogClose",x1=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Xn(y1,n);return a.jsx(se.button,{type:"button",...r,ref:e,onClick:Z(t.onClick,()=>s.onOpenChange(!1))})});x1.displayName=y1;function cx(t){return t?"open":"closed"}var w1="DialogTitleWarning",[Jz,_1]=rD(w1,{contentName:to,titleName:lx,docsSlug:"dialog"}),h$=({titleId:t})=>{const e=_1(w1),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return g.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},f$="DialogDescriptionWarning",p$=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${_1(f$).contentName}}.`;return g.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},m$=a1,g$=c1,v$=d1,E1=h1,T1=f1,S1=m1,b1=v1,y$=x1;const x$=m$,w$=g$,_$=v$,I1=g.forwardRef(({className:t,...e},n)=>a.jsx(E1,{ref:n,className:ue("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));I1.displayName=E1.displayName;const C1=g.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(_$,{children:[a.jsx(I1,{}),a.jsxs(T1,{ref:r,className:ue("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,a.jsxs(y$,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(dI,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));C1.displayName=T1.displayName;const N1=({className:t,...e})=>a.jsx("div",{className:ue("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});N1.displayName="DialogHeader";const A1=g.forwardRef(({className:t,...e},n)=>a.jsx(S1,{ref:n,className:ue("text-lg font-semibold leading-none tracking-tight",t),...e}));A1.displayName=S1.displayName;const E$=g.forwardRef(({className:t,...e},n)=>a.jsx(b1,{ref:n,className:ue("text-sm text-muted-foreground",t),...e}));E$.displayName=b1.displayName;const Kn=g.forwardRef(({className:t,...e},n)=>a.jsx("textarea",{className:ue("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));Kn.displayName="Textarea";var T$="Label",P1=g.forwardRef((t,e)=>a.jsx(se.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));P1.displayName=T$;var R1=P1;const S$=Fc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Lo=g.forwardRef(({className:t,...e},n)=>a.jsx(R1,{ref:n,className:ue(S$(),t),...e}));Lo.displayName=R1.displayName;function M0(){const[t,e]=g.useState(!1),[n,r]=g.useState(""),[s,i]=g.useState(""),[o,l]=g.useState(""),[c,d]=g.useState(!1),{toast:h}=Gv(),f=ai(),p=nn({mutationFn:async S=>wa("POST","/api/posts",{...S,authorId:"user-1"}),onSuccess:()=>{f.invalidateQueries({queryKey:["/api/posts"]}),e(!1),r(""),i(""),l(""),h({title:"Post created!",description:"Your post has been shared successfully."})},onError:()=>{h({title:"Error",description:"Failed to create post. Please try again.",variant:"destructive"})}}),v=nn({mutationFn:async S=>(await wa("POST","/api/ai/generate-content",{prompt:S,type:"post"})).json(),onSuccess:S=>{r(S.content),d(!1),h({title:"Content generated!",description:"AI has generated content for your post."})},onError:()=>{d(!1),h({title:"Error",description:"Failed to generate content. Please try again.",variant:"destructive"})}}),I=()=>{if(!o.trim()){h({title:"Error",description:"Please enter a prompt for AI generation.",variant:"destructive"});return}d(!0),v.mutate(o)},w=()=>{if(!n.trim()){h({title:"Error",description:"Please enter some content for your post.",variant:"destructive"});return}p.mutate({content:n,imageUrl:s||void 0,isAiGenerated:!!o})};return a.jsxs(x$,{open:t,onOpenChange:e,children:[a.jsx(w$,{asChild:!0,children:a.jsxs(J,{"data-testid":"button-create-post",children:[a.jsx("i",{className:"fas fa-plus mr-2"}),"Create Post"]})}),a.jsxs(C1,{className:"sm:max-w-[600px]","data-testid":"dialog-create-post",children:[a.jsx(N1,{children:a.jsx(A1,{children:"Create New Post"})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx(Lo,{children:"AI Content Generation (Optional)"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ri,{placeholder:"Describe what you want to post about...",value:o,onChange:S=>l(S.target.value),"data-testid":"input-ai-prompt"}),a.jsxs(J,{onClick:I,disabled:c,"data-testid":"button-generate-content",children:[a.jsx("i",{className:`fas ${c?"fa-spinner fa-spin":"fa-magic"} mr-2`}),c?"Generating...":"Generate"]})]})]}),a.jsx(An,{}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Lo,{htmlFor:"content",children:"Post Content"}),o&&a.jsxs(Ht,{variant:"secondary",className:"bg-primary/10 text-primary",children:[a.jsx("i",{className:"fas fa-robot mr-1"}),"AI Generated"]})]}),a.jsx(Kn,{id:"content",placeholder:"What's on your mind?",value:n,onChange:S=>r(S.target.value),className:"min-h-[120px]","data-testid":"textarea-content"}),a.jsxs("div",{className:"text-sm text-muted-foreground text-right",children:[n.length,"/500 characters"]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Lo,{htmlFor:"imageUrl",children:"Image URL (Optional)"}),a.jsx(ri,{id:"imageUrl",placeholder:"https://example.com/image.jpg",value:s,onChange:S=>i(S.target.value),"data-testid":"input-image-url"})]}),s&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Lo,{children:"Image Preview"}),a.jsx("img",{src:s,alt:"Preview",className:"w-full h-40 object-cover rounded-lg border",onError:()=>{h({title:"Invalid image URL",description:"The image URL is not valid or accessible.",variant:"destructive"})},"data-testid":"img-preview"})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx(J,{variant:"outline",onClick:()=>e(!1),"data-testid":"button-cancel",children:"Cancel"}),a.jsxs(J,{onClick:w,disabled:p.isPending,"data-testid":"button-post",children:[a.jsx("i",{className:`fas ${p.isPending?"fa-spinner fa-spin":"fa-share"} mr-2`}),p.isPending?"Posting...":"Post"]})]})]})]})]})}function b$(){const{data:t,isLoading:e}=Gt({queryKey:["/api/posts"]});return a.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[a.jsx(ho,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(fo,{title:"Social Feed",subtitle:"Engage with your community and share content",actions:a.jsx(M0,{})}),a.jsx("main",{className:"flex-1 overflow-auto",children:a.jsx("div",{className:"p-6 max-w-4xl mx-auto",children:e?a.jsx("div",{className:"space-y-6",children:Array.from({length:5}).map((n,r)=>a.jsx(me,{className:"p-6",children:a.jsxs("div",{className:"animate-pulse space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-muted rounded-full"}),a.jsxs("div",{className:"space-y-2 flex-1",children:[a.jsx("div",{className:"h-4 bg-muted rounded w-1/4"}),a.jsx("div",{className:"h-3 bg-muted rounded w-1/6"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-4 bg-muted rounded w-full"}),a.jsx("div",{className:"h-4 bg-muted rounded w-3/4"})]}),a.jsx("div",{className:"h-48 bg-muted rounded"})]})},r))}):t!=null&&t.length?a.jsx("div",{className:"space-y-6",children:t.map(n=>a.jsx(jA,{post:n},n.id))}):a.jsx(me,{className:"p-12 text-center",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("i",{className:"fas fa-comments text-4xl text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"No posts yet"}),a.jsx("p",{className:"text-muted-foreground",children:"Be the first to share something with the community!"})]}),a.jsx(M0,{})]})})})})]}),a.jsx(_f,{})]})}const I$=[{id:"trigger-1",type:"trigger",title:"Trigger",subtitle:"New Mention",position:{x:100,y:150},color:"bg-green-500",icon:"fas fa-play-circle"},{id:"ai-1",type:"ai",title:"AI Analysis",subtitle:"Sentiment Check",position:{x:350,y:150},color:"bg-primary",icon:"fas fa-robot"},{id:"action-1",type:"action",title:"Auto Reply",subtitle:"Generate Response",position:{x:600,y:150},color:"bg-accent",icon:"fas fa-reply"}];function C$(){const[t,e]=g.useState(I$),[n,r]=g.useState(null),[s,i]=g.useState(null),[o,l]=g.useState({x:0,y:0}),c=g.useCallback((p,v)=>{if(!t.find(x=>x.id===v))return;const w=p.currentTarget.getBoundingClientRect(),S=p.clientX-w.left,E=p.clientY-w.top;i(v),l({x:S,y:E}),r(v)},[t]),d=g.useCallback(p=>{if(!s)return;const I=p.currentTarget.getBoundingClientRect(),w=p.clientX-I.left-o.x,S=p.clientY-I.top-o.y;e(E=>E.map(x=>x.id===s?{...x,position:{x:Math.max(0,Math.min(w,700)),y:Math.max(0,Math.min(S,350))}}:x))},[s,o]),h=g.useCallback(()=>{i(null)},[]),f=p=>{const v={id:`${p}-${Date.now()}`,type:p,title:p==="trigger"?"New Trigger":p==="ai"?"AI Process":"New Action",subtitle:"Configure me",position:{x:200,y:200},color:p==="trigger"?"bg-green-500":p==="ai"?"bg-primary":"bg-accent",icon:p==="trigger"?"fas fa-play":p==="ai"?"fas fa-brain":"fas fa-cog"};e(I=>[...I,v])};return a.jsxs(me,{className:"h-[600px]",children:[a.jsx(De,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Ue,{children:"Workflow Builder"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(J,{size:"sm",variant:"outline","data-testid":"button-save-workflow",children:[a.jsx("i",{className:"fas fa-save mr-2"}),"Save"]}),a.jsxs(J,{size:"sm","data-testid":"button-run-workflow",children:[a.jsx("i",{className:"fas fa-play mr-2"}),"Run"]})]})]})}),a.jsx(Ie,{children:a.jsxs("div",{className:"flex gap-6 h-full",children:[a.jsxs("div",{className:"w-48 space-y-3",children:[a.jsx("h4",{className:"font-medium text-foreground mb-3",children:"Components"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(J,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>f("trigger"),"data-testid":"button-add-trigger",children:[a.jsx("i",{className:"fas fa-play-circle text-green-500 mr-2"}),"Trigger"]}),a.jsxs(J,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>f("ai"),"data-testid":"button-add-ai",children:[a.jsx("i",{className:"fas fa-robot text-primary mr-2"}),"AI Process"]}),a.jsxs(J,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>f("action"),"data-testid":"button-add-action",children:[a.jsx("i",{className:"fas fa-cog text-accent mr-2"}),"Action"]})]}),n&&a.jsxs("div",{className:"mt-6 p-3 bg-muted/50 rounded-lg",children:[a.jsx("h5",{className:"font-medium mb-2",children:"Node Properties"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure the selected node's settings here."})]})]}),a.jsxs("div",{className:"flex-1 relative",children:[a.jsxs("div",{className:"w-full h-full bg-muted/20 rounded-lg relative overflow-hidden cursor-crosshair border-2 border-dashed border-muted-foreground/20",onMouseMove:d,onMouseUp:h,onMouseLeave:h,"data-testid":"workflow-canvas",children:[a.jsx("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",children:t.map((p,v)=>{const I=t[v+1];return I?a.jsx("line",{x1:p.position.x+80,y1:p.position.y+25,x2:I.position.x,y2:I.position.y+25,stroke:"hsl(var(--muted-foreground))",strokeWidth:"2",strokeDasharray:"5,5",opacity:"0.5"},`line-${p.id}-${I.id}`):null})}),t.map(p=>a.jsx("div",{className:`absolute cursor-move select-none transition-all duration-200 hover:scale-105 ${n===p.id?"ring-2 ring-primary":""}`,style:{left:p.position.x,top:p.position.y,transform:s===p.id?"scale(1.05)":"scale(1)"},onMouseDown:v=>c(v,p.id),"data-testid":`workflow-node-${p.id}`,children:a.jsx("div",{className:`${p.color} text-white px-4 py-3 rounded-lg shadow-lg min-w-[160px]`,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("i",{className:p.icon}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium",children:p.title}),a.jsx("div",{className:"text-xs opacity-80",children:p.subtitle})]})]})})},p.id)),a.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:`
                    radial-gradient(circle, hsl(var(--muted-foreground)) 1px, transparent 1px)
                  `,backgroundSize:"20px 20px"}})]}),a.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:a.jsxs("div",{className:"flex items-center justify-between text-sm bg-card/90 backdrop-blur-sm rounded-lg px-3 py-2 border",children:[a.jsxs("span",{className:"text-muted-foreground","data-testid":"text-node-count",children:[t.length," nodes"]}),a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs(Ht,{variant:"secondary","data-testid":"badge-status",children:[a.jsx("i",{className:"fas fa-circle text-green-500 mr-1"}),"Ready to run"]})})]})})]})]})})]})}function N$(){const{data:t,isLoading:e}=Gt({queryKey:["/api/workflows"],queryFn:()=>fetch("/api/workflows?userId=user-1").then(n=>n.json())});return a.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[a.jsx(ho,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(fo,{title:"Workflows",subtitle:"Create and manage your automation workflows"}),a.jsx("main",{className:"flex-1 overflow-auto",children:a.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsx(C$,{})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(me,{children:[a.jsx(De,{children:a.jsx(Ue,{children:"Your Workflows"})}),a.jsx(Ie,{children:e?a.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((n,r)=>a.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg animate-pulse",children:[a.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),a.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]},r))}):t!=null&&t.length?a.jsx("div",{className:"space-y-4",children:t.map(n=>a.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg hover:bg-muted transition-colors","data-testid":`workflow-${n.id}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("h4",{className:"font-medium text-foreground",children:n.name}),a.jsx(Ht,{variant:n.isActive?"default":"secondary","data-testid":`status-${n.id}`,children:n.isActive?"Active":"Inactive"})]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:n.description}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[a.jsxs("span",{"data-testid":`run-count-${n.id}`,children:[n.runCount," runs"]}),a.jsx("span",{"data-testid":`last-run-${n.id}`,children:n.lastRun?`Last: ${new Date(n.lastRun).toLocaleDateString()}`:"Never run"})]}),a.jsxs("div",{className:"flex gap-2 mt-3",children:[a.jsxs(J,{size:"sm",variant:"outline","data-testid":`button-edit-${n.id}`,children:[a.jsx("i",{className:"fas fa-edit mr-1"}),"Edit"]}),a.jsxs(J,{size:"sm",variant:"outline","data-testid":`button-toggle-${n.id}`,children:[a.jsx("i",{className:`fas ${n.isActive?"fa-pause":"fa-play"} mr-1`}),n.isActive?"Pause":"Start"]})]})]},n.id))}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx("i",{className:"fas fa-project-diagram text-4xl text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No workflows created yet"})]})})]}),a.jsxs(me,{children:[a.jsx(De,{children:a.jsx(Ue,{children:"Quick Start Templates"})}),a.jsxs(Ie,{className:"space-y-3",children:[a.jsx("div",{className:"p-3 bg-muted/50 rounded-lg hover:bg-muted transition-colors cursor-pointer","data-testid":"template-auto-responder",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-lg flex items-center justify-center",children:a.jsx("i",{className:"fas fa-reply text-white text-sm"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-foreground",children:"Auto Responder"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Respond to mentions automatically"})]})]})}),a.jsx("div",{className:"p-3 bg-muted/50 rounded-lg hover:bg-muted transition-colors cursor-pointer","data-testid":"template-content-scheduler",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-teal-500 rounded-lg flex items-center justify-center",children:a.jsx("i",{className:"fas fa-calendar text-white text-sm"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-foreground",children:"Content Scheduler"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Schedule posts at optimal times"})]})]})}),a.jsx("div",{className:"p-3 bg-muted/50 rounded-lg hover:bg-muted transition-colors cursor-pointer","data-testid":"template-trend-analyzer",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-orange-500 to-red-500 rounded-lg flex items-center justify-center",children:a.jsx("i",{className:"fas fa-chart-line text-white text-sm"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-foreground",children:"Trend Analyzer"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Monitor and respond to trends"})]})]})})]})]})]})]})})})]}),a.jsx(_f,{})]})}var Qp="rovingFocusGroup.onEntryFocus",A$={bubbles:!1,cancelable:!0},Zc="RovingFocusGroup",[Fg,j1,P$]=Kv(Zc),[R$,k1]=Qn(Zc,[P$]),[j$,k$]=R$(Zc),D1=g.forwardRef((t,e)=>a.jsx(Fg.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(Fg.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(D$,{...t,ref:e})})}));D1.displayName=Zc;var D$=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...f}=t,p=g.useRef(null),v=Te(e,p),I=yf(i),[w,S]=Gi({prop:o,defaultProp:l??null,onChange:c,caller:Zc}),[E,x]=g.useState(!1),b=it(d),j=j1(n),k=g.useRef(!1),[M,_]=g.useState(0);return g.useEffect(()=>{const T=p.current;if(T)return T.addEventListener(Qp,b),()=>T.removeEventListener(Qp,b)},[b]),a.jsx(j$,{scope:n,orientation:r,dir:I,loop:s,currentTabStopId:w,onItemFocus:g.useCallback(T=>S(T),[S]),onItemShiftTab:g.useCallback(()=>x(!0),[]),onFocusableItemAdd:g.useCallback(()=>_(T=>T+1),[]),onFocusableItemRemove:g.useCallback(()=>_(T=>T-1),[]),children:a.jsx(se.div,{tabIndex:E||M===0?-1:0,"data-orientation":r,...f,ref:v,style:{outline:"none",...t.style},onMouseDown:Z(t.onMouseDown,()=>{k.current=!0}),onFocus:Z(t.onFocus,T=>{const C=!k.current;if(T.target===T.currentTarget&&C&&!E){const A=new CustomEvent(Qp,A$);if(T.currentTarget.dispatchEvent(A),!A.defaultPrevented){const P=j().filter(Q=>Q.focusable),D=P.find(Q=>Q.active),R=P.find(Q=>Q.id===w),re=[D,R,...P].filter(Boolean).map(Q=>Q.ref.current);L1(re,h)}}k.current=!1}),onBlur:Z(t.onBlur,()=>x(!1))})})}),O1="RovingFocusGroupItem",M1=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...l}=t,c=$r(),d=i||c,h=k$(O1,n),f=h.currentTabStopId===d,p=j1(n),{onFocusableItemAdd:v,onFocusableItemRemove:I,currentTabStopId:w}=h;return g.useEffect(()=>{if(r)return v(),()=>I()},[r,v,I]),a.jsx(Fg.ItemSlot,{scope:n,id:d,focusable:r,active:s,children:a.jsx(se.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...l,ref:e,onMouseDown:Z(t.onMouseDown,S=>{r?h.onItemFocus(d):S.preventDefault()}),onFocus:Z(t.onFocus,()=>h.onItemFocus(d)),onKeyDown:Z(t.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){h.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const E=L$(S,h.orientation,h.dir);if(E!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let b=p().filter(j=>j.focusable).map(j=>j.ref.current);if(E==="last")b.reverse();else if(E==="prev"||E==="next"){E==="prev"&&b.reverse();const j=b.indexOf(S.currentTarget);b=h.loop?V$(b,j+1):b.slice(j+1)}setTimeout(()=>L1(b))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:w!=null}):o})})});M1.displayName=O1;var O$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function M$(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function L$(t,e,n){const r=M$(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return O$[r]}function L1(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function V$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var F$=D1,U$=M1,Sf="Tabs",[$$]=Qn(Sf,[k1]),V1=k1(),[z$,ux]=$$(Sf),F1=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=t,h=yf(l),[f,p]=Gi({prop:r,onChange:s,defaultProp:i??"",caller:Sf});return a.jsx(z$,{scope:n,baseId:$r(),value:f,onValueChange:p,orientation:o,dir:h,activationMode:c,children:a.jsx(se.div,{dir:h,"data-orientation":o,...d,ref:e})})});F1.displayName=Sf;var U1="TabsList",$1=g.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=ux(U1,n),o=V1(n);return a.jsx(F$,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:a.jsx(se.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});$1.displayName=U1;var z1="TabsTrigger",B1=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=ux(z1,n),l=V1(n),c=q1(o.baseId,r),d=G1(o.baseId,r),h=r===o.value;return a.jsx(U$,{asChild:!0,...l,focusable:!s,active:h,children:a.jsx(se.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:Z(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:Z(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:Z(t.onFocus,()=>{const f=o.activationMode!=="manual";!h&&!s&&f&&o.onValueChange(r)})})})});B1.displayName=z1;var W1="TabsContent",H1=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,l=ux(W1,n),c=q1(l.baseId,r),d=G1(l.baseId,r),h=r===l.value,f=g.useRef(h);return g.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),a.jsx(Yn,{present:s||h,children:({present:p})=>a.jsx(se.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});H1.displayName=W1;function q1(t,e){return`${t}-trigger-${e}`}function G1(t,e){return`${t}-content-${e}`}var B$=F1,K1=$1,Q1=B1,Y1=H1;const dx=B$,bf=g.forwardRef(({className:t,...e},n)=>a.jsx(K1,{ref:n,className:ue("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));bf.displayName=K1.displayName;const Fn=g.forwardRef(({className:t,...e},n)=>a.jsx(Q1,{ref:n,className:ue("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Fn.displayName=Q1.displayName;const Un=g.forwardRef(({className:t,...e},n)=>a.jsx(Y1,{ref:n,className:ue("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Un.displayName=Y1.displayName;function W$(){const{data:t,isLoading:e}=Gt({queryKey:["/api/agent-templates"]}),{data:n,isLoading:r}=Gt({queryKey:["/api/user-agents"],queryFn:()=>fetch("/api/user-agents?userId=user-1").then(s=>s.json())});return a.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[a.jsx(ho,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(fo,{title:"AI Agents",subtitle:"Create and manage your intelligent automation agents"}),a.jsx("main",{className:"flex-1 overflow-auto",children:a.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:a.jsxs(dx,{defaultValue:"templates",className:"space-y-6",children:[a.jsxs(bf,{children:[a.jsx(Fn,{value:"templates","data-testid":"tab-templates",children:"Templates"}),a.jsx(Fn,{value:"my-agents","data-testid":"tab-my-agents",children:"My Agents"})]}),a.jsxs(Un,{value:"templates",className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Agent Templates"}),a.jsx("p",{className:"text-muted-foreground",children:"Choose from pre-built templates or create your own"})]}),a.jsxs(J,{"data-testid":"button-create-custom-agent",children:[a.jsx("i",{className:"fas fa-plus mr-2"}),"Create Custom Agent"]})]}),e?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((s,i)=>a.jsx(me,{className:"p-6",children:a.jsxs("div",{className:"animate-pulse space-y-4",children:[a.jsx("div",{className:"w-8 h-8 bg-muted rounded-lg"}),a.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),a.jsx("div",{className:"h-3 bg-muted rounded w-full"}),a.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})},i))}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t==null?void 0:t.map(s=>a.jsx(kA,{template:s,showActions:!0},s.id))})]}),a.jsxs(Un,{value:"my-agents",className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"My AI Agents"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage your active automation agents"})]})}),r?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:3}).map((s,i)=>a.jsx(me,{className:"p-6",children:a.jsxs("div",{className:"animate-pulse space-y-4",children:[a.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),a.jsx("div",{className:"h-3 bg-muted rounded w-full"}),a.jsx("div",{className:"h-8 bg-muted rounded w-1/3 mt-4"})]})},i))}):n!=null&&n.length?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(s=>a.jsx(me,{className:"p-6","data-testid":`agent-card-${s.id}`,children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsx("h3",{className:"font-semibold text-foreground",children:s.name}),a.jsx("div",{className:`w-3 h-3 rounded-full ${s.isActive?"bg-green-500":"bg-gray-400"}`,"data-testid":`status-${s.id}`})]}),a.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Status:"}),a.jsx("span",{className:s.isActive?"text-green-600":"text-gray-500",children:s.isActive?"Active":"Inactive"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Runs:"}),a.jsx("span",{"data-testid":`run-count-${s.id}`,children:s.runCount})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Last Run:"}),a.jsx("span",{"data-testid":`last-run-${s.id}`,children:s.lastRun?new Date(s.lastRun).toLocaleDateString():"Never"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(J,{size:"sm",variant:s.isActive?"secondary":"default","data-testid":`button-toggle-${s.id}`,children:[a.jsx("i",{className:`fas ${s.isActive?"fa-pause":"fa-play"} mr-1`}),s.isActive?"Pause":"Start"]}),a.jsxs(J,{size:"sm",variant:"outline","data-testid":`button-edit-${s.id}`,children:[a.jsx("i",{className:"fas fa-edit mr-1"}),"Edit"]})]})]})},s.id))}):a.jsx(me,{className:"p-12 text-center",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("i",{className:"fas fa-robot text-4xl text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"No agents created yet"}),a.jsx("p",{className:"text-muted-foreground",children:"Create your first AI agent from a template or build a custom one"})]}),a.jsxs(J,{"data-testid":"button-get-started",children:[a.jsx("i",{className:"fas fa-plus mr-2"}),"Get Started"]})]})})]})]})})})]}),a.jsx(_f,{})]})}function H$(){var S,E,x,b,j;const[t,e]=g.useState(""),[n,r]=g.useState(""),[s,i]=g.useState(""),[o,l]=g.useState(""),c=ai(),{data:d,isLoading:h,error:f}=Gt({queryKey:["/api/telegram/status"],refetchInterval:3e4}),p=nn({mutationFn:async k=>{const M=await fetch("/api/telegram/send-message",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)});if(!M.ok)throw new Error("Failed to send message");return M.json()},onSuccess:()=>{e(""),c.invalidateQueries({queryKey:["/api/telegram/status"]})}}),v=nn({mutationFn:async k=>{const M=await fetch("/api/telegram/broadcast",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)});if(!M.ok)throw new Error("Failed to broadcast message");return M.json()},onSuccess:()=>{i(""),l(""),c.invalidateQueries({queryKey:["/api/telegram/status"]})}}),I=()=>{!t||!n||p.mutate({chatId:n,message:t})},w=()=>{if(!s||!o)return;const k=o.split(",").map(M=>M.trim()).filter(M=>M);k.length!==0&&v.mutate({message:s,chatIds:k})};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(me,{children:[a.jsx(De,{children:a.jsxs(Ue,{className:"flex items-center gap-2",children:[a.jsx("i",{className:"fab fa-telegram text-blue-500"}),"Telegram Bot Status"]})}),a.jsx(Ie,{children:h?a.jsxs("div",{className:"animate-pulse space-y-2",children:[a.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),a.jsx("div",{className:"h-4 bg-muted rounded w-1/2"})]}):f?a.jsx(Bt,{variant:"destructive",children:a.jsx(Wt,{children:"Failed to load Telegram bot status. Please check your configuration."})}):d?a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ht,{variant:d.connected?"default":"secondary",children:d.connected?" Connected":" Disconnected"}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:["@",d.botInfo.username]})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Bot ID:"})," ",d.botInfo.id]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Name:"})," ",d.botInfo.firstName]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Can Join Groups:"}),d.botInfo.canJoinGroups?" ":" "]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Read Group Messages:"}),d.botInfo.canReadAllGroupMessages?" ":" "]})]})]}):null})]}),a.jsxs(me,{children:[a.jsx(De,{children:a.jsx(Ue,{children:"Send Message"})}),a.jsxs(Ie,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Chat ID"}),a.jsx(ri,{placeholder:"Enter chat ID (e.g., 123456789)",value:n,onChange:k=>r(k.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Message"}),a.jsx(Kn,{placeholder:"Enter your message...",value:t,onChange:k=>e(k.target.value),rows:3})]})]}),a.jsx(J,{onClick:I,disabled:!t||!n||p.isPending,className:"w-full",children:p.isPending?"Sending...":"Send Message"}),p.isError&&a.jsx(Bt,{variant:"destructive",children:a.jsxs(Wt,{children:["Failed to send message: ",(S=p.error)==null?void 0:S.message]})}),p.isSuccess&&a.jsx(Bt,{children:a.jsxs(Wt,{children:[" Message sent successfully! Message ID: ",(E=p.data)==null?void 0:E.messageId]})})]})]}),a.jsx(An,{}),a.jsxs(me,{children:[a.jsx(De,{children:a.jsx(Ue,{children:"Broadcast Message"})}),a.jsxs(Ie,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Chat IDs (comma-separated)"}),a.jsx(ri,{placeholder:"123456789, 987654321, 555666777",value:o,onChange:k=>l(k.target.value)}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Enter multiple chat IDs separated by commas"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Broadcast Message"}),a.jsx(Kn,{placeholder:"Enter your broadcast message...",value:s,onChange:k=>i(k.target.value),rows:4})]}),a.jsx(J,{onClick:w,disabled:!s||!o||v.isPending,className:"w-full",variant:"outline",children:v.isPending?"Broadcasting...":"Broadcast Message"}),v.isError&&a.jsx(Bt,{variant:"destructive",children:a.jsxs(Wt,{children:["Failed to broadcast message: ",(x=v.error)==null?void 0:x.message]})}),v.isSuccess&&a.jsx(Bt,{children:a.jsxs(Wt,{children:[" Broadcast completed! Check results: ",(j=(b=v.data)==null?void 0:b.results)==null?void 0:j.length," messages processed"]})})]})]}),a.jsxs(me,{children:[a.jsx(De,{children:a.jsx(Ue,{children:"Quick Actions"})}),a.jsx(Ie,{children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs(J,{variant:"outline",onClick:()=>{r("123456789"),e("/start")},children:[a.jsx("i",{className:"fas fa-play mr-2"}),"Send /start Command"]}),a.jsxs(J,{variant:"outline",onClick:()=>{r("123456789"),e("/help")},children:[a.jsx("i",{className:"fas fa-question-circle mr-2"}),"Send /help Command"]}),a.jsxs(J,{variant:"outline",onClick:()=>{r("123456789"),e("/status")},children:[a.jsx("i",{className:"fas fa-chart-bar mr-2"}),"Send /status Command"]}),a.jsxs(J,{variant:"outline",onClick:()=>{r("123456789"),e("/posts")},children:[a.jsx("i",{className:"fas fa-list mr-2"}),"Send /posts Command"]})]})})]})]})}function q$(){return a.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[a.jsx(ho,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(fo,{title:"Telegram Integration",subtitle:"Manage your Telegram bot and send messages",actions:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Bot Status:"}),a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]})}),a.jsx("main",{className:"flex-1 overflow-auto",children:a.jsx("div",{className:"p-6 max-w-6xl mx-auto",children:a.jsx(H$,{})})})]})]})}function G$(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var K$=[" ","Enter","ArrowUp","ArrowDown"],Q$=[" ","Enter"],no="Select",[If,Cf,Y$]=Kv(no),[Qa]=Qn(no,[Y$,qh]),Nf=qh(),[X$,ui]=Qa(no),[J$,Z$]=Qa(no),X1=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:h,autoComplete:f,disabled:p,required:v,form:I}=t,w=Nf(e),[S,E]=g.useState(null),[x,b]=g.useState(null),[j,k]=g.useState(!1),M=yf(d),[_,T]=Gi({prop:r,defaultProp:s??!1,onChange:i,caller:no}),[C,A]=Gi({prop:o,defaultProp:l,onChange:c,caller:no}),P=g.useRef(null),D=S?I||!!S.closest("form"):!0,[R,B]=g.useState(new Set),re=Array.from(R).map(Q=>Q.props.value).join(";");return a.jsx(BI,{...w,children:a.jsxs(X$,{required:v,scope:e,trigger:S,onTriggerChange:E,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:j,onValueNodeHasChildrenChange:k,contentId:$r(),value:C,onValueChange:A,open:_,onOpenChange:T,dir:M,triggerPointerDownPosRef:P,disabled:p,children:[a.jsx(If.Provider,{scope:e,children:a.jsx(J$,{scope:t.__scopeSelect,onNativeOptionAdd:g.useCallback(Q=>{B(le=>new Set(le).add(Q))},[]),onNativeOptionRemove:g.useCallback(Q=>{B(le=>{const F=new Set(le);return F.delete(Q),F})},[]),children:n})}),D?a.jsxs(_P,{"aria-hidden":!0,required:v,tabIndex:-1,name:h,autoComplete:f,value:C,onChange:Q=>A(Q.target.value),disabled:p,form:I,children:[C===void 0?a.jsx("option",{value:""}):null,Array.from(R)]},re):null]})})};X1.displayName=no;var J1="SelectTrigger",Z1=g.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Nf(n),o=ui(J1,n),l=o.disabled||r,c=Te(e,o.onTriggerChange),d=Cf(n),h=g.useRef("touch"),[f,p,v]=TP(w=>{const S=d().filter(b=>!b.disabled),E=S.find(b=>b.value===o.value),x=SP(S,w,E);x!==void 0&&o.onValueChange(x.value)}),I=w=>{l||(o.onOpenChange(!0),v()),w&&(o.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return a.jsx(WI,{asChild:!0,...i,children:a.jsx(se.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":EP(o.value)?"":void 0,...s,ref:c,onClick:Z(s.onClick,w=>{w.currentTarget.focus(),h.current!=="mouse"&&I(w)}),onPointerDown:Z(s.onPointerDown,w=>{h.current=w.pointerType;const S=w.target;S.hasPointerCapture(w.pointerId)&&S.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(I(w),w.preventDefault())}),onKeyDown:Z(s.onKeyDown,w=>{const S=f.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&p(w.key),!(S&&w.key===" ")&&K$.includes(w.key)&&(I(),w.preventDefault())})})})});Z1.displayName=J1;var eP="SelectValue",tP=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...l}=t,c=ui(eP,n),{onValueNodeHasChildrenChange:d}=c,h=i!==void 0,f=Te(e,c.onValueNodeChange);return nt(()=>{d(h)},[d,h]),a.jsx(se.span,{...l,ref:f,style:{pointerEvents:"none"},children:EP(c.value)?a.jsx(a.Fragment,{children:o}):i})});tP.displayName=eP;var ez="SelectIcon",nP=g.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return a.jsx(se.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});nP.displayName=ez;var tz="SelectPortal",rP=t=>a.jsx(Fh,{asChild:!0,...t});rP.displayName=tz;var ro="SelectContent",sP=g.forwardRef((t,e)=>{const n=ui(ro,t.__scopeSelect),[r,s]=g.useState();if(nt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?lo.createPortal(a.jsx(iP,{scope:t.__scopeSelect,children:a.jsx(If.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),i):null}return a.jsx(oP,{...t,ref:e})});sP.displayName=ro;var jn=10,[iP,di]=Qa(ro),nz="SelectContentImpl",rz=_a("SelectContent.RemoveScroll"),oP=g.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:v,sticky:I,hideWhenDetached:w,avoidCollisions:S,...E}=t,x=ui(ro,n),[b,j]=g.useState(null),[k,M]=g.useState(null),_=Te(e,te=>j(te)),[T,C]=g.useState(null),[A,P]=g.useState(null),D=Cf(n),[R,B]=g.useState(!1),re=g.useRef(!1);g.useEffect(()=>{if(b)return i1(b)},[b]),YA();const Q=g.useCallback(te=>{const[Pe,...lt]=D().map(be=>be.ref.current),[je]=lt.slice(-1),Ce=document.activeElement;for(const be of te)if(be===Ce||(be==null||be.scrollIntoView({block:"nearest"}),be===Pe&&k&&(k.scrollTop=0),be===je&&k&&(k.scrollTop=k.scrollHeight),be==null||be.focus(),document.activeElement!==Ce))return},[D,k]),le=g.useCallback(()=>Q([T,b]),[Q,T,b]);g.useEffect(()=>{R&&le()},[R,le]);const{onOpenChange:F,triggerPointerDownPosRef:W}=x;g.useEffect(()=>{if(b){let te={x:0,y:0};const Pe=je=>{var Ce,be;te={x:Math.abs(Math.round(je.pageX)-(((Ce=W.current)==null?void 0:Ce.x)??0)),y:Math.abs(Math.round(je.pageY)-(((be=W.current)==null?void 0:be.y)??0))}},lt=je=>{te.x<=10&&te.y<=10?je.preventDefault():b.contains(je.target)||F(!1),document.removeEventListener("pointermove",Pe),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",Pe),document.addEventListener("pointerup",lt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Pe),document.removeEventListener("pointerup",lt,{capture:!0})}}},[b,F,W]),g.useEffect(()=>{const te=()=>F(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[F]);const[Y,ae]=TP(te=>{const Pe=D().filter(Ce=>!Ce.disabled),lt=Pe.find(Ce=>Ce.ref.current===document.activeElement),je=SP(Pe,te,lt);je&&setTimeout(()=>je.ref.current.focus())}),Se=g.useCallback((te,Pe,lt)=>{const je=!re.current&&!lt;(x.value!==void 0&&x.value===Pe||je)&&(C(te),je&&(re.current=!0))},[x.value]),gt=g.useCallback(()=>b==null?void 0:b.focus(),[b]),ze=g.useCallback((te,Pe,lt)=>{const je=!re.current&&!lt;(x.value!==void 0&&x.value===Pe||je)&&P(te)},[x.value]),Xt=r==="popper"?Ug:aP,at=Xt===Ug?{side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:v,sticky:I,hideWhenDetached:w,avoidCollisions:S}:{};return a.jsx(iP,{scope:n,content:b,viewport:k,onViewportChange:M,itemRefCallback:Se,selectedItem:T,onItemLeave:gt,itemTextRefCallback:ze,focusSelectedItem:le,selectedItemText:A,position:r,isPositioned:R,searchRef:Y,children:a.jsx(ox,{as:rz,allowPinchZoom:!0,children:a.jsx(ix,{asChild:!0,trapped:x.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:Z(s,te=>{var Pe;(Pe=x.trigger)==null||Pe.focus({preventScroll:!0}),te.preventDefault()}),children:a.jsx(Lc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:a.jsx(Xt,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:te=>te.preventDefault(),...E,...at,onPlaced:()=>B(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:Z(E.onKeyDown,te=>{const Pe=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!Pe&&te.key.length===1&&ae(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let je=D().filter(Ce=>!Ce.disabled).map(Ce=>Ce.ref.current);if(["ArrowUp","End"].includes(te.key)&&(je=je.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const Ce=te.target,be=je.indexOf(Ce);je=je.slice(be+1)}setTimeout(()=>Q(je)),te.preventDefault()}})})})})})})});oP.displayName=nz;var sz="SelectItemAlignedPosition",aP=g.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=ui(ro,n),o=di(ro,n),[l,c]=g.useState(null),[d,h]=g.useState(null),f=Te(e,_=>h(_)),p=Cf(n),v=g.useRef(!1),I=g.useRef(!0),{viewport:w,selectedItem:S,selectedItemText:E,focusSelectedItem:x}=o,b=g.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&w&&S&&E){const _=i.trigger.getBoundingClientRect(),T=d.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),A=E.getBoundingClientRect();if(i.dir!=="rtl"){const Ce=A.left-T.left,be=C.left-Ce,Et=_.left-be,cn=_.width+Et,hi=Math.max(cn,T.width),br=window.innerWidth-jn,Ir=Lg(be,[jn,Math.max(jn,br-hi)]);l.style.minWidth=cn+"px",l.style.left=Ir+"px"}else{const Ce=T.right-A.right,be=window.innerWidth-C.right-Ce,Et=window.innerWidth-_.right-be,cn=_.width+Et,hi=Math.max(cn,T.width),br=window.innerWidth-jn,Ir=Lg(be,[jn,Math.max(jn,br-hi)]);l.style.minWidth=cn+"px",l.style.right=Ir+"px"}const P=p(),D=window.innerHeight-jn*2,R=w.scrollHeight,B=window.getComputedStyle(d),re=parseInt(B.borderTopWidth,10),Q=parseInt(B.paddingTop,10),le=parseInt(B.borderBottomWidth,10),F=parseInt(B.paddingBottom,10),W=re+Q+R+F+le,Y=Math.min(S.offsetHeight*5,W),ae=window.getComputedStyle(w),Se=parseInt(ae.paddingTop,10),gt=parseInt(ae.paddingBottom,10),ze=_.top+_.height/2-jn,Xt=D-ze,at=S.offsetHeight/2,te=S.offsetTop+at,Pe=re+Q+te,lt=W-Pe;if(Pe<=ze){const Ce=P.length>0&&S===P[P.length-1].ref.current;l.style.bottom="0px";const be=d.clientHeight-w.offsetTop-w.offsetHeight,Et=Math.max(Xt,at+(Ce?gt:0)+be+le),cn=Pe+Et;l.style.height=cn+"px"}else{const Ce=P.length>0&&S===P[0].ref.current;l.style.top="0px";const Et=Math.max(ze,re+w.offsetTop+(Ce?Se:0)+at)+lt;l.style.height=Et+"px",w.scrollTop=Pe-ze+w.offsetTop}l.style.margin=`${jn}px 0`,l.style.minHeight=Y+"px",l.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[p,i.trigger,i.valueNode,l,d,w,S,E,i.dir,r]);nt(()=>b(),[b]);const[j,k]=g.useState();nt(()=>{d&&k(window.getComputedStyle(d).zIndex)},[d]);const M=g.useCallback(_=>{_&&I.current===!0&&(b(),x==null||x(),I.current=!1)},[b,x]);return a.jsx(oz,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:M,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:a.jsx(se.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});aP.displayName=sz;var iz="SelectPopperPosition",Ug=g.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=jn,...i}=t,o=Nf(n);return a.jsx(HI,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ug.displayName=iz;var[oz,hx]=Qa(ro,{}),$g="SelectViewport",lP=g.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=di($g,n),o=hx($g,n),l=Te(e,i.onViewportChange),c=g.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(If.Slot,{scope:n,children:a.jsx(se.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Z(s.onScroll,d=>{const h=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const v=Math.abs(c.current-h.scrollTop);if(v>0){const I=window.innerHeight-jn*2,w=parseFloat(f.style.minHeight),S=parseFloat(f.style.height),E=Math.max(w,S);if(E<I){const x=E+v,b=Math.min(I,x),j=x-b;f.style.height=b+"px",f.style.bottom==="0px"&&(h.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});lP.displayName=$g;var cP="SelectGroup",[az,lz]=Qa(cP),cz=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=$r();return a.jsx(az,{scope:n,id:s,children:a.jsx(se.div,{role:"group","aria-labelledby":s,...r,ref:e})})});cz.displayName=cP;var uP="SelectLabel",dP=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=lz(uP,n);return a.jsx(se.div,{id:s.id,...r,ref:e})});dP.displayName=uP;var wh="SelectItem",[uz,hP]=Qa(wh),fP=g.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,l=ui(wh,n),c=di(wh,n),d=l.value===r,[h,f]=g.useState(i??""),[p,v]=g.useState(!1),I=Te(e,x=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,x,r,s)}),w=$r(),S=g.useRef("touch"),E=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(uz,{scope:n,value:r,disabled:s,textId:w,isSelected:d,onItemTextChange:g.useCallback(x=>{f(b=>b||((x==null?void 0:x.textContent)??"").trim())},[]),children:a.jsx(If.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:a.jsx(se.div,{role:"option","aria-labelledby":w,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:I,onFocus:Z(o.onFocus,()=>v(!0)),onBlur:Z(o.onBlur,()=>v(!1)),onClick:Z(o.onClick,()=>{S.current!=="mouse"&&E()}),onPointerUp:Z(o.onPointerUp,()=>{S.current==="mouse"&&E()}),onPointerDown:Z(o.onPointerDown,x=>{S.current=x.pointerType}),onPointerMove:Z(o.onPointerMove,x=>{var b;S.current=x.pointerType,s?(b=c.onItemLeave)==null||b.call(c):S.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Z(o.onPointerLeave,x=>{var b;x.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:Z(o.onKeyDown,x=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&x.key===" "||(Q$.includes(x.key)&&E(),x.key===" "&&x.preventDefault())})})})})});fP.displayName=wh;var jl="SelectItemText",pP=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=ui(jl,n),l=di(jl,n),c=hP(jl,n),d=Z$(jl,n),[h,f]=g.useState(null),p=Te(e,E=>f(E),c.onItemTextChange,E=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,E,c.value,c.disabled)}),v=h==null?void 0:h.textContent,I=g.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:w,onNativeOptionRemove:S}=d;return nt(()=>(w(I),()=>S(I)),[w,S,I]),a.jsxs(a.Fragment,{children:[a.jsx(se.span,{id:c.textId,...i,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?lo.createPortal(i.children,o.valueNode):null]})});pP.displayName=jl;var mP="SelectItemIndicator",gP=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return hP(mP,n).isSelected?a.jsx(se.span,{"aria-hidden":!0,...r,ref:e}):null});gP.displayName=mP;var zg="SelectScrollUpButton",vP=g.forwardRef((t,e)=>{const n=di(zg,t.__scopeSelect),r=hx(zg,t.__scopeSelect),[s,i]=g.useState(!1),o=Te(e,r.onScrollButtonChange);return nt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(xP,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});vP.displayName=zg;var Bg="SelectScrollDownButton",yP=g.forwardRef((t,e)=>{const n=di(Bg,t.__scopeSelect),r=hx(Bg,t.__scopeSelect),[s,i]=g.useState(!1),o=Te(e,r.onScrollButtonChange);return nt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<d;i(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(xP,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});yP.displayName=Bg;var xP=g.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=di("SelectScrollButton",n),o=g.useRef(null),l=Cf(n),c=g.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),nt(()=>{var h;const d=l().find(f=>f.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),a.jsx(se.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Z(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Z(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Z(s.onPointerLeave,()=>{c()})})}),dz="SelectSeparator",wP=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return a.jsx(se.div,{"aria-hidden":!0,...r,ref:e})});wP.displayName=dz;var Wg="SelectArrow",hz=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Nf(n),i=ui(Wg,n),o=di(Wg,n);return i.open&&o.position==="popper"?a.jsx(qI,{...s,...r,ref:e}):null});hz.displayName=Wg;var fz="SelectBubbleInput",_P=g.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=g.useRef(null),i=Te(r,s),o=G$(e);return g.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&h){const f=new Event("change",{bubbles:!0});h.call(l,e),l.dispatchEvent(f)}},[o,e]),a.jsx(se.select,{...n,style:{...$b,...n.style},ref:i,defaultValue:e})});_P.displayName=fz;function EP(t){return t===""||t===void 0}function TP(t){const e=it(t),n=g.useRef(""),r=g.useRef(0),s=g.useCallback(o=>{const l=n.current+o;e(l),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),i=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function SP(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=pz(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function pz(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var mz=X1,bP=Z1,gz=tP,vz=nP,yz=rP,IP=sP,xz=lP,CP=dP,NP=fP,wz=pP,_z=gP,AP=vP,PP=yP,RP=wP;const ka=mz,Da=gz,so=g.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(bP,{ref:r,className:ue("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,a.jsx(vz,{asChild:!0,children:a.jsx(uI,{className:"h-4 w-4 opacity-50"})})]}));so.displayName=bP.displayName;const jP=g.forwardRef(({className:t,...e},n)=>a.jsx(AP,{ref:n,className:ue("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(JD,{className:"h-4 w-4"})}));jP.displayName=AP.displayName;const kP=g.forwardRef(({className:t,...e},n)=>a.jsx(PP,{ref:n,className:ue("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(uI,{className:"h-4 w-4"})}));kP.displayName=PP.displayName;const io=g.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>a.jsx(yz,{children:a.jsxs(IP,{ref:s,className:ue("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[a.jsx(jP,{}),a.jsx(xz,{className:ue("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(kP,{})]})}));io.displayName=IP.displayName;const Ez=g.forwardRef(({className:t,...e},n)=>a.jsx(CP,{ref:n,className:ue("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Ez.displayName=CP.displayName;const Be=g.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(NP,{ref:r,className:ue("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(_z,{children:a.jsx(XD,{className:"h-4 w-4"})})}),a.jsx(wz,{children:e})]}));Be.displayName=NP.displayName;const Tz=g.forwardRef(({className:t,...e},n)=>a.jsx(RP,{ref:n,className:ue("-mx-1 my-1 h-px bg-muted",t),...e}));Tz.displayName=RP.displayName;var fx="Progress",px=100,[Sz]=Qn(fx),[bz,Iz]=Sz(fx),DP=g.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=Cz,...o}=t;(s||s===0)&&!L0(s)&&console.error(Nz(`${s}`,"Progress"));const l=L0(s)?s:px;r!==null&&!V0(r,l)&&console.error(Az(`${r}`,"Progress"));const c=V0(r,l)?r:null,d=_h(c)?i(c,l):void 0;return a.jsx(bz,{scope:n,value:c,max:l,children:a.jsx(se.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":_h(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":LP(c,l),"data-value":c??void 0,"data-max":l,...o,ref:e})})});DP.displayName=fx;var OP="ProgressIndicator",MP=g.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=Iz(OP,n);return a.jsx(se.div,{"data-state":LP(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});MP.displayName=OP;function Cz(t,e){return`${Math.round(t/e*100)}%`}function LP(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function _h(t){return typeof t=="number"}function L0(t){return _h(t)&&!isNaN(t)&&t>0}function V0(t,e){return _h(t)&&!isNaN(t)&&t<=e&&t>=0}function Nz(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${px}\`.`}function Az(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${px} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var VP=DP,Pz=MP;const Zo=g.forwardRef(({className:t,value:e,...n},r)=>a.jsx(VP,{ref:r,className:ue("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:a.jsx(Pz,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Zo.displayName=VP.displayName;function Rz(){const{user:t}=Jc();ai();const[e,n]=g.useState("content-generation"),{data:r,isLoading:s}=Gt({queryKey:["/api/ai/performance-metrics",t==null?void 0:t.uid],enabled:!!(t!=null&&t.uid),refetchInterval:3e4}),i=nn({mutationFn:async h=>{const f=await fetch("/api/ai/smart-learning",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t==null?void 0:t.uid,...h})});if(!f.ok)throw new Error("Failed to process smart learning request");return f.json()}}),o=nn({mutationFn:async h=>{const f=await fetch("/api/ai/zero-shot/content-generation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t==null?void 0:t.uid,...h})});if(!f.ok)throw new Error("Failed to generate content");return f.json()}}),l=nn({mutationFn:async h=>{const f=await fetch("/api/ai/zero-shot/sentiment-analysis",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t==null?void 0:t.uid,...h})});if(!f.ok)throw new Error("Failed to analyze sentiment");return f.json()}}),c=nn({mutationFn:async h=>{const f=await fetch("/api/ai/zero-shot/intent-classification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t==null?void 0:t.uid,...h})});if(!f.ok)throw new Error("Failed to classify intent");return f.json()}}),d=nn({mutationFn:async h=>{const f=await fetch("/api/ai/zero-shot/style-transfer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t==null?void 0:t.uid,...h})});if(!f.ok)throw new Error("Failed to transfer style");return f.json()}});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Smart Learning AI"}),a.jsx("p",{className:"text-muted-foreground",children:"Zero-shot learning with meta-loop adaptation"})]}),a.jsxs(Ht,{variant:"outline",className:"text-sm",children:[a.jsx("i",{className:"fas fa-brain mr-2"}),"Meta-Learning Active"]})]}),a.jsxs(me,{children:[a.jsx(De,{children:a.jsxs(Ue,{className:"flex items-center gap-2",children:[a.jsx("i",{className:"fas fa-chart-line text-primary"}),"Performance Metrics"]})}),a.jsx(Ie,{children:s?a.jsxs("div",{className:"animate-pulse space-y-4",children:[a.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),a.jsx("div",{className:"h-4 bg-muted rounded w-1/2"})]}):r?a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-bold text-primary",children:[Math.round(r.overallAccuracy*100),"%"]}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Overall Accuracy"}),a.jsx(Zo,{value:r.overallAccuracy*100,className:"mt-2"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-bold text-accent",children:[Math.round(r.generalizationScore*100),"%"]}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Generalization"}),a.jsx(Zo,{value:r.generalizationScore*100,className:"mt-2"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-bold text-green-500",children:[r.adaptationSpeed,"ms"]}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Adaptation Speed"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-bold text-blue-500",children:[Math.round(r.confidenceCalibration*100),"%"]}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Confidence"}),a.jsx(Zo,{value:r.confidenceCalibration*100,className:"mt-2"})]})]}):a.jsx(Bt,{children:a.jsx(Wt,{children:"No performance metrics available. Start using the AI to see metrics."})})})]}),a.jsxs(dx,{value:e,onValueChange:n,children:[a.jsxs(bf,{className:"grid w-full grid-cols-5",children:[a.jsx(Fn,{value:"content-generation",children:"Content Generation"}),a.jsx(Fn,{value:"sentiment-analysis",children:"Sentiment Analysis"}),a.jsx(Fn,{value:"intent-classification",children:"Intent Classification"}),a.jsx(Fn,{value:"style-transfer",children:"Style Transfer"}),a.jsx(Fn,{value:"meta-learning",children:"Meta Learning"})]}),a.jsx(Un,{value:"content-generation",children:a.jsx(jz,{mutation:o})}),a.jsx(Un,{value:"sentiment-analysis",children:a.jsx(kz,{mutation:l})}),a.jsx(Un,{value:"intent-classification",children:a.jsx(Dz,{mutation:c})}),a.jsx(Un,{value:"style-transfer",children:a.jsx(Oz,{mutation:d})}),a.jsx(Un,{value:"meta-learning",children:a.jsx(Mz,{mutation:i})})]})]})}function jz({mutation:t}){var c;const[e,n]=g.useState(""),[r,s]=g.useState("social_media"),[i,o]=g.useState("professional"),l=()=>{e.trim()&&t.mutate({prompt:e,topic:r,style:i})};return a.jsxs(me,{children:[a.jsx(De,{children:a.jsx(Ue,{children:"Zero-Shot Content Generation"})}),a.jsxs(Ie,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Prompt"}),a.jsx(Kn,{placeholder:"Enter your content prompt...",value:e,onChange:d=>n(d.target.value),rows:4})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Topic"}),a.jsxs(ka,{value:r,onValueChange:s,children:[a.jsx(so,{children:a.jsx(Da,{})}),a.jsxs(io,{children:[a.jsx(Be,{value:"social_media",children:"Social Media"}),a.jsx(Be,{value:"technical",children:"Technical"}),a.jsx(Be,{value:"creative",children:"Creative"}),a.jsx(Be,{value:"analytical",children:"Analytical"}),a.jsx(Be,{value:"conversational",children:"Conversational"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Style"}),a.jsxs(ka,{value:i,onValueChange:o,children:[a.jsx(so,{children:a.jsx(Da,{})}),a.jsxs(io,{children:[a.jsx(Be,{value:"professional",children:"Professional"}),a.jsx(Be,{value:"casual",children:"Casual"}),a.jsx(Be,{value:"formal",children:"Formal"}),a.jsx(Be,{value:"friendly",children:"Friendly"}),a.jsx(Be,{value:"technical",children:"Technical"})]})]})]})]}),a.jsx(J,{onClick:l,disabled:!e.trim()||t.isPending,className:"w-full",children:t.isPending?"Generating...":"Generate Content"}),t.isError&&a.jsx(Bt,{variant:"destructive",children:a.jsx(Wt,{children:(c=t.error)==null?void 0:c.message})}),t.isSuccess&&t.data&&a.jsxs("div",{className:"space-y-4",children:[a.jsx(An,{}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:"Generated Content:"}),a.jsx("div",{className:"p-4 bg-muted rounded-lg",children:t.data.output})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Confidence:"})," ",Math.round(t.data.confidence*100),"%"]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Strategy:"})," ",t.data.strategy]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Execution Time:"})," ",t.data.executionTime,"ms"]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Type:"})," ",t.data.adaptationType]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Explanation:"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t.data.explanation})]})]})]})]})}function kz({mutation:t}){var s;const[e,n]=g.useState(""),r=()=>{e.trim()&&t.mutate({text:e})};return a.jsxs(me,{children:[a.jsx(De,{children:a.jsx(Ue,{children:"Zero-Shot Sentiment Analysis"})}),a.jsxs(Ie,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Text to Analyze"}),a.jsx(Kn,{placeholder:"Enter text for sentiment analysis...",value:e,onChange:i=>n(i.target.value),rows:4})]}),a.jsx(J,{onClick:r,disabled:!e.trim()||t.isPending,className:"w-full",children:t.isPending?"Analyzing...":"Analyze Sentiment"}),t.isError&&a.jsx(Bt,{variant:"destructive",children:a.jsx(Wt,{children:(s=t.error)==null?void 0:s.message})}),t.isSuccess&&t.data&&a.jsxs("div",{className:"space-y-4",children:[a.jsx(An,{}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:"Sentiment Analysis Result:"}),a.jsxs("div",{className:"p-4 bg-muted rounded-lg text-center",children:[a.jsx("div",{className:"text-2xl font-bold",children:t.data.output>.1?" Positive":t.data.output<-.1?" Negative":" Neutral"}),a.jsxs("div",{className:"text-sm text-muted-foreground mt-2",children:["Score: ",t.data.output.toFixed(3)]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Confidence:"})," ",Math.round(t.data.confidence*100),"%"]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Strategy:"})," ",t.data.strategy]})]})]})]})]})}function Dz({mutation:t}){var s;const[e,n]=g.useState(""),r=()=>{e.trim()&&t.mutate({text:e})};return a.jsxs(me,{children:[a.jsx(De,{children:a.jsx(Ue,{children:"Zero-Shot Intent Classification"})}),a.jsxs(Ie,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Text to Classify"}),a.jsx(Kn,{placeholder:"Enter text for intent classification...",value:e,onChange:i=>n(i.target.value),rows:4})]}),a.jsx(J,{onClick:r,disabled:!e.trim()||t.isPending,className:"w-full",children:t.isPending?"Classifying...":"Classify Intent"}),t.isError&&a.jsx(Bt,{variant:"destructive",children:a.jsx(Wt,{children:(s=t.error)==null?void 0:s.message})}),t.isSuccess&&t.data&&a.jsxs("div",{className:"space-y-4",children:[a.jsx(An,{}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:"Intent Classification Result:"}),a.jsx("div",{className:"p-4 bg-muted rounded-lg text-center",children:a.jsx(Ht,{variant:"outline",className:"text-lg",children:t.data.output})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Confidence:"})," ",Math.round(t.data.confidence*100),"%"]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Strategy:"})," ",t.data.strategy]})]})]})]})]})}function Oz({mutation:t}){var o;const[e,n]=g.useState(""),[r,s]=g.useState("professional"),i=()=>{e.trim()&&t.mutate({text:e,targetStyle:r})};return a.jsxs(me,{children:[a.jsx(De,{children:a.jsx(Ue,{children:"Zero-Shot Style Transfer"})}),a.jsxs(Ie,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Original Text"}),a.jsx(Kn,{placeholder:"Enter text to transfer style...",value:e,onChange:l=>n(l.target.value),rows:4})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Target Style"}),a.jsxs(ka,{value:r,onValueChange:s,children:[a.jsx(so,{children:a.jsx(Da,{})}),a.jsxs(io,{children:[a.jsx(Be,{value:"professional",children:"Professional"}),a.jsx(Be,{value:"casual",children:"Casual"}),a.jsx(Be,{value:"formal",children:"Formal"}),a.jsx(Be,{value:"friendly",children:"Friendly"}),a.jsx(Be,{value:"technical",children:"Technical"})]})]})]}),a.jsx(J,{onClick:i,disabled:!e.trim()||t.isPending,className:"w-full",children:t.isPending?"Transferring...":"Transfer Style"}),t.isError&&a.jsx(Bt,{variant:"destructive",children:a.jsx(Wt,{children:(o=t.error)==null?void 0:o.message})}),t.isSuccess&&t.data&&a.jsxs("div",{className:"space-y-4",children:[a.jsx(An,{}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:"Style Transfer Result:"}),a.jsx("div",{className:"p-4 bg-muted rounded-lg",children:t.data.output})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Confidence:"})," ",Math.round(t.data.confidence*100),"%"]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Strategy:"})," ",t.data.strategy]})]})]})]})]})}function Mz({mutation:t}){var c;const[e,n]=g.useState("content_generation"),[r,s]=g.useState(""),[i,o]=g.useState(""),l=()=>{if(!r.trim())return;let d={};try{d=i?JSON.parse(i):{}}catch{console.error("Invalid metadata JSON")}t.mutate({taskType:e,inputData:r,metadata:d})};return a.jsxs(me,{children:[a.jsx(De,{children:a.jsx(Ue,{children:"Meta Learning System"})}),a.jsxs(Ie,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Task Type"}),a.jsxs(ka,{value:e,onValueChange:n,children:[a.jsx(so,{children:a.jsx(Da,{})}),a.jsxs(io,{children:[a.jsx(Be,{value:"content_generation",children:"Content Generation"}),a.jsx(Be,{value:"sentiment_analysis",children:"Sentiment Analysis"}),a.jsx(Be,{value:"intent_classification",children:"Intent Classification"}),a.jsx(Be,{value:"style_transfer",children:"Style Transfer"}),a.jsx(Be,{value:"custom",children:"Custom Task"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Input Data"}),a.jsx(Kn,{placeholder:"Enter input data for meta learning...",value:r,onChange:d=>s(d.target.value),rows:4})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Metadata (JSON)"}),a.jsx(Kn,{placeholder:'{"key": "value"}',value:i,onChange:d=>o(d.target.value),rows:2})]}),a.jsx(J,{onClick:l,disabled:!r.trim()||t.isPending,className:"w-full",children:t.isPending?"Meta Learning...":"Execute Meta Learning"}),t.isError&&a.jsx(Bt,{variant:"destructive",children:a.jsx(Wt,{children:(c=t.error)==null?void 0:c.message})}),t.isSuccess&&t.data&&a.jsxs("div",{className:"space-y-4",children:[a.jsx(An,{}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:"Meta Learning Result:"}),a.jsx("div",{className:"p-4 bg-muted rounded-lg",children:a.jsx("pre",{className:"whitespace-pre-wrap",children:JSON.stringify(t.data.output,null,2)})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Confidence:"})," ",Math.round(t.data.confidence*100),"%"]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Strategy:"})," ",t.data.strategy]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Execution Time:"})," ",t.data.executionTime,"ms"]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Type:"})," ",t.data.adaptationType]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Explanation:"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t.data.explanation})]})]})]})]})}function Lz(){return a.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[a.jsx(ho,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(fo,{title:"Smart Learning AI",subtitle:"Zero-shot learning with meta-loop adaptation",actions:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Meta-Learning:"}),a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),a.jsx("span",{className:"text-sm text-green-500",children:"Active"})]})}),a.jsx("main",{className:"flex-1 overflow-auto",children:a.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:a.jsx(Rz,{})})})]})]})}function Vz(){var x,b,j,k,M;const{user:t}=Jc();ai();const[e,n]=g.useState(null),[r,s]=g.useState({}),[i,o]=g.useState("tools"),{data:l,isLoading:c}=Gt({queryKey:["/api/ai-tools"],refetchInterval:3e4}),{data:d}=Gt({queryKey:["/api/ai-tools/categories"],refetchInterval:3e4}),{data:h}=Gt({queryKey:["/api/ai-tools/analytics"],refetchInterval:3e4}),f=nn({mutationFn:async({toolId:_,params:T})=>{const C=await fetch(`/api/ai-tools/${_}/execute`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({params:T,context:{userId:t==null?void 0:t.uid,sessionId:`session_${Date.now()}`,metadata:{source:"ui"}}})});if(!C.ok)throw new Error("Failed to execute tool");return C.json()}}),p=nn({mutationFn:async({query:_,category:T})=>{const C=await fetch("/api/ai-tools/discover",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:_,category:T})});if(!C.ok)throw new Error("Failed to discover tools");return C.json()}}),v=_=>{n(_),s({})},I=(_,T)=>{s(C=>({...C,[_]:T}))},w=()=>{e&&f.mutate({toolId:e.id,params:r})},S=_=>({content:"fas fa-edit",analysis:"fas fa-chart-line",data_extraction:"fas fa-download",media:"fas fa-image",integration:"fas fa-plug",automation:"fas fa-cogs",monitoring:"fas fa-eye",nlp:"fas fa-language"})[_]||"fas fa-tool",E=_=>({content:"bg-blue-500",analysis:"bg-green-500",data_extraction:"bg-purple-500",media:"bg-pink-500",integration:"bg-orange-500",automation:"bg-red-500",monitoring:"bg-yellow-500",nlp:"bg-indigo-500"})[_]||"bg-gray-500";return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Advanced AI Tools"}),a.jsx("p",{className:"text-muted-foreground",children:"Powerful AI tools with MCP integration"})]}),a.jsxs(Ht,{variant:"outline",className:"text-sm",children:[a.jsx("i",{className:"fas fa-brain mr-2"}),"MCP Enabled"]})]}),h&&a.jsxs(me,{children:[a.jsx(De,{children:a.jsxs(Ue,{className:"flex items-center gap-2",children:[a.jsx("i",{className:"fas fa-chart-bar text-primary"}),"Tools Analytics"]})}),a.jsx(Ie,{children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-primary",children:h.totalTools||0}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Tools"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-accent",children:((x=h.categories)==null?void 0:x.length)||0}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Categories"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-green-500",children:h.totalExecutions||0}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Executions"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-bold text-blue-500",children:[Math.round(((b=h.toolStats)==null?void 0:b.reduce((_,T)=>_+T.usage.successRate,0))/(((j=h.toolStats)==null?void 0:j.length)||1)*100),"%"]}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Success Rate"})]})]})})]}),a.jsxs(dx,{value:i,onValueChange:o,children:[a.jsxs(bf,{className:"grid w-full grid-cols-3",children:[a.jsx(Fn,{value:"tools",children:"AI Tools"}),a.jsx(Fn,{value:"discover",children:"Discover"}),a.jsx(Fn,{value:"analytics",children:"Analytics"})]}),a.jsx(Un,{value:"tools",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(me,{children:[a.jsx(De,{children:a.jsx(Ue,{children:"Available Tools"})}),a.jsx(Ie,{className:"space-y-4",children:c?a.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(5)].map((_,T)=>a.jsx("div",{className:"h-16 bg-muted rounded"},T))}):l?l.map(_=>a.jsx("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors ${(e==null?void 0:e.id)===_.id?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,onClick:()=>v(_),children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg ${E(_.category)} flex items-center justify-center`,children:a.jsx("i",{className:`${S(_.category)} text-white`})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h3",{className:"font-semibold text-sm",children:_.name}),a.jsxs(Ht,{variant:"secondary",className:"text-xs",children:["v",_.version]}),_.isActive?a.jsx(Ht,{variant:"default",className:"text-xs",children:"Active"}):a.jsx(Ht,{variant:"outline",className:"text-xs",children:"Inactive"})]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:_.description}),a.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[a.jsxs("span",{children:[_.usage.totalCalls," calls"]}),a.jsxs("span",{children:[Math.round(_.usage.successRate*100),"% success"]}),a.jsxs("span",{children:[_.usage.averageExecutionTime,"ms avg"]})]})]})]})},_.id)):a.jsx(Bt,{children:a.jsx(Wt,{children:"No AI tools available"})})})]}),a.jsxs(me,{children:[a.jsx(De,{children:a.jsx(Ue,{children:e?`Execute: ${e.name}`:"Select a Tool"})}),a.jsx(Ie,{className:"space-y-4",children:e?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"space-y-4",children:e.parameters.map(_=>{var T;return a.jsxs("div",{children:[a.jsxs(Lo,{htmlFor:_.name,className:"text-sm font-medium",children:[_.name,_.required&&a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),a.jsx("div",{className:"mt-1",children:_.type==="string"&&_.name.includes("text")?a.jsx(Kn,{id:_.name,placeholder:_.description,value:r[_.name]||"",onChange:C=>I(_.name,C.target.value),rows:3}):_.type==="boolean"?a.jsxs(ka,{value:((T=r[_.name])==null?void 0:T.toString())||"",onValueChange:C=>I(_.name,C==="true"),children:[a.jsx(so,{children:a.jsx(Da,{placeholder:_.description})}),a.jsxs(io,{children:[a.jsx(Be,{value:"true",children:"True"}),a.jsx(Be,{value:"false",children:"False"})]})]}):a.jsx(ri,{id:_.name,type:_.type==="number"?"number":"text",placeholder:_.description,value:r[_.name]||"",onChange:C=>I(_.name,_.type==="number"?Number(C.target.value):C.target.value)})}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:_.description})]},_.name)})}),a.jsx(J,{onClick:w,disabled:f.isPending,className:"w-full",children:f.isPending?"Executing...":"Execute Tool"}),f.isError&&a.jsx(Bt,{variant:"destructive",children:a.jsx(Wt,{children:(k=f.error)==null?void 0:k.message})}),f.isSuccess&&f.data&&a.jsxs("div",{className:"space-y-4",children:[a.jsx(An,{}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:"Execution Result:"}),a.jsx("div",{className:"p-4 bg-muted rounded-lg",children:a.jsx("pre",{className:"whitespace-pre-wrap text-sm",children:JSON.stringify(f.data.data,null,2)})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Success:"})," ",f.data.success?"Yes":"No"]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Execution Time:"})," ",f.data.executionTime,"ms"]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Confidence:"})," ",Math.round(f.data.confidence*100),"%"]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Tool Used:"})," ",f.data.toolUsed]})]}),f.data.suggestions&&f.data.suggestions.length>0&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Suggestions:"}),a.jsx("ul",{className:"text-sm text-muted-foreground mt-1",children:f.data.suggestions.map((_,T)=>a.jsxs("li",{children:[" ",_]},T))})]})]})]}):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx("i",{className:"fas fa-tools text-4xl mb-4"}),a.jsx("p",{children:"Select a tool from the list to execute it"})]})})]})]})}),a.jsx(Un,{value:"discover",children:a.jsxs(me,{children:[a.jsx(De,{children:a.jsx(Ue,{children:"Discover AI Tools"})}),a.jsxs(Ie,{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsx(ri,{placeholder:"Search for tools...",value:((M=p.variables)==null?void 0:M.query)||"",onChange:_=>{}}),a.jsxs(ka,{children:[a.jsx(so,{className:"w-48",children:a.jsx(Da,{placeholder:"Category"})}),a.jsx(io,{children:d==null?void 0:d.map(_=>a.jsx(Be,{value:_,children:_},_))})]}),a.jsx(J,{onClick:()=>{p.mutate({query:"content generation",category:"content"})},children:"Search"})]}),p.isSuccess&&p.data&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-medium",children:"Search Results:"}),p.data.map(_=>a.jsx("div",{className:"p-4 border rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`w-8 h-8 rounded ${E(_.category)} flex items-center justify-center`,children:a.jsx("i",{className:`${S(_.category)} text-white text-sm`})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h5",{className:"font-semibold",children:_.name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:_.description}),a.jsx("div",{className:"flex gap-2 mt-2",children:_.capabilities.map(T=>a.jsx(Ht,{variant:"outline",className:"text-xs",children:T},T))})]})]})},_.id))]})]})]})}),a.jsx(Un,{value:"analytics",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(me,{children:[a.jsx(De,{children:a.jsx(Ue,{children:"Tool Performance"})}),a.jsx(Ie,{children:h!=null&&h.toolStats?a.jsx("div",{className:"space-y-4",children:h.toolStats.map(_=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:_.name}),a.jsxs("span",{children:[Math.round(_.usage.successRate*100),"%"]})]}),a.jsx(Zo,{value:_.usage.successRate*100})]},_.id))}):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx("i",{className:"fas fa-chart-line text-4xl mb-4"}),a.jsx("p",{children:"No analytics data available"})]})})]}),a.jsxs(me,{children:[a.jsx(De,{children:a.jsx(Ue,{children:"Category Distribution"})}),a.jsx(Ie,{children:d?a.jsx("div",{className:"space-y-4",children:d.map(_=>{const T=(l==null?void 0:l.filter(A=>A.category===_))||[],C=l?T.length/l.length*100:0;return a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"capitalize",children:_}),a.jsxs("span",{children:[T.length," tools"]})]}),a.jsx(Zo,{value:C})]},_)})}):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx("i",{className:"fas fa-chart-pie text-4xl mb-4"}),a.jsx("p",{children:"No category data available"})]})})]})]})})]})]})}function Fz(){return a.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[a.jsx(ho,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(fo,{title:"Advanced AI Tools",subtitle:"Powerful AI tools with MCP integration",actions:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"MCP:"}),a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),a.jsx("span",{className:"text-sm text-green-500",children:"Connected"})]})}),a.jsx("main",{className:"flex-1 overflow-auto",children:a.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:a.jsx(Vz,{})})})]})]})}function Uz(){return a.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:a.jsx(me,{className:"w-full max-w-md mx-4",children:a.jsxs(Ie,{className:"pt-6",children:[a.jsxs("div",{className:"flex mb-4 gap-2",children:[a.jsx(ZD,{className:"h-8 w-8 text-red-500"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),a.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const $z=()=>{const[t,e]=g.useState([]),[n,r]=g.useState(!1);g.useEffect(()=>{let i;return n&&(i=new EventSource("/api/events"),i.onmessage=o=>{e(l=>[JSON.parse(o.data),...l])}),()=>{i&&i.close()}},[n]);const s=()=>{r(i=>!i)};return a.jsxs("div",{className:"p-4",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Debug View"}),a.jsx("button",{className:"btn btn-primary mb-4",onClick:s,children:n?"Stop Streaming":"Start Streaming"}),a.jsxs("div",{className:"border rounded-lg p-4 bg-gray-100",children:[a.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Event Stream"}),a.jsx("div",{className:"max-h-96 overflow-y-auto",children:t.map((i,o)=>a.jsx("pre",{className:"bg-white p-2 rounded-md mb-2",children:JSON.stringify(i,null,2)},o))})]})]})},zz=()=>{const t=[{name:"Workflow Automator",icon:"fas fa-cogs",description:"Create and manage automated workflows."},{name:"API Integrator",icon:"fas fa-plug",description:"Connect to and integrate with various APIs."},{name:"Real-time Monitor",icon:"fas fa-chart-line",description:"Monitor real-time data streams and events."},{name:"Content Generator",icon:"fas fa-file-alt",description:"Generate high-quality content for your social media."}],e=[{name:"Workflow Automation Master",description:"Specializes in creating and managing automated workflows"},{name:"Project Coordinator",description:"Coordinates multiple agents and manages complex projects"},{name:"Self-Improving AI",description:"Continuously learns and improves from interactions"}];return a.jsx("div",{className:"p-4 sm:p-6 md:p-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight text-foreground sm:text-4xl",children:"AI Workspace"}),a.jsx("p",{className:"mt-2 text-lg text-muted-foreground",children:"Your central hub for leveraging powerful AI tools and agents. Here you can manage workflows, interact with MCP tools, and deploy intelligent agents to automate your tasks."})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"glass-card p-6 backdrop-blur-xl",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"MCP Tools"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:t.map((n,r)=>a.jsxs("div",{className:"border border-border/50 rounded-lg p-4 flex items-start gap-4 hover:bg-primary/10 transition-colors",children:[a.jsx("div",{className:"w-10 h-10 bg-primary/20 rounded-lg flex items-center justify-center",children:a.jsx("i",{className:`${n.icon} text-primary text-xl`})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:n.name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:n.description})]})]},r))})]})}),a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"glass-card p-6 backdrop-blur-xl",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Improvement Agents"}),a.jsx("div",{className:"space-y-4",children:e.map((n,r)=>a.jsxs("div",{className:"border border-border/50 rounded-lg p-4 hover:bg-primary/10 transition-colors",children:[a.jsx("h3",{className:"font-semibold",children:n.name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:n.description}),a.jsx(J,{variant:"link",size:"sm",className:"p-0 h-auto mt-2",children:"Interact"})]},r))})]})})]}),a.jsxs("div",{className:"mt-8 glass-card p-6 backdrop-blur-xl",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Next Steps"}),a.jsx("div",{className:"prose prose-invert max-w-none",children:a.jsxs("ul",{children:[a.jsx("li",{children:a.jsx("a",{href:"#",children:"Customize your Firebase Studio workspace"})}),a.jsx("li",{children:a.jsx("a",{href:"#",children:"Develop, publish, and monitor a full-stack web app with the App Prototyping agent"})})]})})]})]})})};function Bz(){return a.jsx(B5,{children:a.jsxs(p2,{children:[a.jsx(tr,{path:"/",component:f9}),a.jsx(tr,{path:"/social-feed",component:b$}),a.jsx(tr,{path:"/workflows",component:N$}),a.jsx(tr,{path:"/ai-agents",component:W$}),a.jsx(tr,{path:"/telegram",component:q$}),a.jsx(tr,{path:"/smart-learning",component:Lz}),a.jsx(tr,{path:"/advanced-ai-tools",component:Fz}),a.jsx(tr,{path:"/debug",component:$z}),a.jsx(tr,{path:"/workspace",component:zz}),a.jsx(tr,{component:Uz})]})})}function Wz(){return a.jsx(R5,{children:a.jsx(V2,{client:X2,children:a.jsx(TL,{children:a.jsxs(tC,{children:[a.jsx(OO,{}),a.jsx(Bz,{})]})})})})}cb(document.getElementById("root")).render(a.jsx(Wz,{}));
