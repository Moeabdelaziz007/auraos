var me=t=>{throw TypeError(t)};var X=(t,e,s)=>e.has(t)||me("Cannot "+s);var a=(t,e,s)=>(X(t,e,"read from private field"),s?s.call(t):e.get(t)),g=(t,e,s)=>e.has(t)?me("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),d=(t,e,s,r)=>(X(t,e,"write to private field"),r?r.call(t,s):e.set(t,s),s),m=(t,e,s)=>(X(t,e,"access private method"),s);import{T as Ce,a0 as pe,a1 as S,U as Y,a2 as H,_ as ee,a3 as te,a4 as ge,a5 as Ee,a6 as Z,a7 as Ie,a8 as Oe,a9 as be,Z as Se,r as C,$ as Te,b as Me,aa as Ue,l as Qe,j as i,ab as _e,x as Fe,S as De,B as we}from"./index-x6ttPYJB.js";import{A as Pe,a as ke,b as Le}from"./avatar-DDb5HwhO.js";var v,n,z,b,O,Q,j,E,W,_,F,T,M,I,D,l,B,se,ae,re,ie,ne,oe,le,Ne,Re,Ae=(Re=class extends Ce{constructor(e,s){super();g(this,l);g(this,v);g(this,n);g(this,z);g(this,b);g(this,O);g(this,Q);g(this,j);g(this,E);g(this,W);g(this,_);g(this,F);g(this,T);g(this,M);g(this,I);g(this,D,new Set);this.options=s,d(this,v,e),d(this,E,null),d(this,j,pe()),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(a(this,n).addObserver(this),xe(a(this,n),this.options)?m(this,l,B).call(this):this.updateResult(),m(this,l,ie).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ce(a(this,n),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ce(a(this,n),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,m(this,l,ne).call(this),m(this,l,oe).call(this),a(this,n).removeObserver(this)}setOptions(e){const s=this.options,r=a(this,n);if(this.options=a(this,v).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof S(this.options.enabled,a(this,n))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");m(this,l,le).call(this),a(this,n).setOptions(this.options),s._defaulted&&!Y(this.options,s)&&a(this,v).getQueryCache().notify({type:"observerOptionsUpdated",query:a(this,n),observer:this});const o=this.hasListeners();o&&ve(a(this,n),r,this.options,s)&&m(this,l,B).call(this),this.updateResult(),o&&(a(this,n)!==r||S(this.options.enabled,a(this,n))!==S(s.enabled,a(this,n))||H(this.options.staleTime,a(this,n))!==H(s.staleTime,a(this,n)))&&m(this,l,se).call(this);const c=m(this,l,ae).call(this);o&&(a(this,n)!==r||S(this.options.enabled,a(this,n))!==S(s.enabled,a(this,n))||c!==a(this,I))&&m(this,l,re).call(this,c)}getOptimisticResult(e){const s=a(this,v).getQueryCache().build(a(this,v),e),r=this.createResult(s,e);return He(this,r)&&(d(this,b,r),d(this,Q,this.options),d(this,O,a(this,n).state)),r}getCurrentResult(){return a(this,b)}trackResult(e,s){return new Proxy(e,{get:(r,o)=>(this.trackProp(o),s==null||s(o),o==="promise"&&!this.options.experimental_prefetchInRender&&a(this,j).status==="pending"&&a(this,j).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,o))})}trackProp(e){a(this,D).add(e)}getCurrentQuery(){return a(this,n)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=a(this,v).defaultQueryOptions(e),r=a(this,v).getQueryCache().build(a(this,v),s);return r.fetch().then(()=>this.createResult(r,s))}fetch(e){return m(this,l,B).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),a(this,b)))}createResult(e,s){var fe;const r=a(this,n),o=this.options,c=a(this,b),h=a(this,O),w=a(this,Q),x=e!==r?e.state:a(this,z),{state:P}=e;let f={...P},k=!1,p;if(s._optimisticResults){const R=this.hasListeners(),$=!R&&xe(e,s),U=R&&ve(e,r,s,o);($||U)&&(f={...f,...Oe(P.data,e.options)}),s._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:L,errorUpdatedAt:A,status:y}=f;p=f.data;let V=!1;if(s.placeholderData!==void 0&&p===void 0&&y==="pending"){let R;c!=null&&c.isPlaceholderData&&s.placeholderData===(w==null?void 0:w.placeholderData)?(R=c.data,V=!0):R=typeof s.placeholderData=="function"?s.placeholderData((fe=a(this,F))==null?void 0:fe.state.data,a(this,F)):s.placeholderData,R!==void 0&&(y="success",p=be(c==null?void 0:c.data,R,s),k=!0)}if(s.select&&p!==void 0&&!V)if(c&&p===(h==null?void 0:h.data)&&s.select===a(this,W))p=a(this,_);else try{d(this,W,s.select),p=s.select(p),p=be(c==null?void 0:c.data,p,s),d(this,_,p),d(this,E,null)}catch(R){d(this,E,R)}a(this,E)&&(L=a(this,E),p=a(this,_),A=Date.now(),y="error");const q=f.fetchStatus==="fetching",G=y==="pending",J=y==="error",ue=G&&q,de=p!==void 0,N={status:y,fetchStatus:f.fetchStatus,isPending:G,isSuccess:y==="success",isError:J,isInitialLoading:ue,isLoading:ue,data:p,dataUpdatedAt:f.dataUpdatedAt,error:L,errorUpdatedAt:A,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>x.dataUpdateCount||f.errorUpdateCount>x.errorUpdateCount,isFetching:q,isRefetching:q&&!G,isLoadingError:J&&!de,isPaused:f.fetchStatus==="paused",isPlaceholderData:k,isRefetchError:J&&de,isStale:he(e,s),refetch:this.refetch,promise:a(this,j),isEnabled:S(s.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const R=K=>{N.status==="error"?K.reject(N.error):N.data!==void 0&&K.resolve(N.data)},$=()=>{const K=d(this,j,N.promise=pe());R(K)},U=a(this,j);switch(U.status){case"pending":e.queryHash===r.queryHash&&R(U);break;case"fulfilled":(N.status==="error"||N.data!==U.value)&&$();break;case"rejected":(N.status!=="error"||N.error!==U.reason)&&$();break}}return N}updateResult(){const e=a(this,b),s=this.createResult(a(this,n),this.options);if(d(this,O,a(this,n).state),d(this,Q,this.options),a(this,O).data!==void 0&&d(this,F,a(this,n)),Y(s,e))return;d(this,b,s);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:o}=this.options,c=typeof o=="function"?o():o;if(c==="all"||!c&&!a(this,D).size)return!0;const h=new Set(c??a(this,D));return this.options.throwOnError&&h.add("error"),Object.keys(a(this,b)).some(w=>{const u=w;return a(this,b)[u]!==e[u]&&h.has(u)})};m(this,l,Ne).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&m(this,l,ie).call(this)}},v=new WeakMap,n=new WeakMap,z=new WeakMap,b=new WeakMap,O=new WeakMap,Q=new WeakMap,j=new WeakMap,E=new WeakMap,W=new WeakMap,_=new WeakMap,F=new WeakMap,T=new WeakMap,M=new WeakMap,I=new WeakMap,D=new WeakMap,l=new WeakSet,B=function(e){m(this,l,le).call(this);let s=a(this,n).fetch(this.options,e);return e!=null&&e.throwOnError||(s=s.catch(ee)),s},se=function(){m(this,l,ne).call(this);const e=H(this.options.staleTime,a(this,n));if(te||a(this,b).isStale||!ge(e))return;const r=Ee(a(this,b).dataUpdatedAt,e)+1;d(this,T,Z.setTimeout(()=>{a(this,b).isStale||this.updateResult()},r))},ae=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(a(this,n)):this.options.refetchInterval)??!1},re=function(e){m(this,l,oe).call(this),d(this,I,e),!(te||S(this.options.enabled,a(this,n))===!1||!ge(a(this,I))||a(this,I)===0)&&d(this,M,Z.setInterval(()=>{(this.options.refetchIntervalInBackground||Ie.isFocused())&&m(this,l,B).call(this)},a(this,I)))},ie=function(){m(this,l,se).call(this),m(this,l,re).call(this,m(this,l,ae).call(this))},ne=function(){a(this,T)&&(Z.clearTimeout(a(this,T)),d(this,T,void 0))},oe=function(){a(this,M)&&(Z.clearInterval(a(this,M)),d(this,M,void 0))},le=function(){const e=a(this,v).getQueryCache().build(a(this,v),this.options);if(e===a(this,n))return;const s=a(this,n);d(this,n,e),d(this,z,e.state),this.hasListeners()&&(s==null||s.removeObserver(this),e.addObserver(this))},Ne=function(e){Se.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(a(this,b))}),a(this,v).getQueryCache().notify({query:a(this,n),type:"observerResultsUpdated"})})},Re);function Be(t,e){return S(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function xe(t,e){return Be(t,e)||t.state.data!==void 0&&ce(t,e,e.refetchOnMount)}function ce(t,e,s){if(S(e.enabled,t)!==!1&&H(e.staleTime,t)!=="static"){const r=typeof s=="function"?s(t):s;return r==="always"||r!==!1&&he(t,e)}return!1}function ve(t,e,s,r){return(t!==e||S(r.enabled,t)===!1)&&(!s.suspense||t.state.status!=="error")&&he(t,s)}function he(t,e){return S(e.enabled,t)!==!1&&t.isStaleByTime(H(e.staleTime,t))}function He(t,e){return!Y(t.getCurrentResult(),e)}var je=C.createContext(!1),ze=()=>C.useContext(je);je.Provider;function We(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Ve=C.createContext(We()),$e=()=>C.useContext(Ve),Ke=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Ze=t=>{C.useEffect(()=>{t.clearReset()},[t])},qe=({result:t,errorResetBoundary:e,throwOnError:s,query:r,suspense:o})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(o&&t.data===void 0||Te(s,[t.error,r])),Ge=t=>{if(t.suspense){const s=o=>o==="static"?o:Math.max(o??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...o)=>s(r(...o)):s(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Je=(t,e)=>t.isLoading&&t.isFetching&&!e,Xe=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,ye=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function Ye(t,e,s){var f,k,p,L,A;const r=ze(),o=$e(),c=Me(),h=c.defaultQueryOptions(t);(k=(f=c.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||k.call(f,h),h._optimisticResults=r?"isRestoring":"optimistic",Ge(h),Ke(h,o),Ze(o);const w=!c.getQueryCache().get(h.queryHash),[u]=C.useState(()=>new e(c,h)),x=u.getOptimisticResult(h),P=!r&&t.subscribed!==!1;if(C.useSyncExternalStore(C.useCallback(y=>{const V=P?u.subscribe(Se.batchCalls(y)):ee;return u.updateResult(),V},[u,P]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),C.useEffect(()=>{u.setOptions(h)},[h,u]),Xe(h,x))throw ye(h,u,o);if(qe({result:x,errorResetBoundary:o,throwOnError:h.throwOnError,query:c.getQueryCache().get(h.queryHash),suspense:h.suspense}))throw x.error;if((L=(p=c.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||L.call(p,h,x),h.experimental_prefetchInRender&&!te&&Je(x,r)){const y=w?ye(h,u,o):(A=c.getQueryCache().get(h.queryHash))==null?void 0:A.promise;y==null||y.catch(ee).finally(()=>{u.updateResult()})}return h.notifyOnChangeProps?x:u.trackResult(x)}function et(t,e){return Ye(t,Ae)}const tt=[{name:"Dashboard",href:"/",icon:"fas fa-home"},{name:"Social Feed",href:"/social-feed",icon:"fas fa-users",hasNotification:!0},{name:"Workflows",href:"/workflows",icon:"fas fa-project-diagram"},{name:"AI Agents",href:"/ai-agents",icon:"fas fa-robot"},{name:"MCP Tools",href:"/mcp-tools",icon:"fas fa-puzzle-piece",hasNotification:!0},{name:"Prompt Library",href:"/prompt-library",icon:"fas fa-book",hasNotification:!0},{name:"Learning",href:"/learning",icon:"fas fa-graduation-cap",hasNotification:!0},{name:"Smart Learning",href:"/smart-learning",icon:"fas fa-brain"},{name:"AI Tools",href:"/advanced-ai-tools",icon:"fas fa-tools"},{name:"Telegram",href:"/telegram",icon:"fab fa-telegram"},{name:"Analytics",href:"/analytics",icon:"fas fa-chart-bar"},{name:"Settings",href:"/settings",icon:"fas fa-cog"},{name:"Debug",href:"/debug",icon:"fas fa-bug"},{name:"Workspace",href:"/workspace",icon:"fas fa-star"}];function nt(){var c,h,w;const[t]=Ue(),{user:e,signOut:s}=Qe(),{data:r}=et({queryKey:["userData",e==null?void 0:e.uid],queryFn:()=>e!=null&&e.uid?Promise.resolve({displayName:e.displayName,email:e.email}):null,enabled:!!(e!=null&&e.uid)}),o=async()=>{try{await s()}catch(u){console.error("Sign out error:",u)}};return i.jsxs("div",{className:"sidebar w-64 glass-card border-r border-border/50 flex flex-col backdrop-blur-xl cyber-scrollbar",children:[i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 gradient-cyber-primary rounded-xl flex items-center justify-center neon-glow-lg animate-neon-pulse",children:i.jsx("i",{className:"fas fa-robot text-white text-lg"})}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"font-bold text-xl neon-text animate-neon-flicker",children:"AuraOS"}),i.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:"v2.0"})]})]})}),i.jsx("nav",{className:"flex-1 px-4 pb-4",children:i.jsx("ul",{className:"space-y-2",children:tt.map(u=>{const x=t===u.href;return i.jsx("li",{children:i.jsx(_e,{href:u.href,children:i.jsxs("a",{className:Fe("flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-300 group relative overflow-hidden",x?"gradient-cyber-primary text-white neon-glow-lg animate-neon-pulse":"text-muted-foreground hover:text-foreground hover:bg-primary/10 hover:neon-glow-sm hover:border-primary/30 border border-transparent"),"data-testid":`nav-${u.name.toLowerCase().replace(" ","-")}`,children:[i.jsx("i",{className:`${u.icon} w-5 transition-transform duration-300 group-hover:scale-110`}),i.jsx("span",{className:"font-medium",children:u.name}),u.hasNotification&&i.jsx("div",{className:"ml-auto w-2 h-2 bg-accent rounded-full animate-neon-pulse neon-glow-sm"}),x&&i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent animate-cyber-scan"})]})})},u.name)})})}),i.jsx(De,{className:"bg-border/30"}),i.jsx("div",{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl hover:bg-primary/10 transition-all duration-300 group",children:[i.jsxs(Pe,{className:"w-10 h-10 border border-primary/30 neon-glow-sm group-hover:neon-glow-md transition-all duration-300",children:[i.jsx(ke,{src:(e==null?void 0:e.photoURL)||void 0,alt:(e==null?void 0:e.displayName)||"User"}),i.jsx(Le,{className:"bg-gradient-to-r from-primary/20 to-accent/20 text-primary font-bold",children:((c=e==null?void 0:e.displayName)==null?void 0:c.split(" ").map(u=>u[0]).join(""))||((w=(h=e==null?void 0:e.email)==null?void 0:h[0])==null?void 0:w.toUpperCase())||"U"})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-foreground truncate neon-text","data-testid":"text-user-name",children:(e==null?void 0:e.displayName)||(e==null?void 0:e.email)||"User"}),i.jsx("p",{className:"text-xs text-muted-foreground truncate","data-testid":"text-user-email",children:(e==null?void 0:e.email)||"user@example.com"})]}),i.jsx(we,{variant:"ghost",size:"sm",onClick:o,"data-testid":"button-sign-out",title:"Sign Out",className:"hover:bg-primary/20 hover:text-primary transition-all duration-300 neon-glow-sm hover:neon-glow-md",children:i.jsx("i",{className:"fas fa-sign-out-alt"})})]})})]})}function ot({title:t,subtitle:e,actions:s}){return i.jsx("header",{className:"glass-card border-b border-border/50 px-6 py-4 backdrop-blur-xl",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold neon-text animate-neon-flicker","data-testid":"text-page-title",children:t}),e&&i.jsx("p",{className:"text-sm text-muted-foreground mt-1","data-testid":"text-page-subtitle",children:e})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(we,{variant:"ghost",size:"sm",className:"relative neon-glow-sm hover:neon-glow-md transition-all duration-300","data-testid":"button-notifications",children:[i.jsx("i",{className:"fas fa-bell text-lg"}),i.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-accent rounded-full animate-neon-pulse neon-glow-sm"})]}),s]})]})})}export{ot as H,nt as S,et as u};
