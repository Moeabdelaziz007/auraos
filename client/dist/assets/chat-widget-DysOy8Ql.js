import{r as a,p as L,j as r,n as he,P as W,s as B,q as N,z as R,A as me,x as A,E as J,B as H,C as pe,h as be,a as ge,d as xe}from"./index-x6ttPYJB.js";import{u as ve}from"./header-DL3LS-5i.js";import{u as Se}from"./useMutation-8-LeqHSO.js";import{I as we}from"./input-DGZY7dyY.js";import{B as ye}from"./badge-DW8Jq-G-.js";import{u as Ce}from"./index-6cItzXPM.js";import{c as Pe}from"./index-BdQq_4o_.js";import{A as z,a as Ee,b as M}from"./avatar-DDb5HwhO.js";function je(e,n){return a.useReducer((t,s)=>n[t][s]??t,e)}var V="ScrollArea",[Q]=he(V),[Re,y]=Q(V),Z=a.forwardRef((e,n)=>{const{__scopeScrollArea:t,type:s="hover",dir:o,scrollHideDelay:l=600,...c}=e,[i,d]=a.useState(null),[m,u]=a.useState(null),[f,p]=a.useState(null),[b,x]=a.useState(null),[h,g]=a.useState(null),[S,E]=a.useState(0),[w,C]=a.useState(0),[k,_]=a.useState(!1),[I,O]=a.useState(!1),v=L(n,T=>d(T)),P=Ce(o);return r.jsx(Re,{scope:t,type:s,dir:P,scrollHideDelay:l,scrollArea:i,viewport:m,onViewportChange:u,content:f,onContentChange:p,scrollbarX:b,onScrollbarXChange:x,scrollbarXEnabled:k,onScrollbarXEnabledChange:_,scrollbarY:h,onScrollbarYChange:g,scrollbarYEnabled:I,onScrollbarYEnabledChange:O,onCornerWidthChange:E,onCornerHeightChange:C,children:r.jsx(W.div,{dir:P,...c,ref:v,style:{position:"relative","--radix-scroll-area-corner-width":S+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});Z.displayName=V;var ee="ScrollAreaViewport",te=a.forwardRef((e,n)=>{const{__scopeScrollArea:t,children:s,nonce:o,...l}=e,c=y(ee,t),i=a.useRef(null),d=L(n,i,c.onViewportChange);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),r.jsx(W.div,{"data-radix-scroll-area-viewport":"",...l,ref:d,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...e.style},children:r.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});te.displayName=ee;var j="ScrollAreaScrollbar",$=a.forwardRef((e,n)=>{const{forceMount:t,...s}=e,o=y(j,e.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:c}=o,i=e.orientation==="horizontal";return a.useEffect(()=>(i?l(!0):c(!0),()=>{i?l(!1):c(!1)}),[i,l,c]),o.type==="hover"?r.jsx(Ne,{...s,ref:n,forceMount:t}):o.type==="scroll"?r.jsx(Te,{...s,ref:n,forceMount:t}):o.type==="auto"?r.jsx(re,{...s,ref:n,forceMount:t}):o.type==="always"?r.jsx(q,{...s,ref:n}):null});$.displayName=j;var Ne=a.forwardRef((e,n)=>{const{forceMount:t,...s}=e,o=y(j,e.__scopeScrollArea),[l,c]=a.useState(!1);return a.useEffect(()=>{const i=o.scrollArea;let d=0;if(i){const m=()=>{window.clearTimeout(d),c(!0)},u=()=>{d=window.setTimeout(()=>c(!1),o.scrollHideDelay)};return i.addEventListener("pointerenter",m),i.addEventListener("pointerleave",u),()=>{window.clearTimeout(d),i.removeEventListener("pointerenter",m),i.removeEventListener("pointerleave",u)}}},[o.scrollArea,o.scrollHideDelay]),r.jsx(B,{present:t||l,children:r.jsx(re,{"data-state":l?"visible":"hidden",...s,ref:n})})}),Te=a.forwardRef((e,n)=>{const{forceMount:t,...s}=e,o=y(j,e.__scopeScrollArea),l=e.orientation==="horizontal",c=U(()=>d("SCROLL_END"),100),[i,d]=je("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return a.useEffect(()=>{if(i==="idle"){const m=window.setTimeout(()=>d("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(m)}},[i,o.scrollHideDelay,d]),a.useEffect(()=>{const m=o.viewport,u=l?"scrollLeft":"scrollTop";if(m){let f=m[u];const p=()=>{const b=m[u];f!==b&&(d("SCROLL"),c()),f=b};return m.addEventListener("scroll",p),()=>m.removeEventListener("scroll",p)}},[o.viewport,l,d,c]),r.jsx(B,{present:t||i!=="hidden",children:r.jsx(q,{"data-state":i==="hidden"?"hidden":"visible",...s,ref:n,onPointerEnter:N(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:N(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),re=a.forwardRef((e,n)=>{const t=y(j,e.__scopeScrollArea),{forceMount:s,...o}=e,[l,c]=a.useState(!1),i=e.orientation==="horizontal",d=U(()=>{if(t.viewport){const m=t.viewport.offsetWidth<t.viewport.scrollWidth,u=t.viewport.offsetHeight<t.viewport.scrollHeight;c(i?m:u)}},10);return D(t.viewport,d),D(t.content,d),r.jsx(B,{present:s||l,children:r.jsx(q,{"data-state":l?"visible":"hidden",...o,ref:n})})}),q=a.forwardRef((e,n)=>{const{orientation:t="vertical",...s}=e,o=y(j,e.__scopeScrollArea),l=a.useRef(null),c=a.useRef(0),[i,d]=a.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=ae(i.viewport,i.content),u={...s,sizes:i,onSizesChange:d,hasThumb:m>0&&m<1,onThumbChange:p=>l.current=p,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:p=>c.current=p};function f(p,b){return ke(p,c.current,i,b)}return t==="horizontal"?r.jsx(Ae,{...u,ref:n,onThumbPositionChange:()=>{if(o.viewport&&l.current){const p=o.viewport.scrollLeft,b=G(p,i,o.dir);l.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:p=>{o.viewport&&(o.viewport.scrollLeft=p)},onDragScroll:p=>{o.viewport&&(o.viewport.scrollLeft=f(p,o.dir))}}):t==="vertical"?r.jsx(De,{...u,ref:n,onThumbPositionChange:()=>{if(o.viewport&&l.current){const p=o.viewport.scrollTop,b=G(p,i);l.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:p=>{o.viewport&&(o.viewport.scrollTop=p)},onDragScroll:p=>{o.viewport&&(o.viewport.scrollTop=f(p))}}):null}),Ae=a.forwardRef((e,n)=>{const{sizes:t,onSizesChange:s,...o}=e,l=y(j,e.__scopeScrollArea),[c,i]=a.useState(),d=a.useRef(null),m=L(n,d,l.onScrollbarXChange);return a.useEffect(()=>{d.current&&i(getComputedStyle(d.current))},[d]),r.jsx(ne,{"data-orientation":"horizontal",...o,ref:m,sizes:t,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":F(t)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(l.viewport){const p=l.viewport.scrollLeft+u.deltaX;e.onWheelScroll(p),ie(p,f)&&u.preventDefault()}},onResize:()=>{d.current&&l.viewport&&c&&s({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:Y(c.paddingLeft),paddingEnd:Y(c.paddingRight)}})}})}),De=a.forwardRef((e,n)=>{const{sizes:t,onSizesChange:s,...o}=e,l=y(j,e.__scopeScrollArea),[c,i]=a.useState(),d=a.useRef(null),m=L(n,d,l.onScrollbarYChange);return a.useEffect(()=>{d.current&&i(getComputedStyle(d.current))},[d]),r.jsx(ne,{"data-orientation":"vertical",...o,ref:m,sizes:t,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":F(t)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(l.viewport){const p=l.viewport.scrollTop+u.deltaY;e.onWheelScroll(p),ie(p,f)&&u.preventDefault()}},onResize:()=>{d.current&&l.viewport&&c&&s({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:Y(c.paddingTop),paddingEnd:Y(c.paddingBottom)}})}})}),[Le,oe]=Q(j),ne=a.forwardRef((e,n)=>{const{__scopeScrollArea:t,sizes:s,hasThumb:o,onThumbChange:l,onThumbPointerUp:c,onThumbPointerDown:i,onThumbPositionChange:d,onDragScroll:m,onWheelScroll:u,onResize:f,...p}=e,b=y(j,t),[x,h]=a.useState(null),g=L(n,v=>h(v)),S=a.useRef(null),E=a.useRef(""),w=b.viewport,C=s.content-s.viewport,k=R(u),_=R(d),I=U(f,10);function O(v){if(S.current){const P=v.clientX-S.current.left,T=v.clientY-S.current.top;m({x:P,y:T})}}return a.useEffect(()=>{const v=P=>{const T=P.target;(x==null?void 0:x.contains(T))&&k(P,C)};return document.addEventListener("wheel",v,{passive:!1}),()=>document.removeEventListener("wheel",v,{passive:!1})},[w,x,C,k]),a.useEffect(_,[s,_]),D(x,I),D(b.content,I),r.jsx(Le,{scope:t,scrollbar:x,hasThumb:o,onThumbChange:R(l),onThumbPointerUp:R(c),onThumbPositionChange:_,onThumbPointerDown:R(i),children:r.jsx(W.div,{...p,ref:g,style:{position:"absolute",...p.style},onPointerDown:N(e.onPointerDown,v=>{v.button===0&&(v.target.setPointerCapture(v.pointerId),S.current=x.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),O(v))}),onPointerMove:N(e.onPointerMove,O),onPointerUp:N(e.onPointerUp,v=>{const P=v.target;P.hasPointerCapture(v.pointerId)&&P.releasePointerCapture(v.pointerId),document.body.style.webkitUserSelect=E.current,b.viewport&&(b.viewport.style.scrollBehavior=""),S.current=null})})})}),X="ScrollAreaThumb",se=a.forwardRef((e,n)=>{const{forceMount:t,...s}=e,o=oe(X,e.__scopeScrollArea);return r.jsx(B,{present:t||o.hasThumb,children:r.jsx(_e,{ref:n,...s})})}),_e=a.forwardRef((e,n)=>{const{__scopeScrollArea:t,style:s,...o}=e,l=y(X,t),c=oe(X,t),{onThumbPositionChange:i}=c,d=L(n,f=>c.onThumbChange(f)),m=a.useRef(void 0),u=U(()=>{m.current&&(m.current(),m.current=void 0)},100);return a.useEffect(()=>{const f=l.viewport;if(f){const p=()=>{if(u(),!m.current){const b=Ie(f,i);m.current=b,i()}};return i(),f.addEventListener("scroll",p),()=>f.removeEventListener("scroll",p)}},[l.viewport,u,i]),r.jsx(W.div,{"data-state":c.hasThumb?"visible":"hidden",...o,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:N(e.onPointerDownCapture,f=>{const b=f.target.getBoundingClientRect(),x=f.clientX-b.left,h=f.clientY-b.top;c.onThumbPointerDown({x,y:h})}),onPointerUp:N(e.onPointerUp,c.onThumbPointerUp)})});se.displayName=X;var K="ScrollAreaCorner",le=a.forwardRef((e,n)=>{const t=y(K,e.__scopeScrollArea),s=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&s?r.jsx(We,{...e,ref:n}):null});le.displayName=K;var We=a.forwardRef((e,n)=>{const{__scopeScrollArea:t,...s}=e,o=y(K,t),[l,c]=a.useState(0),[i,d]=a.useState(0),m=!!(l&&i);return D(o.scrollbarX,()=>{var f;const u=((f=o.scrollbarX)==null?void 0:f.offsetHeight)||0;o.onCornerHeightChange(u),d(u)}),D(o.scrollbarY,()=>{var f;const u=((f=o.scrollbarY)==null?void 0:f.offsetWidth)||0;o.onCornerWidthChange(u),c(u)}),m?r.jsx(W.div,{...s,ref:n,style:{width:l,height:i,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Y(e){return e?parseInt(e,10):0}function ae(e,n){const t=e/n;return isNaN(t)?0:t}function F(e){const n=ae(e.viewport,e.content),t=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-t)*n;return Math.max(s,18)}function ke(e,n,t,s="ltr"){const o=F(t),l=o/2,c=n||l,i=o-c,d=t.scrollbar.paddingStart+c,m=t.scrollbar.size-t.scrollbar.paddingEnd-i,u=t.content-t.viewport,f=s==="ltr"?[0,u]:[u*-1,0];return ce([d,m],f)(e)}function G(e,n,t="ltr"){const s=F(n),o=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,l=n.scrollbar.size-o,c=n.content-n.viewport,i=l-s,d=t==="ltr"?[0,c]:[c*-1,0],m=Pe(e,d);return ce([0,c],[0,i])(m)}function ce(e,n){return t=>{if(e[0]===e[1]||n[0]===n[1])return n[0];const s=(n[1]-n[0])/(e[1]-e[0]);return n[0]+s*(t-e[0])}}function ie(e,n){return e>0&&e<n}var Ie=(e,n=()=>{})=>{let t={left:e.scrollLeft,top:e.scrollTop},s=0;return function o(){const l={left:e.scrollLeft,top:e.scrollTop},c=t.left!==l.left,i=t.top!==l.top;(c||i)&&n(),t=l,s=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(s)};function U(e,n){const t=R(e),s=a.useRef(0);return a.useEffect(()=>()=>window.clearTimeout(s.current),[]),a.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(t,n)},[t,n])}function D(e,n){const t=R(n);me(()=>{let s=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(t)});return o.observe(e),()=>{window.cancelAnimationFrame(s),o.unobserve(e)}}},[e,t])}var de=Z,Oe=te,He=le;const ue=a.forwardRef(({className:e,children:n,...t},s)=>r.jsxs(de,{ref:s,className:A("relative overflow-hidden",e),...t,children:[r.jsx(Oe,{className:"h-full w-full rounded-[inherit]",children:n}),r.jsx(fe,{}),r.jsx(He,{})]}));ue.displayName=de.displayName;const fe=a.forwardRef(({className:e,orientation:n="vertical",...t},s)=>r.jsx($,{ref:s,orientation:n,className:A("flex touch-none select-none transition-colors",n==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",n==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...t,children:r.jsx(se,{className:"relative flex-1 rounded-full bg-border"})}));fe.displayName=$.displayName;const ze={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"};function Me({size:e="md",variant:n="default",className:t,text:s}){const o="animate-spin",l=ze[e],c=()=>{switch(n){case"cyber":return"text-primary border-primary border-t-transparent";case"neon":return"text-primary border-primary border-t-transparent neon-glow-sm";case"pulse":return"text-primary animate-pulse";default:return"text-primary border-primary border-t-transparent"}};return n==="pulse"?r.jsxs("div",{className:A("flex items-center justify-center",t),children:[r.jsx("div",{className:A("rounded-full bg-primary",l,"animate-pulse")}),s&&r.jsx("span",{className:"ml-2 text-sm text-muted-foreground animate-pulse",children:s})]}):r.jsxs("div",{className:A("flex items-center justify-center",t),children:[r.jsx("div",{className:A("rounded-full border-2",l,o,c())}),s&&r.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:s})]})}function Xe(e,n,t={}){var x;const s=a.useRef(null),o=a.useRef(null),l=a.useRef(null),c=a.useRef(0),i=a.useRef(!1),{reconnectInterval:d=3e3,maxReconnectAttempts:m=5,heartbeatInterval:u=3e4}=t,f=a.useCallback(()=>{var h,g;if(!(((h=s.current)==null?void 0:h.readyState)===WebSocket.OPEN||((g=s.current)==null?void 0:g.readyState)===WebSocket.CONNECTING))try{let S;if(window.location.hostname!=="localhost")S=`wss://aios-97581.web.app${e}`;else{const w=window.location.protocol==="https:"?"wss:":"ws:",C=window.location.hostname==="localhost"?"localhost:8080":window.location.host;S=`${w}//${C}${e}`}console.log("Attempting WebSocket connection to:",S);const E=new WebSocket(S);s.current=E,E.onopen=()=>{console.log("✅ WebSocket connected successfully"),c.current=0,i.current=!1,p()},E.onmessage=w=>{try{const C=JSON.parse(w.data);if(C.type==="pong")return;n(C)}catch(C){console.error("Failed to parse WebSocket message:",C)}},E.onclose=w=>{console.log("WebSocket disconnected:",w.code,w.reason),l.current&&clearTimeout(l.current),!i.current&&c.current<m?(c.current++,console.log(`Attempting reconnection ${c.current}/${m} in ${d}ms`),o.current=setTimeout(()=>{f()},d)):c.current>=m&&console.error("Max reconnection attempts reached. WebSocket connection failed.")},E.onerror=w=>{console.error("WebSocket error:",w)}}catch(S){console.error("Failed to create WebSocket connection:",S)}},[e,n,d,m]),p=a.useCallback(()=>{const h=()=>{var g;((g=s.current)==null?void 0:g.readyState)===WebSocket.OPEN&&(s.current.send(JSON.stringify({type:"ping",timestamp:Date.now()})),l.current=setTimeout(h,u))};l.current=setTimeout(h,u)},[u]),b=a.useCallback(()=>{i.current=!0,o.current&&clearTimeout(o.current),l.current&&clearTimeout(l.current),s.current&&(s.current.close(),s.current=null)},[]);return a.useEffect(()=>(f(),()=>{b()}),[f,b]),{ws:s.current,connect:f,disconnect:b,isConnected:((x=s.current)==null?void 0:x.readyState)===WebSocket.OPEN}}function Ge(){var x;const[e,n]=a.useState(!1),[t,s]=a.useState(""),[o,l]=a.useState([]),c=a.useRef(null),{isConnected:i}=Xe("/ws",h=>{h.type==="chat_message"&&l(g=>[...g,{id:h.id,type:"ai",content:h.content,timestamp:new Date(h.timestamp)}])}),{data:d,isError:m,error:u}=ve({queryKey:["/api/chat/history"],queryFn:()=>fetch("/api/chat/history?userId=user-1&limit=10").then(h=>{if(!h.ok)throw new Error("Failed to fetch chat history");return h.json()}),enabled:e});a.useEffect(()=>{m&&J.getInstance().handleError(u,{logToConsole:!0,reportToService:!0})},[m,u]);const f=Se({mutationFn:async h=>(await xe("POST","/api/chat",{message:h,userId:"user-1"})).json(),onSuccess:h=>{l(g=>[...g,{id:Date.now().toString(),type:"ai",content:h.response,timestamp:new Date}])},onError:h=>{J.getInstance().handleError(h,{logToConsole:!0,reportToService:!0})}}),p=()=>{if(!t.trim())return;const h={id:Date.now().toString(),type:"user",content:t,timestamp:new Date};l(g=>[...g,h]),f.mutate(t),s("")},b=h=>{h.key==="Enter"&&!h.shiftKey&&(h.preventDefault(),p())};return a.useEffect(()=>{var h;(h=c.current)==null||h.scrollIntoView({behavior:"smooth"})},[o]),a.useEffect(()=>{if(e&&(o.length===0&&l([{id:"welcome",type:"ai",content:"Hi! I'm your AI assistant. I can help you create content, set up automations, or analyze your social media performance. What would you like to do?",timestamp:new Date}]),d&&o.length<=1)){const h=d.map(g=>({id:g.id,type:g.role,content:g.message,timestamp:new Date(g.timestamp)}));l(g=>[g[0],...h])}},[e,d,o.length]),r.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:r.jsxs("div",{className:"relative",children:[r.jsx(H,{className:"w-14 h-14 rounded-full shadow-lg hover:shadow-xl transition-all duration-200 group",onClick:()=>n(!e),"data-testid":"button-toggle-chat",children:r.jsx("i",{className:`fas ${e?"fa-times":"fa-robot"} text-lg group-hover:scale-110 transition-transform`})}),e&&r.jsxs(pe,{className:"absolute bottom-16 right-0 w-80 shadow-xl glass-card neon-glow-md","data-testid":"chat-widget",children:[r.jsx(be,{className:"p-4 border-b",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(z,{className:"w-8 h-8",children:[r.jsx(Ee,{src:"",alt:"AI Assistant"}),r.jsx(M,{className:"bg-gradient-to-r from-primary to-accent text-primary-foreground",children:r.jsx("i",{className:"fas fa-robot text-sm"})})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium text-foreground",children:"AI Assistant"}),r.jsx(ye,{variant:i?"default":"destructive",className:"text-xs",children:i?"Online":"Offline"})]}),r.jsx(H,{variant:"ghost",size:"sm",onClick:()=>n(!1),"data-testid":"button-close-chat",children:r.jsx("i",{className:"fas fa-times"})})]})}),r.jsxs(ge,{className:"p-0",children:[r.jsx(ue,{className:"h-60 p-4 cyber-scrollbar",children:r.jsxs("div",{className:"space-y-4",children:[o.map(h=>r.jsxs("div",{className:`flex gap-3 ${h.type==="user"?"justify-end":"justify-start"}`,children:[h.type==="ai"&&r.jsx(z,{className:"w-6 h-6 flex-shrink-0",children:r.jsx(M,{className:"bg-primary text-primary-foreground",children:r.jsx("i",{className:"fas fa-robot text-xs"})})}),r.jsx("div",{className:`max-w-[80%] p-3 rounded-lg text-sm ${h.type==="user"?"bg-primary text-primary-foreground ml-auto":"bg-muted text-foreground"}`,children:h.content})]},h.id)),f.isPending&&r.jsxs("div",{className:"flex gap-3 justify-start",children:[r.jsx(z,{className:"w-6 h-6 flex-shrink-0",children:r.jsx(M,{className:"bg-primary text-primary-foreground",children:r.jsx("i",{className:"fas fa-robot text-xs"})})}),r.jsx("div",{className:"bg-muted text-foreground p-3 rounded-lg text-sm",children:r.jsx(Me,{size:"sm",variant:"cyber",text:"AI is thinking..."})})]}),f.isError&&r.jsxs("div",{className:"flex gap-3 justify-start",children:[r.jsx(z,{className:"w-6 h-6 flex-shrink-0",children:r.jsx(M,{className:"bg-destructive text-destructive-foreground",children:r.jsx("i",{className:"fas fa-exclamation-triangle text-xs"})})}),r.jsxs("div",{className:"bg-destructive/10 border border-destructive/20 text-destructive p-3 rounded-lg text-sm",children:[r.jsx("p",{className:"font-medium",children:"Error sending message"}),r.jsx("p",{className:"text-xs mt-1",children:((x=f.error)==null?void 0:x.message)||"Please try again"}),r.jsx(H,{variant:"ghost",size:"sm",onClick:()=>f.reset(),className:"mt-2 h-6 text-xs",children:"Try Again"})]})]}),r.jsx("div",{ref:c})]})}),r.jsx("div",{className:"p-4 border-t",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx(we,{placeholder:"Type a message...",value:t,onChange:h=>s(h.target.value),onKeyPress:b,disabled:f.isPending,className:"neon-input"}),r.jsx(H,{onClick:p,disabled:f.isPending||!t.trim(),className:"neon-button",children:r.jsx("i",{className:"fas fa-paper-plane"})})]})})]})]})]})})}export{Ge as C};
