const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dashboard-ByM4grPF.js","assets/header-DfVXD6a-.js","assets/avatar-BW0cCfpN.js","assets/separator-CsgOszTx.js","assets/post-card-3TzRbFr_.js","assets/useMutation-dZ9J-NgO.js","assets/badge-2Nww2oRF.js","assets/chat-widget-D1sWfHwD.js","assets/input-Bzq6Zs0b.js","assets/index-DrzI-Bpy.js","assets/index-BdQq_4o_.js","assets/tabs-Dgduz9O5.js","assets/progress-L0xFTV7M.js","assets/users-Bf-spjrT.js","assets/brain-D_Du4N91.js","assets/settings-BiQZr7v9.js","assets/heart-B5vsKD_y.js","assets/chart-column-BPiZ3EFQ.js","assets/circle-alert-DdUvVuiY.js","assets/zap-DA0smtjG.js","assets/search-DNV9SmLe.js","assets/star-B9lhJn_K.js","assets/social-feed-CnRd8Pd0.js","assets/index-C91KYPOD.js","assets/textarea-DKqlMEEa.js","assets/workflows-DZNnbTOO.js","assets/ai-agents-CF-a0Wsm.js","assets/alert-5ljV7JWD.js","assets/select-B6tRDHuW.js","assets/chevron-down-BUGv_L9N.js","assets/workflow-Dyx2zCJu.js","assets/loader-circle-H4LNNcfp.js","assets/play-Cr7O6fg0.js","assets/mcp-tools-OhuOylJm.js","assets/info-BtUC0KZB.js","assets/prompt-library-CFXAHNnR.js","assets/telegram-DiqLmNUs.js","assets/smart-learning-DFI9DU7S.js","assets/advanced-ai-tools-D2LfHto1.js","assets/learning-dashboard-Cr5lYSG3.js","assets/not-found-W8NzIMWG.js","assets/login-d1AE5QYo.js"])))=>i.map(i=>d[i]);
var k1=Object.defineProperty;var Tv=t=>{throw TypeError(t)};var b1=(t,e,n)=>e in t?k1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var un=(t,e,n)=>b1(t,typeof e!="symbol"?e+"":e,n),xd=(t,e,n)=>e.has(t)||Tv("Cannot "+n);var U=(t,e,n)=>(xd(t,e,"read from private field"),n?n.call(t):e.get(t)),he=(t,e,n)=>e.has(t)?Tv("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Z=(t,e,n,r)=>(xd(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),at=(t,e,n)=>(xd(t,e,"access private method"),n);var cu=(t,e,n,r)=>({set _(s){Z(t,e,s,n)},get _(){return U(t,e,r)}});function N1(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function oT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var aT={exports:{}},uh={},lT={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cl=Symbol.for("react.element"),D1=Symbol.for("react.portal"),O1=Symbol.for("react.fragment"),V1=Symbol.for("react.strict_mode"),L1=Symbol.for("react.profiler"),M1=Symbol.for("react.provider"),F1=Symbol.for("react.context"),U1=Symbol.for("react.forward_ref"),j1=Symbol.for("react.suspense"),z1=Symbol.for("react.memo"),$1=Symbol.for("react.lazy"),Iv=Symbol.iterator;function B1(t){return t===null||typeof t!="object"?null:(t=Iv&&t[Iv]||t["@@iterator"],typeof t=="function"?t:null)}var uT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cT=Object.assign,hT={};function Po(t,e,n){this.props=t,this.context=e,this.refs=hT,this.updater=n||uT}Po.prototype.isReactComponent={};Po.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Po.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function dT(){}dT.prototype=Po.prototype;function cm(t,e,n){this.props=t,this.context=e,this.refs=hT,this.updater=n||uT}var hm=cm.prototype=new dT;hm.constructor=cm;cT(hm,Po.prototype);hm.isPureReactComponent=!0;var Sv=Array.isArray,fT=Object.prototype.hasOwnProperty,dm={current:null},pT={key:!0,ref:!0,__self:!0,__source:!0};function mT(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)fT.call(e,r)&&!pT.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Cl,type:t,key:i,ref:o,props:s,_owner:dm.current}}function q1(t,e){return{$$typeof:Cl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function fm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Cl}function H1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Av=/\/+/g;function kd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?H1(""+t.key):e.toString(36)}function ju(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Cl:case D1:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+kd(o,0):r,Sv(s)?(n="",t!=null&&(n=t.replace(Av,"$&/")+"/"),ju(s,e,n,"",function(c){return c})):s!=null&&(fm(s)&&(s=q1(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Av,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Sv(t))for(var a=0;a<t.length;a++){i=t[a];var u=r+kd(i,a);o+=ju(i,e,n,u,s)}else if(u=B1(t),typeof u=="function")for(t=u.call(t),a=0;!(i=t.next()).done;)i=i.value,u=r+kd(i,a++),o+=ju(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function hu(t,e,n){if(t==null)return t;var r=[],s=0;return ju(t,r,"","",function(i){return e.call(n,i,s++)}),r}function W1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var At={current:null},zu={transition:null},G1={ReactCurrentDispatcher:At,ReactCurrentBatchConfig:zu,ReactCurrentOwner:dm};function gT(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:hu,forEach:function(t,e,n){hu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return hu(t,function(){e++}),e},toArray:function(t){return hu(t,function(e){return e})||[]},only:function(t){if(!fm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ae.Component=Po;ae.Fragment=O1;ae.Profiler=L1;ae.PureComponent=cm;ae.StrictMode=V1;ae.Suspense=j1;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G1;ae.act=gT;ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=cT({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=dm.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)fT.call(e,u)&&!pT.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Cl,type:t.type,key:s,ref:i,props:r,_owner:o}};ae.createContext=function(t){return t={$$typeof:F1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:M1,_context:t},t.Consumer=t};ae.createElement=mT;ae.createFactory=function(t){var e=mT.bind(null,t);return e.type=t,e};ae.createRef=function(){return{current:null}};ae.forwardRef=function(t){return{$$typeof:U1,render:t}};ae.isValidElement=fm;ae.lazy=function(t){return{$$typeof:$1,_payload:{_status:-1,_result:t},_init:W1}};ae.memo=function(t,e){return{$$typeof:z1,type:t,compare:e===void 0?null:e}};ae.startTransition=function(t){var e=zu.transition;zu.transition={};try{t()}finally{zu.transition=e}};ae.unstable_act=gT;ae.useCallback=function(t,e){return At.current.useCallback(t,e)};ae.useContext=function(t){return At.current.useContext(t)};ae.useDebugValue=function(){};ae.useDeferredValue=function(t){return At.current.useDeferredValue(t)};ae.useEffect=function(t,e){return At.current.useEffect(t,e)};ae.useId=function(){return At.current.useId()};ae.useImperativeHandle=function(t,e,n){return At.current.useImperativeHandle(t,e,n)};ae.useInsertionEffect=function(t,e){return At.current.useInsertionEffect(t,e)};ae.useLayoutEffect=function(t,e){return At.current.useLayoutEffect(t,e)};ae.useMemo=function(t,e){return At.current.useMemo(t,e)};ae.useReducer=function(t,e,n){return At.current.useReducer(t,e,n)};ae.useRef=function(t){return At.current.useRef(t)};ae.useState=function(t){return At.current.useState(t)};ae.useSyncExternalStore=function(t,e,n){return At.current.useSyncExternalStore(t,e,n)};ae.useTransition=function(){return At.current.useTransition()};ae.version="18.3.1";lT.exports=ae;var C=lT.exports;const Lr=oT(C),pm=N1({__proto__:null,default:Lr},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K1=C,Q1=Symbol.for("react.element"),Y1=Symbol.for("react.fragment"),X1=Object.prototype.hasOwnProperty,J1=K1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Z1={key:!0,ref:!0,__self:!0,__source:!0};function yT(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)X1.call(e,r)&&!Z1.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Q1,type:t,key:i,ref:o,props:s,_owner:J1.current}}uh.Fragment=Y1;uh.jsx=yT;uh.jsxs=yT;aT.exports=uh;var D=aT.exports,vT={exports:{}},Qt={},_T={exports:{}},wT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,W){var Y=j.length;j.push(W);e:for(;0<Y;){var ne=Y-1>>>1,ve=j[ne];if(0<s(ve,W))j[ne]=W,j[Y]=ve,Y=ne;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var W=j[0],Y=j.pop();if(Y!==W){j[0]=Y;e:for(var ne=0,ve=j.length,Rt=ve>>>1;ne<Rt;){var Ze=2*(ne+1)-1,Zn=j[Ze],Ft=Ze+1,ln=j[Ft];if(0>s(Zn,Y))Ft<ve&&0>s(ln,Zn)?(j[ne]=ln,j[Ft]=Y,ne=Ft):(j[ne]=Zn,j[Ze]=Y,ne=Ze);else if(Ft<ve&&0>s(ln,Y))j[ne]=ln,j[Ft]=Y,ne=Ft;else break e}}return W}function s(j,W){var Y=j.sortIndex-W.sortIndex;return Y!==0?Y:j.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],h=1,f=null,p=3,g=!1,S=!1,w=!1,A=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(j){for(var W=n(c);W!==null;){if(W.callback===null)r(c);else if(W.startTime<=j)r(c),W.sortIndex=W.expirationTime,e(u,W);else break;W=n(c)}}function N(j){if(w=!1,I(j),!S)if(n(u)!==null)S=!0,oe(O);else{var W=n(c);W!==null&&de(N,W.startTime-j)}}function O(j,W){S=!1,w&&(w=!1,v(_),_=-1),g=!0;var Y=p;try{for(I(W),f=n(u);f!==null&&(!(f.expirationTime>W)||j&&!k());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,p=f.priorityLevel;var ve=ne(f.expirationTime<=W);W=t.unstable_now(),typeof ve=="function"?f.callback=ve:f===n(u)&&r(u),I(W)}else r(u);f=n(u)}if(f!==null)var Rt=!0;else{var Ze=n(c);Ze!==null&&de(N,Ze.startTime-W),Rt=!1}return Rt}finally{f=null,p=Y,g=!1}}var L=!1,E=null,_=-1,R=5,x=-1;function k(){return!(t.unstable_now()-x<R)}function b(){if(E!==null){var j=t.unstable_now();x=j;var W=!0;try{W=E(!0,j)}finally{W?P():(L=!1,E=null)}}else L=!1}var P;if(typeof y=="function")P=function(){y(b)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,ie=H.port2;H.port1.onmessage=b,P=function(){ie.postMessage(null)}}else P=function(){A(b,0)};function oe(j){E=j,L||(L=!0,P())}function de(j,W){_=A(function(){j(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){S||g||(S=!0,oe(O))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(j){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var Y=p;p=W;try{return j()}finally{p=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,W){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var Y=p;p=j;try{return W()}finally{p=Y}},t.unstable_scheduleCallback=function(j,W,Y){var ne=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ne+Y:ne):Y=ne,j){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=Y+ve,j={id:h++,callback:W,priorityLevel:j,startTime:Y,expirationTime:ve,sortIndex:-1},Y>ne?(j.sortIndex=Y,e(c,j),n(u)===null&&j===n(c)&&(w?(v(_),_=-1):w=!0,de(N,Y-ne))):(j.sortIndex=ve,e(u,j),S||g||(S=!0,oe(O))),j},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(j){var W=p;return function(){var Y=p;p=W;try{return j.apply(this,arguments)}finally{p=Y}}}})(wT);_T.exports=wT;var eP=_T.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tP=C,Kt=eP;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ET=new Set,Ha={};function pi(t,e){co(t,e),co(t+"Capture",e)}function co(t,e){for(Ha[t]=e,t=0;t<e.length;t++)ET.add(e[t])}var fr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pf=Object.prototype.hasOwnProperty,nP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cv={},Rv={};function rP(t){return Pf.call(Rv,t)?!0:Pf.call(Cv,t)?!1:nP.test(t)?Rv[t]=!0:(Cv[t]=!0,!1)}function sP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function iP(t,e,n,r){if(e===null||typeof e>"u"||sP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ct(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var it={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){it[t]=new Ct(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];it[e]=new Ct(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){it[t]=new Ct(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){it[t]=new Ct(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){it[t]=new Ct(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){it[t]=new Ct(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){it[t]=new Ct(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){it[t]=new Ct(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){it[t]=new Ct(t,5,!1,t.toLowerCase(),null,!1,!1)});var mm=/[\-:]([a-z])/g;function gm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(mm,gm);it[e]=new Ct(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(mm,gm);it[e]=new Ct(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(mm,gm);it[e]=new Ct(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){it[t]=new Ct(t,1,!1,t.toLowerCase(),null,!1,!1)});it.xlinkHref=new Ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){it[t]=new Ct(t,1,!1,t.toLowerCase(),null,!0,!0)});function ym(t,e,n,r){var s=it.hasOwnProperty(e)?it[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(iP(e,n,s,r)&&(n=null),r||s===null?rP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Sr=tP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,du=Symbol.for("react.element"),ki=Symbol.for("react.portal"),bi=Symbol.for("react.fragment"),vm=Symbol.for("react.strict_mode"),xf=Symbol.for("react.profiler"),TT=Symbol.for("react.provider"),IT=Symbol.for("react.context"),_m=Symbol.for("react.forward_ref"),kf=Symbol.for("react.suspense"),bf=Symbol.for("react.suspense_list"),wm=Symbol.for("react.memo"),Fr=Symbol.for("react.lazy"),ST=Symbol.for("react.offscreen"),Pv=Symbol.iterator;function ca(t){return t===null||typeof t!="object"?null:(t=Pv&&t[Pv]||t["@@iterator"],typeof t=="function"?t:null)}var xe=Object.assign,bd;function Ea(t){if(bd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);bd=e&&e[1]||""}return`
`+bd+t}var Nd=!1;function Dd(t,e){if(!t||Nd)return"";Nd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{Nd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ea(t):""}function oP(t){switch(t.tag){case 5:return Ea(t.type);case 16:return Ea("Lazy");case 13:return Ea("Suspense");case 19:return Ea("SuspenseList");case 0:case 2:case 15:return t=Dd(t.type,!1),t;case 11:return t=Dd(t.type.render,!1),t;case 1:return t=Dd(t.type,!0),t;default:return""}}function Nf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case bi:return"Fragment";case ki:return"Portal";case xf:return"Profiler";case vm:return"StrictMode";case kf:return"Suspense";case bf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case IT:return(t.displayName||"Context")+".Consumer";case TT:return(t._context.displayName||"Context")+".Provider";case _m:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case wm:return e=t.displayName||null,e!==null?e:Nf(t.type)||"Memo";case Fr:e=t._payload,t=t._init;try{return Nf(t(e))}catch{}}return null}function aP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nf(e);case 8:return e===vm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ps(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function AT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function lP(t){var e=AT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fu(t){t._valueTracker||(t._valueTracker=lP(t))}function CT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=AT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function dc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Df(t,e){var n=e.checked;return xe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function xv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ps(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function RT(t,e){e=e.checked,e!=null&&ym(t,"checked",e,!1)}function Of(t,e){RT(t,e);var n=ps(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Vf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Vf(t,e.type,ps(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function kv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Vf(t,e,n){(e!=="number"||dc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ta=Array.isArray;function $i(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ps(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Lf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return xe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function bv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(Ta(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ps(n)}}function PT(t,e){var n=ps(e.value),r=ps(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Nv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function xT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?xT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var pu,kT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(pu=pu||document.createElement("div"),pu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=pu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Wa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var xa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uP=["Webkit","ms","Moz","O"];Object.keys(xa).forEach(function(t){uP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),xa[e]=xa[t]})});function bT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||xa.hasOwnProperty(t)&&xa[t]?(""+e).trim():e+"px"}function NT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=bT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var cP=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ff(t,e){if(e){if(cP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function Uf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jf=null;function Em(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zf=null,Bi=null,qi=null;function Dv(t){if(t=xl(t)){if(typeof zf!="function")throw Error($(280));var e=t.stateNode;e&&(e=ph(e),zf(t.stateNode,t.type,e))}}function DT(t){Bi?qi?qi.push(t):qi=[t]:Bi=t}function OT(){if(Bi){var t=Bi,e=qi;if(qi=Bi=null,Dv(t),e)for(t=0;t<e.length;t++)Dv(e[t])}}function VT(t,e){return t(e)}function LT(){}var Od=!1;function MT(t,e,n){if(Od)return t(e,n);Od=!0;try{return VT(t,e,n)}finally{Od=!1,(Bi!==null||qi!==null)&&(LT(),OT())}}function Ga(t,e){var n=t.stateNode;if(n===null)return null;var r=ph(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var $f=!1;if(fr)try{var ha={};Object.defineProperty(ha,"passive",{get:function(){$f=!0}}),window.addEventListener("test",ha,ha),window.removeEventListener("test",ha,ha)}catch{$f=!1}function hP(t,e,n,r,s,i,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var ka=!1,fc=null,pc=!1,Bf=null,dP={onError:function(t){ka=!0,fc=t}};function fP(t,e,n,r,s,i,o,a,u){ka=!1,fc=null,hP.apply(dP,arguments)}function pP(t,e,n,r,s,i,o,a,u){if(fP.apply(this,arguments),ka){if(ka){var c=fc;ka=!1,fc=null}else throw Error($(198));pc||(pc=!0,Bf=c)}}function mi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function FT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ov(t){if(mi(t)!==t)throw Error($(188))}function mP(t){var e=t.alternate;if(!e){if(e=mi(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Ov(s),t;if(i===r)return Ov(s),e;i=i.sibling}throw Error($(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function UT(t){return t=mP(t),t!==null?jT(t):null}function jT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=jT(t);if(e!==null)return e;t=t.sibling}return null}var zT=Kt.unstable_scheduleCallback,Vv=Kt.unstable_cancelCallback,gP=Kt.unstable_shouldYield,yP=Kt.unstable_requestPaint,Me=Kt.unstable_now,vP=Kt.unstable_getCurrentPriorityLevel,Tm=Kt.unstable_ImmediatePriority,$T=Kt.unstable_UserBlockingPriority,mc=Kt.unstable_NormalPriority,_P=Kt.unstable_LowPriority,BT=Kt.unstable_IdlePriority,ch=null,Un=null;function wP(t){if(Un&&typeof Un.onCommitFiberRoot=="function")try{Un.onCommitFiberRoot(ch,t,void 0,(t.current.flags&128)===128)}catch{}}var _n=Math.clz32?Math.clz32:IP,EP=Math.log,TP=Math.LN2;function IP(t){return t>>>=0,t===0?32:31-(EP(t)/TP|0)|0}var mu=64,gu=4194304;function Ia(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function gc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Ia(a):(i&=o,i!==0&&(r=Ia(i)))}else o=n&~s,o!==0?r=Ia(o):i!==0&&(r=Ia(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-_n(e),s=1<<n,r|=t[n],e&=~s;return r}function SP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function AP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-_n(i),a=1<<o,u=s[o];u===-1?(!(a&n)||a&r)&&(s[o]=SP(a,e)):u<=e&&(t.expiredLanes|=a),i&=~a}}function qf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function qT(){var t=mu;return mu<<=1,!(mu&4194240)&&(mu=64),t}function Vd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Rl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_n(e),t[e]=n}function CP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-_n(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Im(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-_n(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ye=0;function HT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var WT,Sm,GT,KT,QT,Hf=!1,yu=[],ts=null,ns=null,rs=null,Ka=new Map,Qa=new Map,jr=[],RP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lv(t,e){switch(t){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":Ka.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qa.delete(e.pointerId)}}function da(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=xl(e),e!==null&&Sm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function PP(t,e,n,r,s){switch(e){case"focusin":return ts=da(ts,t,e,n,r,s),!0;case"dragenter":return ns=da(ns,t,e,n,r,s),!0;case"mouseover":return rs=da(rs,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ka.set(i,da(Ka.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Qa.set(i,da(Qa.get(i)||null,t,e,n,r,s)),!0}return!1}function YT(t){var e=$s(t.target);if(e!==null){var n=mi(e);if(n!==null){if(e=n.tag,e===13){if(e=FT(n),e!==null){t.blockedOn=e,QT(t.priority,function(){GT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $u(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Wf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);jf=r,n.target.dispatchEvent(r),jf=null}else return e=xl(n),e!==null&&Sm(e),t.blockedOn=n,!1;e.shift()}return!0}function Mv(t,e,n){$u(t)&&n.delete(e)}function xP(){Hf=!1,ts!==null&&$u(ts)&&(ts=null),ns!==null&&$u(ns)&&(ns=null),rs!==null&&$u(rs)&&(rs=null),Ka.forEach(Mv),Qa.forEach(Mv)}function fa(t,e){t.blockedOn===e&&(t.blockedOn=null,Hf||(Hf=!0,Kt.unstable_scheduleCallback(Kt.unstable_NormalPriority,xP)))}function Ya(t){function e(s){return fa(s,t)}if(0<yu.length){fa(yu[0],t);for(var n=1;n<yu.length;n++){var r=yu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ts!==null&&fa(ts,t),ns!==null&&fa(ns,t),rs!==null&&fa(rs,t),Ka.forEach(e),Qa.forEach(e),n=0;n<jr.length;n++)r=jr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<jr.length&&(n=jr[0],n.blockedOn===null);)YT(n),n.blockedOn===null&&jr.shift()}var Hi=Sr.ReactCurrentBatchConfig,yc=!0;function kP(t,e,n,r){var s=ye,i=Hi.transition;Hi.transition=null;try{ye=1,Am(t,e,n,r)}finally{ye=s,Hi.transition=i}}function bP(t,e,n,r){var s=ye,i=Hi.transition;Hi.transition=null;try{ye=4,Am(t,e,n,r)}finally{ye=s,Hi.transition=i}}function Am(t,e,n,r){if(yc){var s=Wf(t,e,n,r);if(s===null)Hd(t,e,r,vc,n),Lv(t,r);else if(PP(s,t,e,n,r))r.stopPropagation();else if(Lv(t,r),e&4&&-1<RP.indexOf(t)){for(;s!==null;){var i=xl(s);if(i!==null&&WT(i),i=Wf(t,e,n,r),i===null&&Hd(t,e,r,vc,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Hd(t,e,r,null,n)}}var vc=null;function Wf(t,e,n,r){if(vc=null,t=Em(r),t=$s(t),t!==null)if(e=mi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=FT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vc=t,null}function XT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vP()){case Tm:return 1;case $T:return 4;case mc:case _P:return 16;case BT:return 536870912;default:return 16}default:return 16}}var Jr=null,Cm=null,Bu=null;function JT(){if(Bu)return Bu;var t,e=Cm,n=e.length,r,s="value"in Jr?Jr.value:Jr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Bu=s.slice(t,1<r?1-r:void 0)}function qu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vu(){return!0}function Fv(){return!1}function Yt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?vu:Fv,this.isPropagationStopped=Fv,this}return xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vu)},persist:function(){},isPersistent:vu}),e}var xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rm=Yt(xo),Pl=xe({},xo,{view:0,detail:0}),NP=Yt(Pl),Ld,Md,pa,hh=xe({},Pl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pa&&(pa&&t.type==="mousemove"?(Ld=t.screenX-pa.screenX,Md=t.screenY-pa.screenY):Md=Ld=0,pa=t),Ld)},movementY:function(t){return"movementY"in t?t.movementY:Md}}),Uv=Yt(hh),DP=xe({},hh,{dataTransfer:0}),OP=Yt(DP),VP=xe({},Pl,{relatedTarget:0}),Fd=Yt(VP),LP=xe({},xo,{animationName:0,elapsedTime:0,pseudoElement:0}),MP=Yt(LP),FP=xe({},xo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),UP=Yt(FP),jP=xe({},xo,{data:0}),jv=Yt(jP),zP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$P={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=BP[t])?!!e[t]:!1}function Pm(){return qP}var HP=xe({},Pl,{key:function(t){if(t.key){var e=zP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$P[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pm,charCode:function(t){return t.type==="keypress"?qu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),WP=Yt(HP),GP=xe({},hh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zv=Yt(GP),KP=xe({},Pl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pm}),QP=Yt(KP),YP=xe({},xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),XP=Yt(YP),JP=xe({},hh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ZP=Yt(JP),ex=[9,13,27,32],xm=fr&&"CompositionEvent"in window,ba=null;fr&&"documentMode"in document&&(ba=document.documentMode);var tx=fr&&"TextEvent"in window&&!ba,ZT=fr&&(!xm||ba&&8<ba&&11>=ba),$v=" ",Bv=!1;function e0(t,e){switch(t){case"keyup":return ex.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function t0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ni=!1;function nx(t,e){switch(t){case"compositionend":return t0(e);case"keypress":return e.which!==32?null:(Bv=!0,$v);case"textInput":return t=e.data,t===$v&&Bv?null:t;default:return null}}function rx(t,e){if(Ni)return t==="compositionend"||!xm&&e0(t,e)?(t=JT(),Bu=Cm=Jr=null,Ni=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ZT&&e.locale!=="ko"?null:e.data;default:return null}}var sx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!sx[t.type]:e==="textarea"}function n0(t,e,n,r){DT(r),e=_c(e,"onChange"),0<e.length&&(n=new Rm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Na=null,Xa=null;function ix(t){f0(t,0)}function dh(t){var e=Vi(t);if(CT(e))return t}function ox(t,e){if(t==="change")return e}var r0=!1;if(fr){var Ud;if(fr){var jd="oninput"in document;if(!jd){var Hv=document.createElement("div");Hv.setAttribute("oninput","return;"),jd=typeof Hv.oninput=="function"}Ud=jd}else Ud=!1;r0=Ud&&(!document.documentMode||9<document.documentMode)}function Wv(){Na&&(Na.detachEvent("onpropertychange",s0),Xa=Na=null)}function s0(t){if(t.propertyName==="value"&&dh(Xa)){var e=[];n0(e,Xa,t,Em(t)),MT(ix,e)}}function ax(t,e,n){t==="focusin"?(Wv(),Na=e,Xa=n,Na.attachEvent("onpropertychange",s0)):t==="focusout"&&Wv()}function lx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return dh(Xa)}function ux(t,e){if(t==="click")return dh(e)}function cx(t,e){if(t==="input"||t==="change")return dh(e)}function hx(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Tn=typeof Object.is=="function"?Object.is:hx;function Ja(t,e){if(Tn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Pf.call(e,s)||!Tn(t[s],e[s]))return!1}return!0}function Gv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Kv(t,e){var n=Gv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gv(n)}}function i0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?i0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function o0(){for(var t=window,e=dc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=dc(t.document)}return e}function km(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function dx(t){var e=o0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&i0(n.ownerDocument.documentElement,n)){if(r!==null&&km(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Kv(n,i);var o=Kv(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var fx=fr&&"documentMode"in document&&11>=document.documentMode,Di=null,Gf=null,Da=null,Kf=!1;function Qv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Kf||Di==null||Di!==dc(r)||(r=Di,"selectionStart"in r&&km(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Da&&Ja(Da,r)||(Da=r,r=_c(Gf,"onSelect"),0<r.length&&(e=new Rm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Di)))}function _u(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Oi={animationend:_u("Animation","AnimationEnd"),animationiteration:_u("Animation","AnimationIteration"),animationstart:_u("Animation","AnimationStart"),transitionend:_u("Transition","TransitionEnd")},zd={},a0={};fr&&(a0=document.createElement("div").style,"AnimationEvent"in window||(delete Oi.animationend.animation,delete Oi.animationiteration.animation,delete Oi.animationstart.animation),"TransitionEvent"in window||delete Oi.transitionend.transition);function fh(t){if(zd[t])return zd[t];if(!Oi[t])return t;var e=Oi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in a0)return zd[t]=e[n];return t}var l0=fh("animationend"),u0=fh("animationiteration"),c0=fh("animationstart"),h0=fh("transitionend"),d0=new Map,Yv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rs(t,e){d0.set(t,e),pi(e,[t])}for(var $d=0;$d<Yv.length;$d++){var Bd=Yv[$d],px=Bd.toLowerCase(),mx=Bd[0].toUpperCase()+Bd.slice(1);Rs(px,"on"+mx)}Rs(l0,"onAnimationEnd");Rs(u0,"onAnimationIteration");Rs(c0,"onAnimationStart");Rs("dblclick","onDoubleClick");Rs("focusin","onFocus");Rs("focusout","onBlur");Rs(h0,"onTransitionEnd");co("onMouseEnter",["mouseout","mouseover"]);co("onMouseLeave",["mouseout","mouseover"]);co("onPointerEnter",["pointerout","pointerover"]);co("onPointerLeave",["pointerout","pointerover"]);pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pi("onBeforeInput",["compositionend","keypress","textInput","paste"]);pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sa));function Xv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,pP(r,e,void 0,t),t.currentTarget=null}function f0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;Xv(s,a,c),i=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;Xv(s,a,c),i=u}}}if(pc)throw t=Bf,pc=!1,Bf=null,t}function Se(t,e){var n=e[Zf];n===void 0&&(n=e[Zf]=new Set);var r=t+"__bubble";n.has(r)||(p0(e,t,2,!1),n.add(r))}function qd(t,e,n){var r=0;e&&(r|=4),p0(n,t,r,e)}var wu="_reactListening"+Math.random().toString(36).slice(2);function Za(t){if(!t[wu]){t[wu]=!0,ET.forEach(function(n){n!=="selectionchange"&&(gx.has(n)||qd(n,!1,t),qd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wu]||(e[wu]=!0,qd("selectionchange",!1,e))}}function p0(t,e,n,r){switch(XT(e)){case 1:var s=kP;break;case 4:s=bP;break;default:s=Am}n=s.bind(null,e,n,t),s=void 0,!$f||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Hd(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=$s(a),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}a=a.parentNode}}r=r.return}MT(function(){var c=i,h=Em(n),f=[];e:{var p=d0.get(t);if(p!==void 0){var g=Rm,S=t;switch(t){case"keypress":if(qu(n)===0)break e;case"keydown":case"keyup":g=WP;break;case"focusin":S="focus",g=Fd;break;case"focusout":S="blur",g=Fd;break;case"beforeblur":case"afterblur":g=Fd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Uv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=OP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=QP;break;case l0:case u0:case c0:g=MP;break;case h0:g=XP;break;case"scroll":g=NP;break;case"wheel":g=ZP;break;case"copy":case"cut":case"paste":g=UP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=zv}var w=(e&4)!==0,A=!w&&t==="scroll",v=w?p!==null?p+"Capture":null:p;w=[];for(var y=c,I;y!==null;){I=y;var N=I.stateNode;if(I.tag===5&&N!==null&&(I=N,v!==null&&(N=Ga(y,v),N!=null&&w.push(el(y,N,I)))),A)break;y=y.return}0<w.length&&(p=new g(p,S,null,n,h),f.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==jf&&(S=n.relatedTarget||n.fromElement)&&($s(S)||S[pr]))break e;if((g||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,g?(S=n.relatedTarget||n.toElement,g=c,S=S?$s(S):null,S!==null&&(A=mi(S),S!==A||S.tag!==5&&S.tag!==6)&&(S=null)):(g=null,S=c),g!==S)){if(w=Uv,N="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(w=zv,N="onPointerLeave",v="onPointerEnter",y="pointer"),A=g==null?p:Vi(g),I=S==null?p:Vi(S),p=new w(N,y+"leave",g,n,h),p.target=A,p.relatedTarget=I,N=null,$s(h)===c&&(w=new w(v,y+"enter",S,n,h),w.target=I,w.relatedTarget=A,N=w),A=N,g&&S)t:{for(w=g,v=S,y=0,I=w;I;I=Ai(I))y++;for(I=0,N=v;N;N=Ai(N))I++;for(;0<y-I;)w=Ai(w),y--;for(;0<I-y;)v=Ai(v),I--;for(;y--;){if(w===v||v!==null&&w===v.alternate)break t;w=Ai(w),v=Ai(v)}w=null}else w=null;g!==null&&Jv(f,p,g,w,!1),S!==null&&A!==null&&Jv(f,A,S,w,!0)}}e:{if(p=c?Vi(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var O=ox;else if(qv(p))if(r0)O=cx;else{O=lx;var L=ax}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(O=ux);if(O&&(O=O(t,c))){n0(f,O,n,h);break e}L&&L(t,p,c),t==="focusout"&&(L=p._wrapperState)&&L.controlled&&p.type==="number"&&Vf(p,"number",p.value)}switch(L=c?Vi(c):window,t){case"focusin":(qv(L)||L.contentEditable==="true")&&(Di=L,Gf=c,Da=null);break;case"focusout":Da=Gf=Di=null;break;case"mousedown":Kf=!0;break;case"contextmenu":case"mouseup":case"dragend":Kf=!1,Qv(f,n,h);break;case"selectionchange":if(fx)break;case"keydown":case"keyup":Qv(f,n,h)}var E;if(xm)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Ni?e0(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(ZT&&n.locale!=="ko"&&(Ni||_!=="onCompositionStart"?_==="onCompositionEnd"&&Ni&&(E=JT()):(Jr=h,Cm="value"in Jr?Jr.value:Jr.textContent,Ni=!0)),L=_c(c,_),0<L.length&&(_=new jv(_,t,null,n,h),f.push({event:_,listeners:L}),E?_.data=E:(E=t0(n),E!==null&&(_.data=E)))),(E=tx?nx(t,n):rx(t,n))&&(c=_c(c,"onBeforeInput"),0<c.length&&(h=new jv("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=E))}f0(f,e)})}function el(t,e,n){return{instance:t,listener:e,currentTarget:n}}function _c(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ga(t,n),i!=null&&r.unshift(el(t,i,s)),i=Ga(t,e),i!=null&&r.push(el(t,i,s))),t=t.return}return r}function Ai(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Jv(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,s?(u=Ga(n,i),u!=null&&o.unshift(el(n,u,a))):s||(u=Ga(n,i),u!=null&&o.push(el(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var yx=/\r\n?/g,vx=/\u0000|\uFFFD/g;function Zv(t){return(typeof t=="string"?t:""+t).replace(yx,`
`).replace(vx,"")}function Eu(t,e,n){if(e=Zv(e),Zv(t)!==e&&n)throw Error($(425))}function wc(){}var Qf=null,Yf=null;function Xf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Jf=typeof setTimeout=="function"?setTimeout:void 0,_x=typeof clearTimeout=="function"?clearTimeout:void 0,e_=typeof Promise=="function"?Promise:void 0,wx=typeof queueMicrotask=="function"?queueMicrotask:typeof e_<"u"?function(t){return e_.resolve(null).then(t).catch(Ex)}:Jf;function Ex(t){setTimeout(function(){throw t})}function Wd(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ya(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ya(e)}function ss(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function t_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ko=Math.random().toString(36).slice(2),Mn="__reactFiber$"+ko,tl="__reactProps$"+ko,pr="__reactContainer$"+ko,Zf="__reactEvents$"+ko,Tx="__reactListeners$"+ko,Ix="__reactHandles$"+ko;function $s(t){var e=t[Mn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pr]||n[Mn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=t_(t);t!==null;){if(n=t[Mn])return n;t=t_(t)}return e}t=n,n=t.parentNode}return null}function xl(t){return t=t[Mn]||t[pr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function ph(t){return t[tl]||null}var ep=[],Li=-1;function Ps(t){return{current:t}}function Ae(t){0>Li||(t.current=ep[Li],ep[Li]=null,Li--)}function Ee(t,e){Li++,ep[Li]=t.current,t.current=e}var ms={},pt=Ps(ms),Nt=Ps(!1),ri=ms;function ho(t,e){var n=t.type.contextTypes;if(!n)return ms;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Dt(t){return t=t.childContextTypes,t!=null}function Ec(){Ae(Nt),Ae(pt)}function n_(t,e,n){if(pt.current!==ms)throw Error($(168));Ee(pt,e),Ee(Nt,n)}function m0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error($(108,aP(t)||"Unknown",s));return xe({},n,r)}function Tc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ms,ri=pt.current,Ee(pt,t),Ee(Nt,Nt.current),!0}function r_(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=m0(t,e,ri),r.__reactInternalMemoizedMergedChildContext=t,Ae(Nt),Ae(pt),Ee(pt,t)):Ae(Nt),Ee(Nt,n)}var sr=null,mh=!1,Gd=!1;function g0(t){sr===null?sr=[t]:sr.push(t)}function Sx(t){mh=!0,g0(t)}function xs(){if(!Gd&&sr!==null){Gd=!0;var t=0,e=ye;try{var n=sr;for(ye=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}sr=null,mh=!1}catch(s){throw sr!==null&&(sr=sr.slice(t+1)),zT(Tm,xs),s}finally{ye=e,Gd=!1}}return null}var Mi=[],Fi=0,Ic=null,Sc=0,Jt=[],Zt=0,si=null,ar=1,lr="";function Fs(t,e){Mi[Fi++]=Sc,Mi[Fi++]=Ic,Ic=t,Sc=e}function y0(t,e,n){Jt[Zt++]=ar,Jt[Zt++]=lr,Jt[Zt++]=si,si=t;var r=ar;t=lr;var s=32-_n(r)-1;r&=~(1<<s),n+=1;var i=32-_n(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ar=1<<32-_n(e)+s|n<<s|r,lr=i+t}else ar=1<<i|n<<s|r,lr=t}function bm(t){t.return!==null&&(Fs(t,1),y0(t,1,0))}function Nm(t){for(;t===Ic;)Ic=Mi[--Fi],Mi[Fi]=null,Sc=Mi[--Fi],Mi[Fi]=null;for(;t===si;)si=Jt[--Zt],Jt[Zt]=null,lr=Jt[--Zt],Jt[Zt]=null,ar=Jt[--Zt],Jt[Zt]=null}var qt=null,$t=null,Ce=!1,yn=null;function v0(t,e){var n=nn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function s_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,qt=t,$t=ss(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,qt=t,$t=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=si!==null?{id:ar,overflow:lr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=nn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,qt=t,$t=null,!0):!1;default:return!1}}function tp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function np(t){if(Ce){var e=$t;if(e){var n=e;if(!s_(t,e)){if(tp(t))throw Error($(418));e=ss(n.nextSibling);var r=qt;e&&s_(t,e)?v0(r,n):(t.flags=t.flags&-4097|2,Ce=!1,qt=t)}}else{if(tp(t))throw Error($(418));t.flags=t.flags&-4097|2,Ce=!1,qt=t}}}function i_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qt=t}function Tu(t){if(t!==qt)return!1;if(!Ce)return i_(t),Ce=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Xf(t.type,t.memoizedProps)),e&&(e=$t)){if(tp(t))throw _0(),Error($(418));for(;e;)v0(t,e),e=ss(e.nextSibling)}if(i_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){$t=ss(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}$t=null}}else $t=qt?ss(t.stateNode.nextSibling):null;return!0}function _0(){for(var t=$t;t;)t=ss(t.nextSibling)}function fo(){$t=qt=null,Ce=!1}function Dm(t){yn===null?yn=[t]:yn.push(t)}var Ax=Sr.ReactCurrentBatchConfig;function ma(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function Iu(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function o_(t){var e=t._init;return e(t._payload)}function w0(t){function e(v,y){if(t){var I=v.deletions;I===null?(v.deletions=[y],v.flags|=16):I.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function s(v,y){return v=ls(v,y),v.index=0,v.sibling=null,v}function i(v,y,I){return v.index=I,t?(I=v.alternate,I!==null?(I=I.index,I<y?(v.flags|=2,y):I):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,y,I,N){return y===null||y.tag!==6?(y=ef(I,v.mode,N),y.return=v,y):(y=s(y,I),y.return=v,y)}function u(v,y,I,N){var O=I.type;return O===bi?h(v,y,I.props.children,N,I.key):y!==null&&(y.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Fr&&o_(O)===y.type)?(N=s(y,I.props),N.ref=ma(v,y,I),N.return=v,N):(N=Xu(I.type,I.key,I.props,null,v.mode,N),N.ref=ma(v,y,I),N.return=v,N)}function c(v,y,I,N){return y===null||y.tag!==4||y.stateNode.containerInfo!==I.containerInfo||y.stateNode.implementation!==I.implementation?(y=tf(I,v.mode,N),y.return=v,y):(y=s(y,I.children||[]),y.return=v,y)}function h(v,y,I,N,O){return y===null||y.tag!==7?(y=ti(I,v.mode,N,O),y.return=v,y):(y=s(y,I),y.return=v,y)}function f(v,y,I){if(typeof y=="string"&&y!==""||typeof y=="number")return y=ef(""+y,v.mode,I),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case du:return I=Xu(y.type,y.key,y.props,null,v.mode,I),I.ref=ma(v,null,y),I.return=v,I;case ki:return y=tf(y,v.mode,I),y.return=v,y;case Fr:var N=y._init;return f(v,N(y._payload),I)}if(Ta(y)||ca(y))return y=ti(y,v.mode,I,null),y.return=v,y;Iu(v,y)}return null}function p(v,y,I,N){var O=y!==null?y.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return O!==null?null:a(v,y,""+I,N);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case du:return I.key===O?u(v,y,I,N):null;case ki:return I.key===O?c(v,y,I,N):null;case Fr:return O=I._init,p(v,y,O(I._payload),N)}if(Ta(I)||ca(I))return O!==null?null:h(v,y,I,N,null);Iu(v,I)}return null}function g(v,y,I,N,O){if(typeof N=="string"&&N!==""||typeof N=="number")return v=v.get(I)||null,a(y,v,""+N,O);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case du:return v=v.get(N.key===null?I:N.key)||null,u(y,v,N,O);case ki:return v=v.get(N.key===null?I:N.key)||null,c(y,v,N,O);case Fr:var L=N._init;return g(v,y,I,L(N._payload),O)}if(Ta(N)||ca(N))return v=v.get(I)||null,h(y,v,N,O,null);Iu(y,N)}return null}function S(v,y,I,N){for(var O=null,L=null,E=y,_=y=0,R=null;E!==null&&_<I.length;_++){E.index>_?(R=E,E=null):R=E.sibling;var x=p(v,E,I[_],N);if(x===null){E===null&&(E=R);break}t&&E&&x.alternate===null&&e(v,E),y=i(x,y,_),L===null?O=x:L.sibling=x,L=x,E=R}if(_===I.length)return n(v,E),Ce&&Fs(v,_),O;if(E===null){for(;_<I.length;_++)E=f(v,I[_],N),E!==null&&(y=i(E,y,_),L===null?O=E:L.sibling=E,L=E);return Ce&&Fs(v,_),O}for(E=r(v,E);_<I.length;_++)R=g(E,v,_,I[_],N),R!==null&&(t&&R.alternate!==null&&E.delete(R.key===null?_:R.key),y=i(R,y,_),L===null?O=R:L.sibling=R,L=R);return t&&E.forEach(function(k){return e(v,k)}),Ce&&Fs(v,_),O}function w(v,y,I,N){var O=ca(I);if(typeof O!="function")throw Error($(150));if(I=O.call(I),I==null)throw Error($(151));for(var L=O=null,E=y,_=y=0,R=null,x=I.next();E!==null&&!x.done;_++,x=I.next()){E.index>_?(R=E,E=null):R=E.sibling;var k=p(v,E,x.value,N);if(k===null){E===null&&(E=R);break}t&&E&&k.alternate===null&&e(v,E),y=i(k,y,_),L===null?O=k:L.sibling=k,L=k,E=R}if(x.done)return n(v,E),Ce&&Fs(v,_),O;if(E===null){for(;!x.done;_++,x=I.next())x=f(v,x.value,N),x!==null&&(y=i(x,y,_),L===null?O=x:L.sibling=x,L=x);return Ce&&Fs(v,_),O}for(E=r(v,E);!x.done;_++,x=I.next())x=g(E,v,_,x.value,N),x!==null&&(t&&x.alternate!==null&&E.delete(x.key===null?_:x.key),y=i(x,y,_),L===null?O=x:L.sibling=x,L=x);return t&&E.forEach(function(b){return e(v,b)}),Ce&&Fs(v,_),O}function A(v,y,I,N){if(typeof I=="object"&&I!==null&&I.type===bi&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case du:e:{for(var O=I.key,L=y;L!==null;){if(L.key===O){if(O=I.type,O===bi){if(L.tag===7){n(v,L.sibling),y=s(L,I.props.children),y.return=v,v=y;break e}}else if(L.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Fr&&o_(O)===L.type){n(v,L.sibling),y=s(L,I.props),y.ref=ma(v,L,I),y.return=v,v=y;break e}n(v,L);break}else e(v,L);L=L.sibling}I.type===bi?(y=ti(I.props.children,v.mode,N,I.key),y.return=v,v=y):(N=Xu(I.type,I.key,I.props,null,v.mode,N),N.ref=ma(v,y,I),N.return=v,v=N)}return o(v);case ki:e:{for(L=I.key;y!==null;){if(y.key===L)if(y.tag===4&&y.stateNode.containerInfo===I.containerInfo&&y.stateNode.implementation===I.implementation){n(v,y.sibling),y=s(y,I.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=tf(I,v.mode,N),y.return=v,v=y}return o(v);case Fr:return L=I._init,A(v,y,L(I._payload),N)}if(Ta(I))return S(v,y,I,N);if(ca(I))return w(v,y,I,N);Iu(v,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,y!==null&&y.tag===6?(n(v,y.sibling),y=s(y,I),y.return=v,v=y):(n(v,y),y=ef(I,v.mode,N),y.return=v,v=y),o(v)):n(v,y)}return A}var po=w0(!0),E0=w0(!1),Ac=Ps(null),Cc=null,Ui=null,Om=null;function Vm(){Om=Ui=Cc=null}function Lm(t){var e=Ac.current;Ae(Ac),t._currentValue=e}function rp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Wi(t,e){Cc=t,Om=Ui=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(bt=!0),t.firstContext=null)}function on(t){var e=t._currentValue;if(Om!==t)if(t={context:t,memoizedValue:e,next:null},Ui===null){if(Cc===null)throw Error($(308));Ui=t,Cc.dependencies={lanes:0,firstContext:t}}else Ui=Ui.next=t;return e}var Bs=null;function Mm(t){Bs===null?Bs=[t]:Bs.push(t)}function T0(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Mm(e)):(n.next=s.next,s.next=n),e.interleaved=n,mr(t,r)}function mr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ur=!1;function Fm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function I0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function hr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function is(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,pe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,mr(t,n)}return s=r.interleaved,s===null?(e.next=e,Mm(r)):(e.next=s.next,s.next=e),r.interleaved=e,mr(t,n)}function Hu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Im(t,n)}}function a_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Rc(t,e,n,r){var s=t.updateQueue;Ur=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=u))}if(i!==null){var f=s.baseState;o=0,h=c=u=null,a=i;do{var p=a.lane,g=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=t,w=a;switch(p=e,g=n,w.tag){case 1:if(S=w.payload,typeof S=="function"){f=S.call(g,f,p);break e}f=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=w.payload,p=typeof S=="function"?S.call(g,f,p):S,p==null)break e;f=xe({},f,p);break e;case 2:Ur=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=g,u=f):h=h.next=g,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(u=f),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);oi|=o,t.lanes=o,t.memoizedState=f}}function l_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error($(191,s));s.call(r)}}}var kl={},jn=Ps(kl),nl=Ps(kl),rl=Ps(kl);function qs(t){if(t===kl)throw Error($(174));return t}function Um(t,e){switch(Ee(rl,e),Ee(nl,t),Ee(jn,kl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Mf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Mf(e,t)}Ae(jn),Ee(jn,e)}function mo(){Ae(jn),Ae(nl),Ae(rl)}function S0(t){qs(rl.current);var e=qs(jn.current),n=Mf(e,t.type);e!==n&&(Ee(nl,t),Ee(jn,n))}function jm(t){nl.current===t&&(Ae(jn),Ae(nl))}var Re=Ps(0);function Pc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Kd=[];function zm(){for(var t=0;t<Kd.length;t++)Kd[t]._workInProgressVersionPrimary=null;Kd.length=0}var Wu=Sr.ReactCurrentDispatcher,Qd=Sr.ReactCurrentBatchConfig,ii=0,Pe=null,qe=null,Xe=null,xc=!1,Oa=!1,sl=0,Cx=0;function lt(){throw Error($(321))}function $m(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Tn(t[n],e[n]))return!1;return!0}function Bm(t,e,n,r,s,i){if(ii=i,Pe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wu.current=t===null||t.memoizedState===null?kx:bx,t=n(r,s),Oa){i=0;do{if(Oa=!1,sl=0,25<=i)throw Error($(301));i+=1,Xe=qe=null,e.updateQueue=null,Wu.current=Nx,t=n(r,s)}while(Oa)}if(Wu.current=kc,e=qe!==null&&qe.next!==null,ii=0,Xe=qe=Pe=null,xc=!1,e)throw Error($(300));return t}function qm(){var t=sl!==0;return sl=0,t}function Nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?Pe.memoizedState=Xe=t:Xe=Xe.next=t,Xe}function an(){if(qe===null){var t=Pe.alternate;t=t!==null?t.memoizedState:null}else t=qe.next;var e=Xe===null?Pe.memoizedState:Xe.next;if(e!==null)Xe=e,qe=t;else{if(t===null)throw Error($(310));qe=t,t={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},Xe===null?Pe.memoizedState=Xe=t:Xe=Xe.next=t}return Xe}function il(t,e){return typeof e=="function"?e(t):e}function Yd(t){var e=an(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=qe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,u=null,c=i;do{var h=c.lane;if((ii&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,Pe.lanes|=h,oi|=h}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=a,Tn(r,e.memoizedState)||(bt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Pe.lanes|=i,oi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Xd(t){var e=an(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Tn(i,e.memoizedState)||(bt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function A0(){}function C0(t,e){var n=Pe,r=an(),s=e(),i=!Tn(r.memoizedState,s);if(i&&(r.memoizedState=s,bt=!0),r=r.queue,Hm(x0.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Xe!==null&&Xe.memoizedState.tag&1){if(n.flags|=2048,ol(9,P0.bind(null,n,r,s,e),void 0,null),Je===null)throw Error($(349));ii&30||R0(n,e,s)}return s}function R0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Pe.updateQueue,e===null?(e={lastEffect:null,stores:null},Pe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function P0(t,e,n,r){e.value=n,e.getSnapshot=r,k0(e)&&b0(t)}function x0(t,e,n){return n(function(){k0(e)&&b0(t)})}function k0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Tn(t,n)}catch{return!0}}function b0(t){var e=mr(t,1);e!==null&&wn(e,t,1,-1)}function u_(t){var e=Nn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:il,lastRenderedState:t},e.queue=t,t=t.dispatch=xx.bind(null,Pe,t),[e.memoizedState,t]}function ol(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Pe.updateQueue,e===null?(e={lastEffect:null,stores:null},Pe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function N0(){return an().memoizedState}function Gu(t,e,n,r){var s=Nn();Pe.flags|=t,s.memoizedState=ol(1|e,n,void 0,r===void 0?null:r)}function gh(t,e,n,r){var s=an();r=r===void 0?null:r;var i=void 0;if(qe!==null){var o=qe.memoizedState;if(i=o.destroy,r!==null&&$m(r,o.deps)){s.memoizedState=ol(e,n,i,r);return}}Pe.flags|=t,s.memoizedState=ol(1|e,n,i,r)}function c_(t,e){return Gu(8390656,8,t,e)}function Hm(t,e){return gh(2048,8,t,e)}function D0(t,e){return gh(4,2,t,e)}function O0(t,e){return gh(4,4,t,e)}function V0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function L0(t,e,n){return n=n!=null?n.concat([t]):null,gh(4,4,V0.bind(null,e,t),n)}function Wm(){}function M0(t,e){var n=an();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$m(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function F0(t,e){var n=an();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$m(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function U0(t,e,n){return ii&21?(Tn(n,e)||(n=qT(),Pe.lanes|=n,oi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,bt=!0),t.memoizedState=n)}function Rx(t,e){var n=ye;ye=n!==0&&4>n?n:4,t(!0);var r=Qd.transition;Qd.transition={};try{t(!1),e()}finally{ye=n,Qd.transition=r}}function j0(){return an().memoizedState}function Px(t,e,n){var r=as(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},z0(t))$0(e,n);else if(n=T0(t,e,n,r),n!==null){var s=St();wn(n,t,r,s),B0(n,e,r)}}function xx(t,e,n){var r=as(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(z0(t))$0(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Tn(a,o)){var u=e.interleaved;u===null?(s.next=s,Mm(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=T0(t,e,s,r),n!==null&&(s=St(),wn(n,t,r,s),B0(n,e,r))}}function z0(t){var e=t.alternate;return t===Pe||e!==null&&e===Pe}function $0(t,e){Oa=xc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function B0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Im(t,n)}}var kc={readContext:on,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},kx={readContext:on,useCallback:function(t,e){return Nn().memoizedState=[t,e===void 0?null:e],t},useContext:on,useEffect:c_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Gu(4194308,4,V0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Gu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Gu(4,2,t,e)},useMemo:function(t,e){var n=Nn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Nn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Px.bind(null,Pe,t),[r.memoizedState,t]},useRef:function(t){var e=Nn();return t={current:t},e.memoizedState=t},useState:u_,useDebugValue:Wm,useDeferredValue:function(t){return Nn().memoizedState=t},useTransition:function(){var t=u_(!1),e=t[0];return t=Rx.bind(null,t[1]),Nn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Pe,s=Nn();if(Ce){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),Je===null)throw Error($(349));ii&30||R0(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,c_(x0.bind(null,r,i,t),[t]),r.flags|=2048,ol(9,P0.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Nn(),e=Je.identifierPrefix;if(Ce){var n=lr,r=ar;n=(r&~(1<<32-_n(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=sl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Cx++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bx={readContext:on,useCallback:M0,useContext:on,useEffect:Hm,useImperativeHandle:L0,useInsertionEffect:D0,useLayoutEffect:O0,useMemo:F0,useReducer:Yd,useRef:N0,useState:function(){return Yd(il)},useDebugValue:Wm,useDeferredValue:function(t){var e=an();return U0(e,qe.memoizedState,t)},useTransition:function(){var t=Yd(il)[0],e=an().memoizedState;return[t,e]},useMutableSource:A0,useSyncExternalStore:C0,useId:j0,unstable_isNewReconciler:!1},Nx={readContext:on,useCallback:M0,useContext:on,useEffect:Hm,useImperativeHandle:L0,useInsertionEffect:D0,useLayoutEffect:O0,useMemo:F0,useReducer:Xd,useRef:N0,useState:function(){return Xd(il)},useDebugValue:Wm,useDeferredValue:function(t){var e=an();return qe===null?e.memoizedState=t:U0(e,qe.memoizedState,t)},useTransition:function(){var t=Xd(il)[0],e=an().memoizedState;return[t,e]},useMutableSource:A0,useSyncExternalStore:C0,useId:j0,unstable_isNewReconciler:!1};function hn(t,e){if(t&&t.defaultProps){e=xe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function sp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:xe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var yh={isMounted:function(t){return(t=t._reactInternals)?mi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=St(),s=as(t),i=hr(r,s);i.payload=e,n!=null&&(i.callback=n),e=is(t,i,s),e!==null&&(wn(e,t,s,r),Hu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=St(),s=as(t),i=hr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=is(t,i,s),e!==null&&(wn(e,t,s,r),Hu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=St(),r=as(t),s=hr(n,r);s.tag=2,e!=null&&(s.callback=e),e=is(t,s,r),e!==null&&(wn(e,t,r,n),Hu(e,t,r))}};function h_(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ja(n,r)||!Ja(s,i):!0}function q0(t,e,n){var r=!1,s=ms,i=e.contextType;return typeof i=="object"&&i!==null?i=on(i):(s=Dt(e)?ri:pt.current,r=e.contextTypes,i=(r=r!=null)?ho(t,s):ms),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=yh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function d_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&yh.enqueueReplaceState(e,e.state,null)}function ip(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Fm(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=on(i):(i=Dt(e)?ri:pt.current,s.context=ho(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(sp(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&yh.enqueueReplaceState(s,s.state,null),Rc(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function go(t,e){try{var n="",r=e;do n+=oP(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Jd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function op(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Dx=typeof WeakMap=="function"?WeakMap:Map;function H0(t,e,n){n=hr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Nc||(Nc=!0,gp=r),op(t,e)},n}function W0(t,e,n){n=hr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){op(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){op(t,e),typeof r!="function"&&(os===null?os=new Set([this]):os.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function f_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Dx;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Gx.bind(null,t,e,n),e.then(t,t))}function p_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function m_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=hr(-1,1),e.tag=2,is(n,e,1))),n.lanes|=1),t)}var Ox=Sr.ReactCurrentOwner,bt=!1;function Et(t,e,n,r){e.child=t===null?E0(e,null,n,r):po(e,t.child,n,r)}function g_(t,e,n,r,s){n=n.render;var i=e.ref;return Wi(e,s),r=Bm(t,e,n,r,i,s),n=qm(),t!==null&&!bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,gr(t,e,s)):(Ce&&n&&bm(e),e.flags|=1,Et(t,e,r,s),e.child)}function y_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!eg(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,G0(t,e,i,r,s)):(t=Xu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ja,n(o,r)&&t.ref===e.ref)return gr(t,e,s)}return e.flags|=1,t=ls(i,r),t.ref=e.ref,t.return=e,e.child=t}function G0(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ja(i,r)&&t.ref===e.ref)if(bt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(bt=!0);else return e.lanes=t.lanes,gr(t,e,s)}return ap(t,e,n,r,s)}function K0(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(zi,jt),jt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ee(zi,jt),jt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ee(zi,jt),jt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ee(zi,jt),jt|=r;return Et(t,e,s,n),e.child}function Q0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ap(t,e,n,r,s){var i=Dt(n)?ri:pt.current;return i=ho(e,i),Wi(e,s),n=Bm(t,e,n,r,i,s),r=qm(),t!==null&&!bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,gr(t,e,s)):(Ce&&r&&bm(e),e.flags|=1,Et(t,e,n,s),e.child)}function v_(t,e,n,r,s){if(Dt(n)){var i=!0;Tc(e)}else i=!1;if(Wi(e,s),e.stateNode===null)Ku(t,e),q0(e,n,r),ip(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=on(c):(c=Dt(n)?ri:pt.current,c=ho(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&d_(e,o,r,c),Ur=!1;var p=e.memoizedState;o.state=p,Rc(e,r,o,s),u=e.memoizedState,a!==r||p!==u||Nt.current||Ur?(typeof h=="function"&&(sp(e,n,h,r),u=e.memoizedState),(a=Ur||h_(e,n,a,r,p,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,I0(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:hn(e.type,a),o.props=c,f=e.pendingProps,p=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=on(u):(u=Dt(n)?ri:pt.current,u=ho(e,u));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==u)&&d_(e,o,r,u),Ur=!1,p=e.memoizedState,o.state=p,Rc(e,r,o,s);var S=e.memoizedState;a!==f||p!==S||Nt.current||Ur?(typeof g=="function"&&(sp(e,n,g,r),S=e.memoizedState),(c=Ur||h_(e,n,c,r,p,S,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return lp(t,e,n,r,i,s)}function lp(t,e,n,r,s,i){Q0(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&r_(e,n,!1),gr(t,e,i);r=e.stateNode,Ox.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=po(e,t.child,null,i),e.child=po(e,null,a,i)):Et(t,e,a,i),e.memoizedState=r.state,s&&r_(e,n,!0),e.child}function Y0(t){var e=t.stateNode;e.pendingContext?n_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&n_(t,e.context,!1),Um(t,e.containerInfo)}function __(t,e,n,r,s){return fo(),Dm(s),e.flags|=256,Et(t,e,n,r),e.child}var up={dehydrated:null,treeContext:null,retryLane:0};function cp(t){return{baseLanes:t,cachePool:null,transitions:null}}function X0(t,e,n){var r=e.pendingProps,s=Re.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ee(Re,s&1),t===null)return np(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=wh(o,r,0,null),t=ti(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=cp(n),e.memoizedState=up,t):Gm(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Vx(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=ls(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ls(a,i):(i=ti(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?cp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=up,r}return i=t.child,t=i.sibling,r=ls(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Gm(t,e){return e=wh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Su(t,e,n,r){return r!==null&&Dm(r),po(e,t.child,null,n),t=Gm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Vx(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Jd(Error($(422))),Su(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=wh({mode:"visible",children:r.children},s,0,null),i=ti(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&po(e,t.child,null,o),e.child.memoizedState=cp(o),e.memoizedState=up,i);if(!(e.mode&1))return Su(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error($(419)),r=Jd(i,r,void 0),Su(t,e,o,r)}if(a=(o&t.childLanes)!==0,bt||a){if(r=Je,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,mr(t,s),wn(r,t,s,-1))}return Zm(),r=Jd(Error($(421))),Su(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Kx.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,$t=ss(s.nextSibling),qt=e,Ce=!0,yn=null,t!==null&&(Jt[Zt++]=ar,Jt[Zt++]=lr,Jt[Zt++]=si,ar=t.id,lr=t.overflow,si=e),e=Gm(e,r.children),e.flags|=4096,e)}function w_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),rp(t.return,e,n)}function Zd(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function J0(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Et(t,e,r.children,n),r=Re.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&w_(t,n,e);else if(t.tag===19)w_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ee(Re,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Pc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Zd(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Pc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Zd(e,!0,n,null,i);break;case"together":Zd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ku(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function gr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),oi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=ls(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ls(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Lx(t,e,n){switch(e.tag){case 3:Y0(e),fo();break;case 5:S0(e);break;case 1:Dt(e.type)&&Tc(e);break;case 4:Um(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ee(Ac,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ee(Re,Re.current&1),e.flags|=128,null):n&e.child.childLanes?X0(t,e,n):(Ee(Re,Re.current&1),t=gr(t,e,n),t!==null?t.sibling:null);Ee(Re,Re.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return J0(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ee(Re,Re.current),r)break;return null;case 22:case 23:return e.lanes=0,K0(t,e,n)}return gr(t,e,n)}var Z0,hp,eI,tI;Z0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};hp=function(){};eI=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,qs(jn.current);var i=null;switch(n){case"input":s=Df(t,s),r=Df(t,r),i=[];break;case"select":s=xe({},s,{value:void 0}),r=xe({},r,{value:void 0}),i=[];break;case"textarea":s=Lf(t,s),r=Lf(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=wc)}Ff(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ha.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ha.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Se("scroll",t),i||a===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};tI=function(t,e,n,r){n!==r&&(e.flags|=4)};function ga(t,e){if(!Ce)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ut(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Mx(t,e,n){var r=e.pendingProps;switch(Nm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(e),null;case 1:return Dt(e.type)&&Ec(),ut(e),null;case 3:return r=e.stateNode,mo(),Ae(Nt),Ae(pt),zm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Tu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,yn!==null&&(_p(yn),yn=null))),hp(t,e),ut(e),null;case 5:jm(e);var s=qs(rl.current);if(n=e.type,t!==null&&e.stateNode!=null)eI(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return ut(e),null}if(t=qs(jn.current),Tu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Mn]=e,r[tl]=i,t=(e.mode&1)!==0,n){case"dialog":Se("cancel",r),Se("close",r);break;case"iframe":case"object":case"embed":Se("load",r);break;case"video":case"audio":for(s=0;s<Sa.length;s++)Se(Sa[s],r);break;case"source":Se("error",r);break;case"img":case"image":case"link":Se("error",r),Se("load",r);break;case"details":Se("toggle",r);break;case"input":xv(r,i),Se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Se("invalid",r);break;case"textarea":bv(r,i),Se("invalid",r)}Ff(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Eu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Eu(r.textContent,a,t),s=["children",""+a]):Ha.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Se("scroll",r)}switch(n){case"input":fu(r),kv(r,i,!0);break;case"textarea":fu(r),Nv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=wc)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Mn]=e,t[tl]=r,Z0(t,e,!1,!1),e.stateNode=t;e:{switch(o=Uf(n,r),n){case"dialog":Se("cancel",t),Se("close",t),s=r;break;case"iframe":case"object":case"embed":Se("load",t),s=r;break;case"video":case"audio":for(s=0;s<Sa.length;s++)Se(Sa[s],t);s=r;break;case"source":Se("error",t),s=r;break;case"img":case"image":case"link":Se("error",t),Se("load",t),s=r;break;case"details":Se("toggle",t),s=r;break;case"input":xv(t,r),s=Df(t,r),Se("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=xe({},r,{value:void 0}),Se("invalid",t);break;case"textarea":bv(t,r),s=Lf(t,r),Se("invalid",t);break;default:s=r}Ff(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?NT(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&kT(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Wa(t,u):typeof u=="number"&&Wa(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ha.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Se("scroll",t):u!=null&&ym(t,i,u,o))}switch(n){case"input":fu(t),kv(t,r,!1);break;case"textarea":fu(t),Nv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ps(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?$i(t,!!r.multiple,i,!1):r.defaultValue!=null&&$i(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=wc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ut(e),null;case 6:if(t&&e.stateNode!=null)tI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=qs(rl.current),qs(jn.current),Tu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Mn]=e,(i=r.nodeValue!==n)&&(t=qt,t!==null))switch(t.tag){case 3:Eu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Eu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Mn]=e,e.stateNode=r}return ut(e),null;case 13:if(Ae(Re),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ce&&$t!==null&&e.mode&1&&!(e.flags&128))_0(),fo(),e.flags|=98560,i=!1;else if(i=Tu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error($(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($(317));i[Mn]=e}else fo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ut(e),i=!1}else yn!==null&&(_p(yn),yn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Re.current&1?We===0&&(We=3):Zm())),e.updateQueue!==null&&(e.flags|=4),ut(e),null);case 4:return mo(),hp(t,e),t===null&&Za(e.stateNode.containerInfo),ut(e),null;case 10:return Lm(e.type._context),ut(e),null;case 17:return Dt(e.type)&&Ec(),ut(e),null;case 19:if(Ae(Re),i=e.memoizedState,i===null)return ut(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ga(i,!1);else{if(We!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Pc(t),o!==null){for(e.flags|=128,ga(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ee(Re,Re.current&1|2),e.child}t=t.sibling}i.tail!==null&&Me()>yo&&(e.flags|=128,r=!0,ga(i,!1),e.lanes=4194304)}else{if(!r)if(t=Pc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ga(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ce)return ut(e),null}else 2*Me()-i.renderingStartTime>yo&&n!==1073741824&&(e.flags|=128,r=!0,ga(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Me(),e.sibling=null,n=Re.current,Ee(Re,r?n&1|2:n&1),e):(ut(e),null);case 22:case 23:return Jm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?jt&1073741824&&(ut(e),e.subtreeFlags&6&&(e.flags|=8192)):ut(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function Fx(t,e){switch(Nm(e),e.tag){case 1:return Dt(e.type)&&Ec(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return mo(),Ae(Nt),Ae(pt),zm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return jm(e),null;case 13:if(Ae(Re),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));fo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ae(Re),null;case 4:return mo(),null;case 10:return Lm(e.type._context),null;case 22:case 23:return Jm(),null;case 24:return null;default:return null}}var Au=!1,dt=!1,Ux=typeof WeakSet=="function"?WeakSet:Set,K=null;function ji(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){De(t,e,r)}else n.current=null}function dp(t,e,n){try{n()}catch(r){De(t,e,r)}}var E_=!1;function jx(t,e){if(Qf=yc,t=o0(),km(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,h=0,f=t,p=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++h===r&&(u=o),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yf={focusedElem:t,selectionRange:n},yc=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var w=S.memoizedProps,A=S.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?w:hn(e.type,w),A);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(N){De(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return S=E_,E_=!1,S}function Va(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&dp(e,n,i)}s=s.next}while(s!==r)}}function vh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function fp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function nI(t){var e=t.alternate;e!==null&&(t.alternate=null,nI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Mn],delete e[tl],delete e[Zf],delete e[Tx],delete e[Ix])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rI(t){return t.tag===5||t.tag===3||t.tag===4}function T_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=wc));else if(r!==4&&(t=t.child,t!==null))for(pp(t,e,n),t=t.sibling;t!==null;)pp(t,e,n),t=t.sibling}function mp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(mp(t,e,n),t=t.sibling;t!==null;)mp(t,e,n),t=t.sibling}var tt=null,gn=!1;function Nr(t,e,n){for(n=n.child;n!==null;)sI(t,e,n),n=n.sibling}function sI(t,e,n){if(Un&&typeof Un.onCommitFiberUnmount=="function")try{Un.onCommitFiberUnmount(ch,n)}catch{}switch(n.tag){case 5:dt||ji(n,e);case 6:var r=tt,s=gn;tt=null,Nr(t,e,n),tt=r,gn=s,tt!==null&&(gn?(t=tt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):tt.removeChild(n.stateNode));break;case 18:tt!==null&&(gn?(t=tt,n=n.stateNode,t.nodeType===8?Wd(t.parentNode,n):t.nodeType===1&&Wd(t,n),Ya(t)):Wd(tt,n.stateNode));break;case 4:r=tt,s=gn,tt=n.stateNode.containerInfo,gn=!0,Nr(t,e,n),tt=r,gn=s;break;case 0:case 11:case 14:case 15:if(!dt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&dp(n,e,o),s=s.next}while(s!==r)}Nr(t,e,n);break;case 1:if(!dt&&(ji(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){De(n,e,a)}Nr(t,e,n);break;case 21:Nr(t,e,n);break;case 22:n.mode&1?(dt=(r=dt)||n.memoizedState!==null,Nr(t,e,n),dt=r):Nr(t,e,n);break;default:Nr(t,e,n)}}function I_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Ux),e.forEach(function(r){var s=Qx.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function cn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:tt=a.stateNode,gn=!1;break e;case 3:tt=a.stateNode.containerInfo,gn=!0;break e;case 4:tt=a.stateNode.containerInfo,gn=!0;break e}a=a.return}if(tt===null)throw Error($(160));sI(i,o,s),tt=null,gn=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){De(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)iI(e,t),e=e.sibling}function iI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(cn(e,t),bn(t),r&4){try{Va(3,t,t.return),vh(3,t)}catch(w){De(t,t.return,w)}try{Va(5,t,t.return)}catch(w){De(t,t.return,w)}}break;case 1:cn(e,t),bn(t),r&512&&n!==null&&ji(n,n.return);break;case 5:if(cn(e,t),bn(t),r&512&&n!==null&&ji(n,n.return),t.flags&32){var s=t.stateNode;try{Wa(s,"")}catch(w){De(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&RT(s,i),Uf(a,o);var c=Uf(a,i);for(o=0;o<u.length;o+=2){var h=u[o],f=u[o+1];h==="style"?NT(s,f):h==="dangerouslySetInnerHTML"?kT(s,f):h==="children"?Wa(s,f):ym(s,h,f,c)}switch(a){case"input":Of(s,i);break;case"textarea":PT(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?$i(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?$i(s,!!i.multiple,i.defaultValue,!0):$i(s,!!i.multiple,i.multiple?[]:"",!1))}s[tl]=i}catch(w){De(t,t.return,w)}}break;case 6:if(cn(e,t),bn(t),r&4){if(t.stateNode===null)throw Error($(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){De(t,t.return,w)}}break;case 3:if(cn(e,t),bn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ya(e.containerInfo)}catch(w){De(t,t.return,w)}break;case 4:cn(e,t),bn(t);break;case 13:cn(e,t),bn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ym=Me())),r&4&&I_(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(dt=(c=dt)||h,cn(e,t),dt=c):cn(e,t),bn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(K=t,h=t.child;h!==null;){for(f=K=h;K!==null;){switch(p=K,g=p.child,p.tag){case 0:case 11:case 14:case 15:Va(4,p,p.return);break;case 1:ji(p,p.return);var S=p.stateNode;if(typeof S.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(w){De(r,n,w)}}break;case 5:ji(p,p.return);break;case 22:if(p.memoizedState!==null){A_(f);continue}}g!==null?(g.return=p,K=g):A_(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=bT("display",o))}catch(w){De(t,t.return,w)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(w){De(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:cn(e,t),bn(t),r&4&&I_(t);break;case 21:break;default:cn(e,t),bn(t)}}function bn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(rI(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Wa(s,""),r.flags&=-33);var i=T_(t);mp(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=T_(t);pp(t,a,o);break;default:throw Error($(161))}}catch(u){De(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function zx(t,e,n){K=t,oI(t)}function oI(t,e,n){for(var r=(t.mode&1)!==0;K!==null;){var s=K,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Au;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||dt;a=Au;var c=dt;if(Au=o,(dt=u)&&!c)for(K=s;K!==null;)o=K,u=o.child,o.tag===22&&o.memoizedState!==null?C_(s):u!==null?(u.return=o,K=u):C_(s);for(;i!==null;)K=i,oI(i),i=i.sibling;K=s,Au=a,dt=c}S_(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,K=i):S_(t)}}function S_(t){for(;K!==null;){var e=K;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:dt||vh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!dt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:hn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&l_(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}l_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Ya(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}dt||e.flags&512&&fp(e)}catch(p){De(e,e.return,p)}}if(e===t){K=null;break}if(n=e.sibling,n!==null){n.return=e.return,K=n;break}K=e.return}}function A_(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var n=e.sibling;if(n!==null){n.return=e.return,K=n;break}K=e.return}}function C_(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{vh(4,e)}catch(u){De(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){De(e,s,u)}}var i=e.return;try{fp(e)}catch(u){De(e,i,u)}break;case 5:var o=e.return;try{fp(e)}catch(u){De(e,o,u)}}}catch(u){De(e,e.return,u)}if(e===t){K=null;break}var a=e.sibling;if(a!==null){a.return=e.return,K=a;break}K=e.return}}var $x=Math.ceil,bc=Sr.ReactCurrentDispatcher,Km=Sr.ReactCurrentOwner,rn=Sr.ReactCurrentBatchConfig,pe=0,Je=null,je=null,st=0,jt=0,zi=Ps(0),We=0,al=null,oi=0,_h=0,Qm=0,La=null,xt=null,Ym=0,yo=1/0,rr=null,Nc=!1,gp=null,os=null,Cu=!1,Zr=null,Dc=0,Ma=0,yp=null,Qu=-1,Yu=0;function St(){return pe&6?Me():Qu!==-1?Qu:Qu=Me()}function as(t){return t.mode&1?pe&2&&st!==0?st&-st:Ax.transition!==null?(Yu===0&&(Yu=qT()),Yu):(t=ye,t!==0||(t=window.event,t=t===void 0?16:XT(t.type)),t):1}function wn(t,e,n,r){if(50<Ma)throw Ma=0,yp=null,Error($(185));Rl(t,n,r),(!(pe&2)||t!==Je)&&(t===Je&&(!(pe&2)&&(_h|=n),We===4&&zr(t,st)),Ot(t,r),n===1&&pe===0&&!(e.mode&1)&&(yo=Me()+500,mh&&xs()))}function Ot(t,e){var n=t.callbackNode;AP(t,e);var r=gc(t,t===Je?st:0);if(r===0)n!==null&&Vv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Vv(n),e===1)t.tag===0?Sx(R_.bind(null,t)):g0(R_.bind(null,t)),wx(function(){!(pe&6)&&xs()}),n=null;else{switch(HT(r)){case 1:n=Tm;break;case 4:n=$T;break;case 16:n=mc;break;case 536870912:n=BT;break;default:n=mc}n=pI(n,aI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function aI(t,e){if(Qu=-1,Yu=0,pe&6)throw Error($(327));var n=t.callbackNode;if(Gi()&&t.callbackNode!==n)return null;var r=gc(t,t===Je?st:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Oc(t,r);else{e=r;var s=pe;pe|=2;var i=uI();(Je!==t||st!==e)&&(rr=null,yo=Me()+500,ei(t,e));do try{Hx();break}catch(a){lI(t,a)}while(!0);Vm(),bc.current=i,pe=s,je!==null?e=0:(Je=null,st=0,e=We)}if(e!==0){if(e===2&&(s=qf(t),s!==0&&(r=s,e=vp(t,s))),e===1)throw n=al,ei(t,0),zr(t,r),Ot(t,Me()),n;if(e===6)zr(t,r);else{if(s=t.current.alternate,!(r&30)&&!Bx(s)&&(e=Oc(t,r),e===2&&(i=qf(t),i!==0&&(r=i,e=vp(t,i))),e===1))throw n=al,ei(t,0),zr(t,r),Ot(t,Me()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:Us(t,xt,rr);break;case 3:if(zr(t,r),(r&130023424)===r&&(e=Ym+500-Me(),10<e)){if(gc(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){St(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Jf(Us.bind(null,t,xt,rr),e);break}Us(t,xt,rr);break;case 4:if(zr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-_n(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$x(r/1960))-r,10<r){t.timeoutHandle=Jf(Us.bind(null,t,xt,rr),r);break}Us(t,xt,rr);break;case 5:Us(t,xt,rr);break;default:throw Error($(329))}}}return Ot(t,Me()),t.callbackNode===n?aI.bind(null,t):null}function vp(t,e){var n=La;return t.current.memoizedState.isDehydrated&&(ei(t,e).flags|=256),t=Oc(t,e),t!==2&&(e=xt,xt=n,e!==null&&_p(e)),t}function _p(t){xt===null?xt=t:xt.push.apply(xt,t)}function Bx(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Tn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function zr(t,e){for(e&=~Qm,e&=~_h,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_n(e),r=1<<n;t[n]=-1,e&=~r}}function R_(t){if(pe&6)throw Error($(327));Gi();var e=gc(t,0);if(!(e&1))return Ot(t,Me()),null;var n=Oc(t,e);if(t.tag!==0&&n===2){var r=qf(t);r!==0&&(e=r,n=vp(t,r))}if(n===1)throw n=al,ei(t,0),zr(t,e),Ot(t,Me()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Us(t,xt,rr),Ot(t,Me()),null}function Xm(t,e){var n=pe;pe|=1;try{return t(e)}finally{pe=n,pe===0&&(yo=Me()+500,mh&&xs())}}function ai(t){Zr!==null&&Zr.tag===0&&!(pe&6)&&Gi();var e=pe;pe|=1;var n=rn.transition,r=ye;try{if(rn.transition=null,ye=1,t)return t()}finally{ye=r,rn.transition=n,pe=e,!(pe&6)&&xs()}}function Jm(){jt=zi.current,Ae(zi)}function ei(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,_x(n)),je!==null)for(n=je.return;n!==null;){var r=n;switch(Nm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ec();break;case 3:mo(),Ae(Nt),Ae(pt),zm();break;case 5:jm(r);break;case 4:mo();break;case 13:Ae(Re);break;case 19:Ae(Re);break;case 10:Lm(r.type._context);break;case 22:case 23:Jm()}n=n.return}if(Je=t,je=t=ls(t.current,null),st=jt=e,We=0,al=null,Qm=_h=oi=0,xt=La=null,Bs!==null){for(e=0;e<Bs.length;e++)if(n=Bs[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Bs=null}return t}function lI(t,e){do{var n=je;try{if(Vm(),Wu.current=kc,xc){for(var r=Pe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}xc=!1}if(ii=0,Xe=qe=Pe=null,Oa=!1,sl=0,Km.current=null,n===null||n.return===null){We=1,al=e,je=null;break}e:{var i=t,o=n.return,a=n,u=e;if(e=st,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=p_(o);if(g!==null){g.flags&=-257,m_(g,o,a,i,e),g.mode&1&&f_(i,c,e),e=g,u=c;var S=e.updateQueue;if(S===null){var w=new Set;w.add(u),e.updateQueue=w}else S.add(u);break e}else{if(!(e&1)){f_(i,c,e),Zm();break e}u=Error($(426))}}else if(Ce&&a.mode&1){var A=p_(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),m_(A,o,a,i,e),Dm(go(u,a));break e}}i=u=go(u,a),We!==4&&(We=2),La===null?La=[i]:La.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=H0(i,u,e);a_(i,v);break e;case 1:a=u;var y=i.type,I=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(os===null||!os.has(I)))){i.flags|=65536,e&=-e,i.lanes|=e;var N=W0(i,a,e);a_(i,N);break e}}i=i.return}while(i!==null)}hI(n)}catch(O){e=O,je===n&&n!==null&&(je=n=n.return);continue}break}while(!0)}function uI(){var t=bc.current;return bc.current=kc,t===null?kc:t}function Zm(){(We===0||We===3||We===2)&&(We=4),Je===null||!(oi&268435455)&&!(_h&268435455)||zr(Je,st)}function Oc(t,e){var n=pe;pe|=2;var r=uI();(Je!==t||st!==e)&&(rr=null,ei(t,e));do try{qx();break}catch(s){lI(t,s)}while(!0);if(Vm(),pe=n,bc.current=r,je!==null)throw Error($(261));return Je=null,st=0,We}function qx(){for(;je!==null;)cI(je)}function Hx(){for(;je!==null&&!gP();)cI(je)}function cI(t){var e=fI(t.alternate,t,jt);t.memoizedProps=t.pendingProps,e===null?hI(t):je=e,Km.current=null}function hI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Fx(n,e),n!==null){n.flags&=32767,je=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{We=6,je=null;return}}else if(n=Mx(n,e,jt),n!==null){je=n;return}if(e=e.sibling,e!==null){je=e;return}je=e=t}while(e!==null);We===0&&(We=5)}function Us(t,e,n){var r=ye,s=rn.transition;try{rn.transition=null,ye=1,Wx(t,e,n,r)}finally{rn.transition=s,ye=r}return null}function Wx(t,e,n,r){do Gi();while(Zr!==null);if(pe&6)throw Error($(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(CP(t,i),t===Je&&(je=Je=null,st=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Cu||(Cu=!0,pI(mc,function(){return Gi(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=rn.transition,rn.transition=null;var o=ye;ye=1;var a=pe;pe|=4,Km.current=null,jx(t,n),iI(n,t),dx(Yf),yc=!!Qf,Yf=Qf=null,t.current=n,zx(n),yP(),pe=a,ye=o,rn.transition=i}else t.current=n;if(Cu&&(Cu=!1,Zr=t,Dc=s),i=t.pendingLanes,i===0&&(os=null),wP(n.stateNode),Ot(t,Me()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Nc)throw Nc=!1,t=gp,gp=null,t;return Dc&1&&t.tag!==0&&Gi(),i=t.pendingLanes,i&1?t===yp?Ma++:(Ma=0,yp=t):Ma=0,xs(),null}function Gi(){if(Zr!==null){var t=HT(Dc),e=rn.transition,n=ye;try{if(rn.transition=null,ye=16>t?16:t,Zr===null)var r=!1;else{if(t=Zr,Zr=null,Dc=0,pe&6)throw Error($(331));var s=pe;for(pe|=4,K=t.current;K!==null;){var i=K,o=i.child;if(K.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(K=c;K!==null;){var h=K;switch(h.tag){case 0:case 11:case 15:Va(8,h,i)}var f=h.child;if(f!==null)f.return=h,K=f;else for(;K!==null;){h=K;var p=h.sibling,g=h.return;if(nI(h),h===c){K=null;break}if(p!==null){p.return=g,K=p;break}K=g}}}var S=i.alternate;if(S!==null){var w=S.child;if(w!==null){S.child=null;do{var A=w.sibling;w.sibling=null,w=A}while(w!==null)}}K=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,K=o;else e:for(;K!==null;){if(i=K,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Va(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,K=v;break e}K=i.return}}var y=t.current;for(K=y;K!==null;){o=K;var I=o.child;if(o.subtreeFlags&2064&&I!==null)I.return=o,K=I;else e:for(o=y;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:vh(9,a)}}catch(O){De(a,a.return,O)}if(a===o){K=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,K=N;break e}K=a.return}}if(pe=s,xs(),Un&&typeof Un.onPostCommitFiberRoot=="function")try{Un.onPostCommitFiberRoot(ch,t)}catch{}r=!0}return r}finally{ye=n,rn.transition=e}}return!1}function P_(t,e,n){e=go(n,e),e=H0(t,e,1),t=is(t,e,1),e=St(),t!==null&&(Rl(t,1,e),Ot(t,e))}function De(t,e,n){if(t.tag===3)P_(t,t,n);else for(;e!==null;){if(e.tag===3){P_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(os===null||!os.has(r))){t=go(n,t),t=W0(e,t,1),e=is(e,t,1),t=St(),e!==null&&(Rl(e,1,t),Ot(e,t));break}}e=e.return}}function Gx(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=St(),t.pingedLanes|=t.suspendedLanes&n,Je===t&&(st&n)===n&&(We===4||We===3&&(st&130023424)===st&&500>Me()-Ym?ei(t,0):Qm|=n),Ot(t,e)}function dI(t,e){e===0&&(t.mode&1?(e=gu,gu<<=1,!(gu&130023424)&&(gu=4194304)):e=1);var n=St();t=mr(t,e),t!==null&&(Rl(t,e,n),Ot(t,n))}function Kx(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),dI(t,n)}function Qx(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),dI(t,n)}var fI;fI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Nt.current)bt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return bt=!1,Lx(t,e,n);bt=!!(t.flags&131072)}else bt=!1,Ce&&e.flags&1048576&&y0(e,Sc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ku(t,e),t=e.pendingProps;var s=ho(e,pt.current);Wi(e,n),s=Bm(null,e,r,t,s,n);var i=qm();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Dt(r)?(i=!0,Tc(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Fm(e),s.updater=yh,e.stateNode=s,s._reactInternals=e,ip(e,r,t,n),e=lp(null,e,r,!0,i,n)):(e.tag=0,Ce&&i&&bm(e),Et(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ku(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Xx(r),t=hn(r,t),s){case 0:e=ap(null,e,r,t,n);break e;case 1:e=v_(null,e,r,t,n);break e;case 11:e=g_(null,e,r,t,n);break e;case 14:e=y_(null,e,r,hn(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:hn(r,s),ap(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:hn(r,s),v_(t,e,r,s,n);case 3:e:{if(Y0(e),t===null)throw Error($(387));r=e.pendingProps,i=e.memoizedState,s=i.element,I0(t,e),Rc(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=go(Error($(423)),e),e=__(t,e,r,n,s);break e}else if(r!==s){s=go(Error($(424)),e),e=__(t,e,r,n,s);break e}else for($t=ss(e.stateNode.containerInfo.firstChild),qt=e,Ce=!0,yn=null,n=E0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fo(),r===s){e=gr(t,e,n);break e}Et(t,e,r,n)}e=e.child}return e;case 5:return S0(e),t===null&&np(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Xf(r,s)?o=null:i!==null&&Xf(r,i)&&(e.flags|=32),Q0(t,e),Et(t,e,o,n),e.child;case 6:return t===null&&np(e),null;case 13:return X0(t,e,n);case 4:return Um(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=po(e,null,r,n):Et(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:hn(r,s),g_(t,e,r,s,n);case 7:return Et(t,e,e.pendingProps,n),e.child;case 8:return Et(t,e,e.pendingProps.children,n),e.child;case 12:return Et(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ee(Ac,r._currentValue),r._currentValue=o,i!==null)if(Tn(i.value,o)){if(i.children===s.children&&!Nt.current){e=gr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=hr(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),rp(i.return,n,e),a.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error($(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),rp(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Et(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Wi(e,n),s=on(s),r=r(s),e.flags|=1,Et(t,e,r,n),e.child;case 14:return r=e.type,s=hn(r,e.pendingProps),s=hn(r.type,s),y_(t,e,r,s,n);case 15:return G0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:hn(r,s),Ku(t,e),e.tag=1,Dt(r)?(t=!0,Tc(e)):t=!1,Wi(e,n),q0(e,r,s),ip(e,r,s,n),lp(null,e,r,!0,t,n);case 19:return J0(t,e,n);case 22:return K0(t,e,n)}throw Error($(156,e.tag))};function pI(t,e){return zT(t,e)}function Yx(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(t,e,n,r){return new Yx(t,e,n,r)}function eg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xx(t){if(typeof t=="function")return eg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_m)return 11;if(t===wm)return 14}return 2}function ls(t,e){var n=t.alternate;return n===null?(n=nn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Xu(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")eg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case bi:return ti(n.children,s,i,e);case vm:o=8,s|=8;break;case xf:return t=nn(12,n,e,s|2),t.elementType=xf,t.lanes=i,t;case kf:return t=nn(13,n,e,s),t.elementType=kf,t.lanes=i,t;case bf:return t=nn(19,n,e,s),t.elementType=bf,t.lanes=i,t;case ST:return wh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case TT:o=10;break e;case IT:o=9;break e;case _m:o=11;break e;case wm:o=14;break e;case Fr:o=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=nn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ti(t,e,n,r){return t=nn(7,t,r,e),t.lanes=n,t}function wh(t,e,n,r){return t=nn(22,t,r,e),t.elementType=ST,t.lanes=n,t.stateNode={isHidden:!1},t}function ef(t,e,n){return t=nn(6,t,null,e),t.lanes=n,t}function tf(t,e,n){return e=nn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Jx(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vd(0),this.expirationTimes=Vd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vd(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function tg(t,e,n,r,s,i,o,a,u){return t=new Jx(t,e,n,a,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=nn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fm(i),t}function Zx(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ki,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function mI(t){if(!t)return ms;t=t._reactInternals;e:{if(mi(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Dt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(Dt(n))return m0(t,n,e)}return e}function gI(t,e,n,r,s,i,o,a,u){return t=tg(n,r,!0,t,s,i,o,a,u),t.context=mI(null),n=t.current,r=St(),s=as(n),i=hr(r,s),i.callback=e??null,is(n,i,s),t.current.lanes=s,Rl(t,s,r),Ot(t,r),t}function Eh(t,e,n,r){var s=e.current,i=St(),o=as(s);return n=mI(n),e.context===null?e.context=n:e.pendingContext=n,e=hr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=is(s,e,o),t!==null&&(wn(t,s,o,i),Hu(t,s,o)),o}function Vc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function x_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ng(t,e){x_(t,e),(t=t.alternate)&&x_(t,e)}function ek(){return null}var yI=typeof reportError=="function"?reportError:function(t){console.error(t)};function rg(t){this._internalRoot=t}Th.prototype.render=rg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));Eh(t,e,null,null)};Th.prototype.unmount=rg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ai(function(){Eh(null,t,null,null)}),e[pr]=null}};function Th(t){this._internalRoot=t}Th.prototype.unstable_scheduleHydration=function(t){if(t){var e=KT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<jr.length&&e!==0&&e<jr[n].priority;n++);jr.splice(n,0,t),n===0&&YT(t)}};function sg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ih(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function k_(){}function tk(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Vc(o);i.call(c)}}var o=gI(e,r,t,0,null,!1,!1,"",k_);return t._reactRootContainer=o,t[pr]=o.current,Za(t.nodeType===8?t.parentNode:t),ai(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Vc(u);a.call(c)}}var u=tg(t,0,!1,null,null,!1,!1,"",k_);return t._reactRootContainer=u,t[pr]=u.current,Za(t.nodeType===8?t.parentNode:t),ai(function(){Eh(e,u,n,r)}),u}function Sh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=Vc(o);a.call(u)}}Eh(e,o,t,s)}else o=tk(n,e,t,s,r);return Vc(o)}WT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ia(e.pendingLanes);n!==0&&(Im(e,n|1),Ot(e,Me()),!(pe&6)&&(yo=Me()+500,xs()))}break;case 13:ai(function(){var r=mr(t,1);if(r!==null){var s=St();wn(r,t,1,s)}}),ng(t,1)}};Sm=function(t){if(t.tag===13){var e=mr(t,134217728);if(e!==null){var n=St();wn(e,t,134217728,n)}ng(t,134217728)}};GT=function(t){if(t.tag===13){var e=as(t),n=mr(t,e);if(n!==null){var r=St();wn(n,t,e,r)}ng(t,e)}};KT=function(){return ye};QT=function(t,e){var n=ye;try{return ye=t,e()}finally{ye=n}};zf=function(t,e,n){switch(e){case"input":if(Of(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=ph(r);if(!s)throw Error($(90));CT(r),Of(r,s)}}}break;case"textarea":PT(t,n);break;case"select":e=n.value,e!=null&&$i(t,!!n.multiple,e,!1)}};VT=Xm;LT=ai;var nk={usingClientEntryPoint:!1,Events:[xl,Vi,ph,DT,OT,Xm]},ya={findFiberByHostInstance:$s,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rk={bundleType:ya.bundleType,version:ya.version,rendererPackageName:ya.rendererPackageName,rendererConfig:ya.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=UT(t),t===null?null:t.stateNode},findFiberByHostInstance:ya.findFiberByHostInstance||ek,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ru.isDisabled&&Ru.supportsFiber)try{ch=Ru.inject(rk),Un=Ru}catch{}}Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nk;Qt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sg(e))throw Error($(200));return Zx(t,e,null,n)};Qt.createRoot=function(t,e){if(!sg(t))throw Error($(299));var n=!1,r="",s=yI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=tg(t,1,!1,null,null,n,!1,r,s),t[pr]=e.current,Za(t.nodeType===8?t.parentNode:t),new rg(e)};Qt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=UT(e),t=t===null?null:t.stateNode,t};Qt.flushSync=function(t){return ai(t)};Qt.hydrate=function(t,e,n){if(!Ih(e))throw Error($(200));return Sh(null,t,e,!0,n)};Qt.hydrateRoot=function(t,e,n){if(!sg(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=yI;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=gI(e,null,t,1,n??null,s,!1,i,o),t[pr]=e.current,Za(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Th(e)};Qt.render=function(t,e,n){if(!Ih(e))throw Error($(200));return Sh(null,t,e,!1,n)};Qt.unmountComponentAtNode=function(t){if(!Ih(t))throw Error($(40));return t._reactRootContainer?(ai(function(){Sh(null,null,t,!1,function(){t._reactRootContainer=null,t[pr]=null})}),!0):!1};Qt.unstable_batchedUpdates=Xm;Qt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ih(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return Sh(t,e,n,!1,r)};Qt.version="18.3.1-next-f1338f8080-20240426";function vI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vI)}catch(t){console.error(t)}}vI(),vT.exports=Qt;var bl=vT.exports;const sk=oT(bl);var _I,b_=bl;_I=b_.createRoot,b_.hydrateRoot;const ik="modulepreload",ok=function(t){return"/"+t},N_={},gt=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(u=>{if(u=ok(u),u in N_)return;N_[u]=!0;const c=u.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":ik,c||(f.as="script"),f.crossOrigin="",f.href=u,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((p,g)=>{f.addEventListener("load",p),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};function ak(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",u=t.split("/");for(u[0]||u.shift();s=u.shift();)n=s[0],n==="*"?(o.push(n),a+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var wI={exports:{}},EI={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vo=C;function lk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var uk=typeof Object.is=="function"?Object.is:lk,ck=vo.useState,hk=vo.useEffect,dk=vo.useLayoutEffect,fk=vo.useDebugValue;function pk(t,e){var n=e(),r=ck({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return dk(function(){s.value=n,s.getSnapshot=e,nf(s)&&i({inst:s})},[t,n,e]),hk(function(){return nf(s)&&i({inst:s}),t(function(){nf(s)&&i({inst:s})})},[t]),fk(n),n}function nf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!uk(t,n)}catch{return!0}}function mk(t,e){return e()}var gk=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?mk:pk;EI.useSyncExternalStore=vo.useSyncExternalStore!==void 0?vo.useSyncExternalStore:gk;wI.exports=EI;var yk=wI.exports;const vk=pm.useInsertionEffect,_k=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",TI=_k?C.useLayoutEffect:C.useEffect,wk=vk||TI,ig=t=>{const e=C.useRef([t,(...n)=>e[0](...n)]).current;return wk(()=>{e[0]=t}),e[1]},Ek="popstate",og="pushState",ag="replaceState",Tk="hashchange",D_=[Ek,og,ag,Tk],Ik=t=>{for(const e of D_)addEventListener(e,t);return()=>{for(const e of D_)removeEventListener(e,t)}},II=(t,e)=>yk.useSyncExternalStore(Ik,t,e),Sk=()=>location.search,Ak=({ssrSearch:t=""}={})=>II(Sk,()=>t),O_=()=>location.pathname,Ck=({ssrPath:t}={})=>II(O_,t?()=>t:O_),Rk=(t,{replace:e=!1,state:n=null}={})=>history[e?ag:og](n,"",t),Pk=(t={})=>[Ck(t),Rk],V_=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[V_]>"u"){for(const t of[og,ag]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,V_,{value:!0})}const xk=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",SI=(t="")=>t==="/"?"":t,kk=(t,e)=>t[0]==="~"?t.slice(1):SI(e)+t,bk=(t="",e)=>xk(L_(SI(t)),L_(e)),L_=t=>{try{return decodeURI(t)}catch{return t}},AI={hook:Pk,searchHook:Ak,parser:ak,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},CI=C.createContext(AI),bo=()=>C.useContext(CI),RI={},PI=C.createContext(RI),Nk=()=>C.useContext(PI),Nl=t=>{const[e,n]=t.hook(t);return[bk(t.base,e),ig((r,s)=>n(kk(r,t.base),s))]},Dk=()=>Nl(bo()),xI=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=s.exec(n)||[],[a,...u]=o;return a!==void 0?[!0,(()=>{const c=i!==!1?Object.fromEntries(i.map((f,p)=>[f,u[p]])):o.groups;let h={...u};return c&&Object.assign(h,c),h})(),...r?[a]:[]]:[!1,null]},Ok=({children:t,...e})=>{var h,f;const n=bo(),r=e.hook?AI:n;let s=r;const[i,o]=((h=e.ssrPath)==null?void 0:h.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let a=C.useRef({}),u=a.current,c=u;for(let p in r){const g=p==="base"?r[p]+(e[p]||""):e[p]||r[p];u===c&&g!==c[p]&&(a.current=c={...c}),c[p]=g,(g!==r[p]||g!==s[p])&&(s=c)}return C.createElement(CI.Provider,{value:s,children:t})},M_=({children:t,component:e},n)=>e?C.createElement(e,{params:n}):typeof t=="function"?t(n):t,Vk=t=>{let e=C.useRef(RI);const n=e.current;return e.current=Object.keys(t).length!==Object.keys(n).length||Object.entries(t).some(([r,s])=>s!==n[r])?t:n},et=({path:t,nest:e,match:n,...r})=>{const s=bo(),[i]=Nl(s),[o,a,u]=n??xI(s.parser,t,i,e),c=Vk({...Nk(),...a});if(!o)return null;const h=u?C.createElement(Ok,{base:u},M_(r,c)):M_(r,c);return C.createElement(PI.Provider,{value:c,children:h})},Y6=C.forwardRef((t,e)=>{const n=bo(),[r,s]=Nl(n),{to:i="",href:o=i,onClick:a,asChild:u,children:c,className:h,replace:f,state:p,...g}=t,S=ig(A=>{A.ctrlKey||A.metaKey||A.altKey||A.shiftKey||A.button!==0||(a==null||a(A),A.defaultPrevented||(A.preventDefault(),s(o,t)))}),w=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return u&&C.isValidElement(c)?C.cloneElement(c,{onClick:S,href:w}):C.createElement("a",{...g,onClick:S,href:w,className:h!=null&&h.call?h(r===o):h,children:c,ref:e})}),kI=t=>Array.isArray(t)?t.flatMap(e=>kI(e&&e.type===C.Fragment?e.props.children:e)):[t],F_=({children:t,location:e})=>{const n=bo(),[r]=Nl(n);for(const s of kI(t)){let i=0;if(C.isValidElement(s)&&(i=xI(n.parser,s.props.path,e||r,s.props.nest))[0])return C.cloneElement(s,{match:i})}return null},Lk=t=>{const{to:e,href:n=e}=t,r=bo(),[,s]=Nl(r),i=ig(()=>s(e||n,t)),{ssrContext:o}=r;return TI(()=>{i()},[]),o&&(o.redirectTo=e),null};var Ah=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Mk={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Wr,um,XE,Fk=(XE=class{constructor(){he(this,Wr,Mk);he(this,um,!1)}setTimeoutProvider(t){Z(this,Wr,t)}setTimeout(t,e){return U(this,Wr).setTimeout(t,e)}clearTimeout(t){U(this,Wr).clearTimeout(t)}setInterval(t,e){return U(this,Wr).setInterval(t,e)}clearInterval(t){U(this,Wr).clearInterval(t)}},Wr=new WeakMap,um=new WeakMap,XE),wp=new Fk;function Uk(t){setTimeout(t,0)}var Ch=typeof window>"u"||"Deno"in globalThis;function dn(){}function jk(t,e){return typeof t=="function"?t(e):t}function zk(t){return typeof t=="number"&&t>=0&&t!==1/0}function $k(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ep(t,e){return typeof t=="function"?t(e):t}function Bk(t,e){return typeof t=="function"?t(e):t}function U_(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==lg(o,e.options))return!1}else if(!ul(e.queryKey,o))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function j_(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(ll(e.options.mutationKey)!==ll(i))return!1}else if(!ul(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function lg(t,e){return((e==null?void 0:e.queryKeyHashFn)||ll)(t)}function ll(t){return JSON.stringify(t,(e,n)=>Tp(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function ul(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>ul(t[n],e[n])):!1}var qk=Object.prototype.hasOwnProperty;function bI(t,e){if(t===e)return t;const n=z_(t)&&z_(e);if(!n&&!(Tp(t)&&Tp(e)))return e;const s=(n?t:Object.keys(t)).length,i=n?e:Object.keys(e),o=i.length,a=n?new Array(o):{};let u=0;for(let c=0;c<o;c++){const h=n?c:i[c],f=t[h],p=e[h];if(f===p){a[h]=f,(n?c<s:qk.call(t,h))&&u++;continue}if(f===null||p===null||typeof f!="object"||typeof p!="object"){a[h]=p;continue}const g=bI(f,p);a[h]=g,g===f&&u++}return s===o&&u===s?t:a}function X6(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function z_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Tp(t){if(!$_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!$_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function $_(t){return Object.prototype.toString.call(t)==="[object Object]"}function Hk(t){return new Promise(e=>{wp.setTimeout(e,t)})}function Wk(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?bI(t,e):e}function Gk(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Kk(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var ug=Symbol();function NI(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===ug?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function J6(t,e){return typeof t=="function"?t(...e):!!t}var Ks,Gr,no,JE,Qk=(JE=class extends Ah{constructor(){super();he(this,Ks);he(this,Gr);he(this,no);Z(this,no,e=>{if(!Ch&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,Gr)||this.setEventListener(U(this,no))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,Gr))==null||e.call(this),Z(this,Gr,void 0))}setEventListener(e){var n;Z(this,no,e),(n=U(this,Gr))==null||n.call(this),Z(this,Gr,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){U(this,Ks)!==e&&(Z(this,Ks,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof U(this,Ks)=="boolean"?U(this,Ks):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ks=new WeakMap,Gr=new WeakMap,no=new WeakMap,JE),DI=new Qk;function Yk(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var Xk=Uk;function Jk(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=Xk;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(u=>{n(u)})})})};return{batch:a=>{let u;e++;try{u=a()}finally{e--,e||o()}return u},batchCalls:a=>(...u)=>{i(()=>{a(...u)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var It=Jk(),ro,Kr,so,ZE,Zk=(ZE=class extends Ah{constructor(){super();he(this,ro,!0);he(this,Kr);he(this,so);Z(this,so,e=>{if(!Ch&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,Kr)||this.setEventListener(U(this,so))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,Kr))==null||e.call(this),Z(this,Kr,void 0))}setEventListener(e){var n;Z(this,so,e),(n=U(this,Kr))==null||n.call(this),Z(this,Kr,e(this.setOnline.bind(this)))}setOnline(e){U(this,ro)!==e&&(Z(this,ro,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return U(this,ro)}},ro=new WeakMap,Kr=new WeakMap,so=new WeakMap,ZE),Lc=new Zk;function eb(t){return Math.min(1e3*2**t,3e4)}function OI(t){return(t??"online")==="online"?Lc.isOnline():!0}var Ip=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function VI(t){let e=!1,n=0,r;const s=Yk(),i=()=>s.status!=="pending",o=w=>{var A;if(!i()){const v=new Ip(w);p(v),(A=t.onCancel)==null||A.call(t,v)}},a=()=>{e=!0},u=()=>{e=!1},c=()=>DI.isFocused()&&(t.networkMode==="always"||Lc.isOnline())&&t.canRun(),h=()=>OI(t.networkMode)&&t.canRun(),f=w=>{i()||(r==null||r(),s.resolve(w))},p=w=>{i()||(r==null||r(),s.reject(w))},g=()=>new Promise(w=>{var A;r=v=>{(i()||c())&&w(v)},(A=t.onPause)==null||A.call(t)}).then(()=>{var w;r=void 0,i()||(w=t.onContinue)==null||w.call(t)}),S=()=>{if(i())return;let w;const A=n===0?t.initialPromise:void 0;try{w=A??t.fn()}catch(v){w=Promise.reject(v)}Promise.resolve(w).then(f).catch(v=>{var L;if(i())return;const y=t.retry??(Ch?0:3),I=t.retryDelay??eb,N=typeof I=="function"?I(n,v):I,O=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,v);if(e||!O){p(v);return}n++,(L=t.onFail)==null||L.call(t,n,v),Hk(N).then(()=>c()?void 0:g()).then(()=>{e?p(v):S()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:u,canStart:h,start:()=>(h()?S():g().then(S),s)}}var Qs,eT,LI=(eT=class{constructor(){he(this,Qs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),zk(this.gcTime)&&Z(this,Qs,wp.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ch?1/0:5*60*1e3))}clearGcTimeout(){U(this,Qs)&&(wp.clearTimeout(U(this,Qs)),Z(this,Qs,void 0))}},Qs=new WeakMap,eT),Ys,io,Xt,Xs,Qe,Il,Js,pn,nr,tT,tb=(tT=class extends LI{constructor(n){super();he(this,pn);he(this,Ys);he(this,io);he(this,Xt);he(this,Xs);he(this,Qe);he(this,Il);he(this,Js);Z(this,Js,!1),Z(this,Il,n.defaultOptions),this.setOptions(n.options),this.observers=[],Z(this,Xs,n.client),Z(this,Xt,U(this,Xs).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Z(this,Ys,B_(this.options)),this.state=n.state??U(this,Ys),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=U(this,Qe))==null?void 0:n.promise}setOptions(n){if(this.options={...U(this,Il),...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=B_(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),Z(this,Ys,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,Xt).remove(this)}setData(n,r){const s=Wk(this.state.data,n,this.options);return at(this,pn,nr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){at(this,pn,nr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=U(this,Qe))==null?void 0:s.promise;return(i=U(this,Qe))==null||i.cancel(n),r?r.then(dn).catch(dn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,Ys))}isActive(){return this.observers.some(n=>Bk(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ug||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Ep(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!$k(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,Qe))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,Qe))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),U(this,Xt).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(U(this,Qe)&&(U(this,Js)?U(this,Qe).cancel({revert:!0}):U(this,Qe).cancelRetry()),this.scheduleGc()),U(this,Xt).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||at(this,pn,nr).call(this,{type:"invalidate"})}async fetch(n,r){var c,h,f,p,g,S,w,A,v,y,I,N;if(this.state.fetchStatus!=="idle"&&((c=U(this,Qe))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,Qe))return U(this,Qe).continueRetry(),U(this,Qe).promise}if(n&&this.setOptions(n),!this.options.queryFn){const O=this.observers.find(L=>L.options.queryFn);O&&this.setOptions(O.options)}const s=new AbortController,i=O=>{Object.defineProperty(O,"signal",{enumerable:!0,get:()=>(Z(this,Js,!0),s.signal)})},o=()=>{const O=NI(this.options,r),E=(()=>{const _={client:U(this,Xs),queryKey:this.queryKey,meta:this.meta};return i(_),_})();return Z(this,Js,!1),this.options.persister?this.options.persister(O,E,this):O(E)},u=(()=>{const O={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:U(this,Xs),state:this.state,fetchFn:o};return i(O),O})();(h=this.options.behavior)==null||h.onFetch(u,this),Z(this,io,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=u.fetchOptions)==null?void 0:f.meta))&&at(this,pn,nr).call(this,{type:"fetch",meta:(p=u.fetchOptions)==null?void 0:p.meta}),Z(this,Qe,VI({initialPromise:r==null?void 0:r.initialPromise,fn:u.fetchFn,onCancel:O=>{O instanceof Ip&&O.revert&&this.setState({...U(this,io),fetchStatus:"idle"}),s.abort()},onFail:(O,L)=>{at(this,pn,nr).call(this,{type:"failed",failureCount:O,error:L})},onPause:()=>{at(this,pn,nr).call(this,{type:"pause"})},onContinue:()=>{at(this,pn,nr).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0}));try{const O=await U(this,Qe).start();if(O===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(O),(S=(g=U(this,Xt).config).onSuccess)==null||S.call(g,O,this),(A=(w=U(this,Xt).config).onSettled)==null||A.call(w,O,this.state.error,this),O}catch(O){if(O instanceof Ip){if(O.silent)return U(this,Qe).promise;if(O.revert){if(this.state.data===void 0)throw O;return this.state.data}}throw at(this,pn,nr).call(this,{type:"error",error:O}),(y=(v=U(this,Xt).config).onError)==null||y.call(v,O,this),(N=(I=U(this,Xt).config).onSettled)==null||N.call(I,this.state.data,O,this),O}finally{this.scheduleGc()}}},Ys=new WeakMap,io=new WeakMap,Xt=new WeakMap,Xs=new WeakMap,Qe=new WeakMap,Il=new WeakMap,Js=new WeakMap,pn=new WeakSet,nr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...nb(s.data,this.options),fetchMeta:n.meta??null};case"success":const i={...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Z(this,io,n.manual?i:void 0),i;case"error":const o=n.error;return{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),It.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),U(this,Xt).notify({query:this,type:"updated",action:n})})},tT);function nb(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:OI(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function B_(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function q_(t){return{onFetch:(e,n)=>{var h,f,p,g,S;const r=e.options,s=(p=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],o=((S=e.state.data)==null?void 0:S.pageParams)||[];let a={pages:[],pageParams:[]},u=0;const c=async()=>{let w=!1;const A=I=>{Object.defineProperty(I,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},v=NI(e.options,e.fetchOptions),y=async(I,N,O)=>{if(w)return Promise.reject();if(N==null&&I.pages.length)return Promise.resolve(I);const E=(()=>{const k={client:e.client,queryKey:e.queryKey,pageParam:N,direction:O?"backward":"forward",meta:e.options.meta};return A(k),k})(),_=await v(E),{maxPages:R}=e.options,x=O?Kk:Gk;return{pages:x(I.pages,_,R),pageParams:x(I.pageParams,N,R)}};if(s&&i.length){const I=s==="backward",N=I?rb:H_,O={pages:i,pageParams:o},L=N(r,O);a=await y(O,L,I)}else{const I=t??i.length;do{const N=u===0?o[0]??r.initialPageParam:H_(r,a);if(u>0&&N==null)break;a=await y(a,N),u++}while(u<I)}return a};e.options.persister?e.fetchFn=()=>{var w,A;return(A=(w=e.options).persister)==null?void 0:A.call(w,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function H_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function rb(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Sl,On,wt,Zs,Vn,Mr,nT,sb=(nT=class extends LI{constructor(n){super();he(this,Vn);he(this,Sl);he(this,On);he(this,wt);he(this,Zs);Z(this,Sl,n.client),this.mutationId=n.mutationId,Z(this,wt,n.mutationCache),Z(this,On,[]),this.state=n.state||ib(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){U(this,On).includes(n)||(U(this,On).push(n),this.clearGcTimeout(),U(this,wt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Z(this,On,U(this,On).filter(r=>r!==n)),this.scheduleGc(),U(this,wt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){U(this,On).length||(this.state.status==="pending"?this.scheduleGc():U(this,wt).remove(this))}continue(){var n;return((n=U(this,Zs))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var a,u,c,h,f,p,g,S,w,A,v,y,I,N,O,L,E,_,R,x;const r=()=>{at(this,Vn,Mr).call(this,{type:"continue"})},s={client:U(this,Sl),meta:this.options.meta,mutationKey:this.options.mutationKey};Z(this,Zs,VI({fn:()=>this.options.mutationFn?this.options.mutationFn(n,s):Promise.reject(new Error("No mutationFn found")),onFail:(k,b)=>{at(this,Vn,Mr).call(this,{type:"failed",failureCount:k,error:b})},onPause:()=>{at(this,Vn,Mr).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,wt).canRun(this)}));const i=this.state.status==="pending",o=!U(this,Zs).canStart();try{if(i)r();else{at(this,Vn,Mr).call(this,{type:"pending",variables:n,isPaused:o}),await((u=(a=U(this,wt).config).onMutate)==null?void 0:u.call(a,n,this,s));const b=await((h=(c=this.options).onMutate)==null?void 0:h.call(c,n,s));b!==this.state.context&&at(this,Vn,Mr).call(this,{type:"pending",context:b,variables:n,isPaused:o})}const k=await U(this,Zs).start();return await((p=(f=U(this,wt).config).onSuccess)==null?void 0:p.call(f,k,n,this.state.context,this,s)),await((S=(g=this.options).onSuccess)==null?void 0:S.call(g,k,n,this.state.context,s)),await((A=(w=U(this,wt).config).onSettled)==null?void 0:A.call(w,k,null,this.state.variables,this.state.context,this,s)),await((y=(v=this.options).onSettled)==null?void 0:y.call(v,k,null,n,this.state.context,s)),at(this,Vn,Mr).call(this,{type:"success",data:k}),k}catch(k){try{throw await((N=(I=U(this,wt).config).onError)==null?void 0:N.call(I,k,n,this.state.context,this,s)),await((L=(O=this.options).onError)==null?void 0:L.call(O,k,n,this.state.context,s)),await((_=(E=U(this,wt).config).onSettled)==null?void 0:_.call(E,void 0,k,this.state.variables,this.state.context,this,s)),await((x=(R=this.options).onSettled)==null?void 0:x.call(R,void 0,k,n,this.state.context,s)),k}finally{at(this,Vn,Mr).call(this,{type:"error",error:k})}}finally{U(this,wt).runNext(this)}}},Sl=new WeakMap,On=new WeakMap,wt=new WeakMap,Zs=new WeakMap,Vn=new WeakSet,Mr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),It.batch(()=>{U(this,On).forEach(s=>{s.onMutationUpdate(n)}),U(this,wt).notify({mutation:this,type:"updated",action:n})})},nT);function ib(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ir,mn,Al,rT,ob=(rT=class extends Ah{constructor(e={}){super();he(this,ir);he(this,mn);he(this,Al);this.config=e,Z(this,ir,new Set),Z(this,mn,new Map),Z(this,Al,0)}build(e,n,r){const s=new sb({client:e,mutationCache:this,mutationId:++cu(this,Al)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){U(this,ir).add(e);const n=Pu(e);if(typeof n=="string"){const r=U(this,mn).get(n);r?r.push(e):U(this,mn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(U(this,ir).delete(e)){const n=Pu(e);if(typeof n=="string"){const r=U(this,mn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&U(this,mn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Pu(e);if(typeof n=="string"){const r=U(this,mn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Pu(e);if(typeof n=="string"){const s=(r=U(this,mn).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){It.batch(()=>{U(this,ir).forEach(e=>{this.notify({type:"removed",mutation:e})}),U(this,ir).clear(),U(this,mn).clear()})}getAll(){return Array.from(U(this,ir))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>j_(n,r))}findAll(e={}){return this.getAll().filter(n=>j_(e,n))}notify(e){It.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return It.batch(()=>Promise.all(e.map(n=>n.continue().catch(dn))))}},ir=new WeakMap,mn=new WeakMap,Al=new WeakMap,rT);function Pu(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Ln,sT,ab=(sT=class extends Ah{constructor(e={}){super();he(this,Ln);this.config=e,Z(this,Ln,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??lg(s,n);let o=this.get(i);return o||(o=new tb({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){U(this,Ln).has(e.queryHash)||(U(this,Ln).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=U(this,Ln).get(e.queryHash);n&&(e.destroy(),n===e&&U(this,Ln).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){It.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return U(this,Ln).get(e)}getAll(){return[...U(this,Ln).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>U_(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>U_(e,r)):n}notify(e){It.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){It.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){It.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ln=new WeakMap,sT),Ne,Qr,Yr,oo,ao,Xr,lo,uo,iT,lb=(iT=class{constructor(t={}){he(this,Ne);he(this,Qr);he(this,Yr);he(this,oo);he(this,ao);he(this,Xr);he(this,lo);he(this,uo);Z(this,Ne,t.queryCache||new ab),Z(this,Qr,t.mutationCache||new ob),Z(this,Yr,t.defaultOptions||{}),Z(this,oo,new Map),Z(this,ao,new Map),Z(this,Xr,0)}mount(){cu(this,Xr)._++,U(this,Xr)===1&&(Z(this,lo,DI.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,Ne).onFocus())})),Z(this,uo,Lc.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,Ne).onOnline())})))}unmount(){var t,e;cu(this,Xr)._--,U(this,Xr)===0&&((t=U(this,lo))==null||t.call(this),Z(this,lo,void 0),(e=U(this,uo))==null||e.call(this),Z(this,uo,void 0))}isFetching(t){return U(this,Ne).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return U(this,Qr).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,Ne).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=U(this,Ne).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Ep(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return U(this,Ne).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=U(this,Ne).get(r.queryHash),i=s==null?void 0:s.state.data,o=jk(e,i);if(o!==void 0)return U(this,Ne).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return It.batch(()=>U(this,Ne).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,Ne).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=U(this,Ne);It.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=U(this,Ne);return It.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=It.batch(()=>U(this,Ne).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(dn).catch(dn)}invalidateQueries(t,e={}){return It.batch(()=>(U(this,Ne).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=It.batch(()=>U(this,Ne).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(dn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(dn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=U(this,Ne).build(this,e);return n.isStaleByTime(Ep(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(dn).catch(dn)}fetchInfiniteQuery(t){return t.behavior=q_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(dn).catch(dn)}ensureInfiniteQueryData(t){return t.behavior=q_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Lc.isOnline()?U(this,Qr).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,Ne)}getMutationCache(){return U(this,Qr)}getDefaultOptions(){return U(this,Yr)}setDefaultOptions(t){Z(this,Yr,t)}setQueryDefaults(t,e){U(this,oo).set(ll(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...U(this,oo).values()],n={};return e.forEach(r=>{ul(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){U(this,ao).set(ll(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...U(this,ao).values()],n={};return e.forEach(r=>{ul(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...U(this,Yr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=lg(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===ug&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...U(this,Yr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){U(this,Ne).clear(),U(this,Qr).clear()}},Ne=new WeakMap,Qr=new WeakMap,Yr=new WeakMap,oo=new WeakMap,ao=new WeakMap,Xr=new WeakMap,lo=new WeakMap,uo=new WeakMap,iT),MI=C.createContext(void 0),tj=t=>{const e=C.useContext(MI);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},ub=({client:t,children:e})=>(C.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),D.jsx(MI.Provider,{value:t,children:e}));class cb extends Error{constructor(e){super(e),this.name=this.constructor.name}}class hb extends cb{constructor(e,n){super(e),this.status=n,this.status=n}}const FI=t=>(t instanceof hb?console.error(`API Error (${t.status}): ${t.message}`):t instanceof Error&&console.error(`An unexpected error occurred: ${t.message}`),t),zs=class zs{constructor(){}static getInstance(){return zs.instance||(zs.instance=new zs),zs.instance}handleError(e,n={}){const{logToConsole:r=!0,reportToService:s=!1}=n;r&&console.error("Caught by ErrorHandler:",e),s&&console.log("Reporting error to service...",e)}};un(zs,"instance");let Sp=zs;async function UI(t){if(!t.ok){const e=await t.text()||t.statusText,n={response:{status:t.status,data:{message:e}},request:null,message:e,config:{url:t.url,method:"GET"}};throw FI(n)}}async function nj(t,e,n){try{const r=await fetch(e,{method:t,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});return await UI(r),r}catch(r){throw r.code?r:FI(r)}}const db=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return await UI(n),await n.json()},fb=new lb({defaultOptions:{queries:{queryFn:db({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),pb=1,mb=1e6;let rf=0;function gb(){return rf=(rf+1)%Number.MAX_SAFE_INTEGER,rf.toString()}const sf=new Map,W_=t=>{if(sf.has(t))return;const e=setTimeout(()=>{sf.delete(t),Fa({type:"REMOVE_TOAST",toastId:t})},mb);sf.set(t,e)},yb=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,pb)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?W_(n):t.toasts.forEach(r=>{W_(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Ju=[];let Zu={toasts:[]};function Fa(t){Zu=yb(Zu,t),Ju.forEach(e=>{e(Zu)})}function vb({...t}){const e=gb(),n=s=>Fa({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Fa({type:"DISMISS_TOAST",toastId:e});return Fa({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function _b(){const[t,e]=C.useState(Zu);return C.useEffect(()=>(Ju.push(e),()=>{const n=Ju.indexOf(e);n>-1&&Ju.splice(n,1)}),[t]),{...t,toast:vb,dismiss:n=>Fa({type:"DISMISS_TOAST",toastId:n})}}function He(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function G_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function jI(...t){return e=>{let n=!1;const r=t.map(s=>{const i=G_(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():G_(t[s],null)}}}}function In(...t){return C.useCallback(jI(...t),t)}function rj(t,e){const n=C.createContext(e),r=i=>{const{children:o,...a}=i,u=C.useMemo(()=>a,Object.values(a));return D.jsx(n.Provider,{value:u,children:o})};r.displayName=t+"Provider";function s(i){const o=C.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Rh(t,e=[]){let n=[];function r(i,o){const a=C.createContext(o),u=n.length;n=[...n,o];const c=f=>{var v;const{scope:p,children:g,...S}=f,w=((v=p==null?void 0:p[t])==null?void 0:v[u])||a,A=C.useMemo(()=>S,Object.values(S));return D.jsx(w.Provider,{value:A,children:g})};c.displayName=i+"Provider";function h(f,p){var w;const g=((w=p==null?void 0:p[t])==null?void 0:w[u])||a,S=C.useContext(g);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,h]}const s=()=>{const i=n.map(o=>C.createContext(o));return function(a){const u=(a==null?void 0:a[t])||i;return C.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return s.scopeName=t,[r,wb(s,...e)]}function wb(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:u,scopeName:c})=>{const f=u(i)[`__scope${c}`];return{...a,...f}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Mc(t){const e=Tb(t),n=C.forwardRef((r,s)=>{const{children:i,...o}=r,a=C.Children.toArray(i),u=a.find(Sb);if(u){const c=u.props.children,h=a.map(f=>f===u?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:f);return D.jsx(e,{...o,ref:s,children:C.isValidElement(c)?C.cloneElement(c,void 0,h):null})}return D.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var Eb=Mc("Slot");function Tb(t){const e=C.forwardRef((n,r)=>{const{children:s,...i}=n;if(C.isValidElement(s)){const o=Cb(s),a=Ab(i,s.props);return s.type!==C.Fragment&&(a.ref=r?jI(r,o):o),C.cloneElement(s,a)}return C.Children.count(s)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var zI=Symbol("radix.slottable");function Ib(t){const e=({children:n})=>D.jsx(D.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=zI,e}function Sb(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===zI}function Ab(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const u=i(...a);return s(...a),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function Cb(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Rb(t){const e=t+"CollectionProvider",[n,r]=Rh(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:A,children:v}=w,y=Lr.useRef(null),I=Lr.useRef(new Map).current;return D.jsx(s,{scope:A,itemMap:I,collectionRef:y,children:v})};o.displayName=e;const a=t+"CollectionSlot",u=Mc(a),c=Lr.forwardRef((w,A)=>{const{scope:v,children:y}=w,I=i(a,v),N=In(A,I.collectionRef);return D.jsx(u,{ref:N,children:y})});c.displayName=a;const h=t+"CollectionItemSlot",f="data-radix-collection-item",p=Mc(h),g=Lr.forwardRef((w,A)=>{const{scope:v,children:y,...I}=w,N=Lr.useRef(null),O=In(A,N),L=i(h,v);return Lr.useEffect(()=>(L.itemMap.set(N,{ref:N,...I}),()=>void L.itemMap.delete(N))),D.jsx(p,{[f]:"",ref:O,children:y})});g.displayName=h;function S(w){const A=i(t+"CollectionConsumer",w);return Lr.useCallback(()=>{const y=A.collectionRef.current;if(!y)return[];const I=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(A.itemMap.values()).sort((L,E)=>I.indexOf(L.ref.current)-I.indexOf(E.ref.current))},[A.collectionRef,A.itemMap])}return[{Provider:o,Slot:c,ItemSlot:g},S,r]}var Pb=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Lt=Pb.reduce((t,e)=>{const n=Mc(`Primitive.${e}`),r=C.forwardRef((s,i)=>{const{asChild:o,...a}=s,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),D.jsx(u,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function $I(t,e){t&&bl.flushSync(()=>t.dispatchEvent(e))}function gs(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t}),C.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function xb(t,e=globalThis==null?void 0:globalThis.document){const n=gs(t);C.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var kb="DismissableLayer",Ap="dismissableLayer.update",bb="dismissableLayer.pointerDownOutside",Nb="dismissableLayer.focusOutside",K_,BI=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),cg=C.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...u}=t,c=C.useContext(BI),[h,f]=C.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=C.useState({}),S=In(e,E=>f(E)),w=Array.from(c.layers),[A]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=w.indexOf(A),y=h?w.indexOf(h):-1,I=c.layersWithOutsidePointerEventsDisabled.size>0,N=y>=v,O=Ob(E=>{const _=E.target,R=[...c.branches].some(x=>x.contains(_));!N||R||(s==null||s(E),o==null||o(E),E.defaultPrevented||a==null||a())},p),L=Vb(E=>{const _=E.target;[...c.branches].some(x=>x.contains(_))||(i==null||i(E),o==null||o(E),E.defaultPrevented||a==null||a())},p);return xb(E=>{y===c.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&a&&(E.preventDefault(),a()))},p),C.useEffect(()=>{if(h)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(K_=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(h)),c.layers.add(h),Q_(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=K_)}},[h,p,n,c]),C.useEffect(()=>()=>{h&&(c.layers.delete(h),c.layersWithOutsidePointerEventsDisabled.delete(h),Q_())},[h,c]),C.useEffect(()=>{const E=()=>g({});return document.addEventListener(Ap,E),()=>document.removeEventListener(Ap,E)},[]),D.jsx(Lt.div,{...u,ref:S,style:{pointerEvents:I?N?"auto":"none":void 0,...t.style},onFocusCapture:He(t.onFocusCapture,L.onFocusCapture),onBlurCapture:He(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:He(t.onPointerDownCapture,O.onPointerDownCapture)})});cg.displayName=kb;var Db="DismissableLayerBranch",qI=C.forwardRef((t,e)=>{const n=C.useContext(BI),r=C.useRef(null),s=In(e,r);return C.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),D.jsx(Lt.div,{...t,ref:s})});qI.displayName=Db;function Ob(t,e=globalThis==null?void 0:globalThis.document){const n=gs(t),r=C.useRef(!1),s=C.useRef(()=>{});return C.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let u=function(){HI(bb,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=u,e.addEventListener("click",s.current,{once:!0})):u()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Vb(t,e=globalThis==null?void 0:globalThis.document){const n=gs(t),r=C.useRef(!1);return C.useEffect(()=>{const s=i=>{i.target&&!r.current&&HI(Nb,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Q_(){const t=new CustomEvent(Ap);document.dispatchEvent(t)}function HI(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?$I(s,i):s.dispatchEvent(i)}var Lb=cg,Mb=qI,yr=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},Fb="Portal",WI=C.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=C.useState(!1);yr(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?sk.createPortal(D.jsx(Lt.div,{...r,ref:e}),o):null});WI.displayName=Fb;function Ub(t,e){return C.useReducer((n,r)=>e[n][r]??n,t)}var hg=t=>{const{present:e,children:n}=t,r=jb(e),s=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),i=In(r.ref,zb(s));return typeof n=="function"||r.isPresent?C.cloneElement(s,{ref:i}):null};hg.displayName="Presence";function jb(t){const[e,n]=C.useState(),r=C.useRef(null),s=C.useRef(t),i=C.useRef("none"),o=t?"mounted":"unmounted",[a,u]=Ub(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const c=xu(r.current);i.current=a==="mounted"?c:"none"},[a]),yr(()=>{const c=r.current,h=s.current;if(h!==t){const p=i.current,g=xu(c);t?u("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?u("UNMOUNT"):u(h&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,u]),yr(()=>{if(e){let c;const h=e.ownerDocument.defaultView??window,f=g=>{const w=xu(r.current).includes(CSS.escape(g.animationName));if(g.target===e&&w&&(u("ANIMATION_END"),!s.current)){const A=e.style.animationFillMode;e.style.animationFillMode="forwards",c=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=A)})}},p=g=>{g.target===e&&(i.current=xu(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:C.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function xu(t){return(t==null?void 0:t.animationName)||"none"}function zb(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var $b=pm[" useInsertionEffect ".trim().toString()]||yr;function GI({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=Bb({defaultProp:e,onChange:n}),a=t!==void 0,u=a?t:s;{const h=C.useRef(t!==void 0);C.useEffect(()=>{const f=h.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const c=C.useCallback(h=>{var f;if(a){const p=qb(h)?h(t):h;p!==t&&((f=o.current)==null||f.call(o,p))}else i(h)},[a,t,i,o]);return[u,c]}function Bb({defaultProp:t,onChange:e}){const[n,r]=C.useState(t),s=C.useRef(n),i=C.useRef(e);return $b(()=>{i.current=e},[e]),C.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function qb(t){return typeof t=="function"}var Hb=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Wb="VisuallyHidden",Ph=C.forwardRef((t,e)=>D.jsx(Lt.span,{...t,ref:e,style:{...Hb,...t.style}}));Ph.displayName=Wb;var Gb=Ph,dg="ToastProvider",[fg,Kb,Qb]=Rb("Toast"),[KI]=Rh("Toast",[Qb]),[Yb,xh]=KI(dg),QI=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,u]=C.useState(null),[c,h]=C.useState(0),f=C.useRef(!1),p=C.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${dg}\`. Expected non-empty \`string\`.`),D.jsx(fg.Provider,{scope:e,children:D.jsx(Yb,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:u,onToastAdd:C.useCallback(()=>h(g=>g+1),[]),onToastRemove:C.useCallback(()=>h(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};QI.displayName=dg;var YI="ToastViewport",Xb=["F8"],Cp="toast.viewportPause",Rp="toast.viewportResume",XI=C.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=Xb,label:s="Notifications ({hotkey})",...i}=t,o=xh(YI,n),a=Kb(n),u=C.useRef(null),c=C.useRef(null),h=C.useRef(null),f=C.useRef(null),p=In(e,f,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=o.toastCount>0;C.useEffect(()=>{const A=v=>{var I;r.length!==0&&r.every(N=>v[N]||v.code===N)&&((I=f.current)==null||I.focus())};return document.addEventListener("keydown",A),()=>document.removeEventListener("keydown",A)},[r]),C.useEffect(()=>{const A=u.current,v=f.current;if(S&&A&&v){const y=()=>{if(!o.isClosePausedRef.current){const L=new CustomEvent(Cp);v.dispatchEvent(L),o.isClosePausedRef.current=!0}},I=()=>{if(o.isClosePausedRef.current){const L=new CustomEvent(Rp);v.dispatchEvent(L),o.isClosePausedRef.current=!1}},N=L=>{!A.contains(L.relatedTarget)&&I()},O=()=>{A.contains(document.activeElement)||I()};return A.addEventListener("focusin",y),A.addEventListener("focusout",N),A.addEventListener("pointermove",y),A.addEventListener("pointerleave",O),window.addEventListener("blur",y),window.addEventListener("focus",I),()=>{A.removeEventListener("focusin",y),A.removeEventListener("focusout",N),A.removeEventListener("pointermove",y),A.removeEventListener("pointerleave",O),window.removeEventListener("blur",y),window.removeEventListener("focus",I)}}},[S,o.isClosePausedRef]);const w=C.useCallback(({tabbingDirection:A})=>{const y=a().map(I=>{const N=I.ref.current,O=[N,...cN(N)];return A==="forwards"?O:O.reverse()});return(A==="forwards"?y.reverse():y).flat()},[a]);return C.useEffect(()=>{const A=f.current;if(A){const v=y=>{var O,L,E;const I=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!I){const _=document.activeElement,R=y.shiftKey;if(y.target===A&&R){(O=c.current)==null||O.focus();return}const b=w({tabbingDirection:R?"backwards":"forwards"}),P=b.findIndex(H=>H===_);of(b.slice(P+1))?y.preventDefault():R?(L=c.current)==null||L.focus():(E=h.current)==null||E.focus()}};return A.addEventListener("keydown",v),()=>A.removeEventListener("keydown",v)}},[a,w]),D.jsxs(Mb,{ref:u,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&D.jsx(Pp,{ref:c,onFocusFromOutsideViewport:()=>{const A=w({tabbingDirection:"forwards"});of(A)}}),D.jsx(fg.Slot,{scope:n,children:D.jsx(Lt.ol,{tabIndex:-1,...i,ref:p})}),S&&D.jsx(Pp,{ref:h,onFocusFromOutsideViewport:()=>{const A=w({tabbingDirection:"backwards"});of(A)}})]})});XI.displayName=YI;var JI="ToastFocusProxy",Pp=C.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=xh(JI,n);return D.jsx(Ph,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});Pp.displayName=JI;var Dl="Toast",Jb="toast.swipeStart",Zb="toast.swipeMove",eN="toast.swipeCancel",tN="toast.swipeEnd",ZI=C.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,u]=GI({prop:r,defaultProp:s??!0,onChange:i,caller:Dl});return D.jsx(hg,{present:n||a,children:D.jsx(sN,{open:a,...o,ref:e,onClose:()=>u(!1),onPause:gs(t.onPause),onResume:gs(t.onResume),onSwipeStart:He(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:He(t.onSwipeMove,c=>{const{x:h,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:He(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:He(t.onSwipeEnd,c=>{const{x:h,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),u(!1)})})})});ZI.displayName=Dl;var[nN,rN]=KI(Dl,{onClose(){}}),sN=C.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:u,onResume:c,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:g,...S}=t,w=xh(Dl,n),[A,v]=C.useState(null),y=In(e,H=>v(H)),I=C.useRef(null),N=C.useRef(null),O=s||w.duration,L=C.useRef(0),E=C.useRef(O),_=C.useRef(0),{onToastAdd:R,onToastRemove:x}=w,k=gs(()=>{var ie;(A==null?void 0:A.contains(document.activeElement))&&((ie=w.viewport)==null||ie.focus()),o()}),b=C.useCallback(H=>{!H||H===1/0||(window.clearTimeout(_.current),L.current=new Date().getTime(),_.current=window.setTimeout(k,H))},[k]);C.useEffect(()=>{const H=w.viewport;if(H){const ie=()=>{b(E.current),c==null||c()},oe=()=>{const de=new Date().getTime()-L.current;E.current=E.current-de,window.clearTimeout(_.current),u==null||u()};return H.addEventListener(Cp,oe),H.addEventListener(Rp,ie),()=>{H.removeEventListener(Cp,oe),H.removeEventListener(Rp,ie)}}},[w.viewport,O,u,c,b]),C.useEffect(()=>{i&&!w.isClosePausedRef.current&&b(O)},[i,O,w.isClosePausedRef,b]),C.useEffect(()=>(R(),()=>x()),[R,x]);const P=C.useMemo(()=>A?oS(A):null,[A]);return w.viewport?D.jsxs(D.Fragment,{children:[P&&D.jsx(iN,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:P}),D.jsx(nN,{scope:n,onClose:k,children:bl.createPortal(D.jsx(fg.ItemSlot,{scope:n,children:D.jsx(Lb,{asChild:!0,onEscapeKeyDown:He(a,()=>{w.isFocusedToastEscapeKeyDownRef.current||k(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:D.jsx(Lt.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":w.swipeDirection,...S,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:He(t.onKeyDown,H=>{H.key==="Escape"&&(a==null||a(H.nativeEvent),H.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:He(t.onPointerDown,H=>{H.button===0&&(I.current={x:H.clientX,y:H.clientY})}),onPointerMove:He(t.onPointerMove,H=>{if(!I.current)return;const ie=H.clientX-I.current.x,oe=H.clientY-I.current.y,de=!!N.current,j=["left","right"].includes(w.swipeDirection),W=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,Y=j?W(0,ie):0,ne=j?0:W(0,oe),ve=H.pointerType==="touch"?10:2,Rt={x:Y,y:ne},Ze={originalEvent:H,delta:Rt};de?(N.current=Rt,ku(Zb,f,Ze,{discrete:!1})):Y_(Rt,w.swipeDirection,ve)?(N.current=Rt,ku(Jb,h,Ze,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(ie)>ve||Math.abs(oe)>ve)&&(I.current=null)}),onPointerUp:He(t.onPointerUp,H=>{const ie=N.current,oe=H.target;if(oe.hasPointerCapture(H.pointerId)&&oe.releasePointerCapture(H.pointerId),N.current=null,I.current=null,ie){const de=H.currentTarget,j={originalEvent:H,delta:ie};Y_(ie,w.swipeDirection,w.swipeThreshold)?ku(tN,g,j,{discrete:!0}):ku(eN,p,j,{discrete:!0}),de.addEventListener("click",W=>W.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),iN=t=>{const{__scopeToast:e,children:n,...r}=t,s=xh(Dl,e),[i,o]=C.useState(!1),[a,u]=C.useState(!1);return lN(()=>o(!0)),C.useEffect(()=>{const c=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:D.jsx(WI,{asChild:!0,children:D.jsx(Ph,{...r,children:i&&D.jsxs(D.Fragment,{children:[s.label," ",n]})})})},oN="ToastTitle",eS=C.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return D.jsx(Lt.div,{...r,ref:e})});eS.displayName=oN;var aN="ToastDescription",tS=C.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return D.jsx(Lt.div,{...r,ref:e})});tS.displayName=aN;var nS="ToastAction",rS=C.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?D.jsx(iS,{altText:n,asChild:!0,children:D.jsx(pg,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${nS}\`. Expected non-empty \`string\`.`),null)});rS.displayName=nS;var sS="ToastClose",pg=C.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=rN(sS,n);return D.jsx(iS,{asChild:!0,children:D.jsx(Lt.button,{type:"button",...r,ref:e,onClick:He(t.onClick,s.onClose)})})});pg.displayName=sS;var iS=C.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return D.jsx(Lt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function oS(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),uN(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...oS(r))}}),e}function ku(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?$I(s,i):s.dispatchEvent(i)}var Y_=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function lN(t=()=>{}){const e=gs(t);yr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function uN(t){return t.nodeType===t.ELEMENT_NODE}function cN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function of(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var hN=QI,aS=XI,lS=ZI,uS=eS,cS=tS,hS=rS,dS=pg;function fS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=fS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function pS(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=fS(t))&&(r&&(r+=" "),r+=e);return r}const X_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,J_=pS,mS=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return J_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const h=n==null?void 0:n[c],f=i==null?void 0:i[c];if(h===null)return null;const p=X_(h)||X_(f);return s[c][p]}),a=n&&Object.entries(n).reduce((c,h)=>{let[f,p]=h;return p===void 0||(c[f]=p),c},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,h)=>{let{class:f,className:p,...g}=h;return Object.entries(g).every(S=>{let[w,A]=S;return Array.isArray(A)?A.includes({...i,...a}[w]):{...i,...a}[w]===A})?[...c,f,p]:c},[]);return J_(t,o,u,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gS=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},u)=>C.createElement("svg",{ref:u,...fN,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:gS("lucide",s),...a},[...o.map(([c,h])=>C.createElement(c,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=(t,e)=>{const n=C.forwardRef(({className:r,...s},i)=>C.createElement(pN,{ref:i,iconNode:e,className:gS(`lucide-${dN(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=kh("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=kh("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=kh("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=kh("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),mg="-",vN=t=>{const e=wN(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(mg);return a[0]===""&&a.length!==1&&a.shift(),yS(a,e)||_N(o)},getConflictingClassGroupIds:(o,a)=>{const u=n[o]||[];return a&&r[o]?[...u,...r[o]]:u}}},yS=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?yS(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(mg);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},ew=/^\[(.+)\]$/,_N=t=>{if(ew.test(t)){const e=ew.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},wN=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return TN(Object.entries(t.classGroups),n).forEach(([i,o])=>{xp(o,r,i,e)}),r},xp=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:tw(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(EN(s)){xp(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{xp(o,tw(e,i),n,r)})})},tw=(t,e)=>{let n=t;return e.split(mg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},EN=t=>t.isThemeGetter,TN=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,IN=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},vS="!",SN=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const u=[];let c=0,h=0,f;for(let A=0;A<a.length;A++){let v=a[A];if(c===0){if(v===s&&(r||a.slice(A,A+i)===e)){u.push(a.slice(h,A)),h=A+i;continue}if(v==="/"){f=A;continue}}v==="["?c++:v==="]"&&c--}const p=u.length===0?a:a.substring(h),g=p.startsWith(vS),S=g?p.substring(1):p,w=f&&f>h?f-h:void 0;return{modifiers:u,hasImportantModifier:g,baseClassName:S,maybePostfixModifierPosition:w}};return n?a=>n({className:a,parseClassName:o}):o},AN=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},CN=t=>({cache:IN(t.cacheSize),parseClassName:SN(t),...vN(t)}),RN=/\s+/,PN=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(RN);let a="";for(let u=o.length-1;u>=0;u-=1){const c=o[u],{modifiers:h,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:g}=n(c);let S=!!g,w=r(S?p.substring(0,g):p);if(!w){if(!S){a=c+(a.length>0?" "+a:a);continue}if(w=r(p),!w){a=c+(a.length>0?" "+a:a);continue}S=!1}const A=AN(h).join(":"),v=f?A+vS:A,y=v+w;if(i.includes(y))continue;i.push(y);const I=s(w,S);for(let N=0;N<I.length;++N){const O=I[N];i.push(v+O)}a=c+(a.length>0?" "+a:a)}return a};function xN(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=_S(e))&&(r&&(r+=" "),r+=n);return r}const _S=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=_S(t[r]))&&(n&&(n+=" "),n+=e);return n};function kN(t,...e){let n,r,s,i=o;function o(u){const c=e.reduce((h,f)=>f(h),t());return n=CN(c),r=n.cache.get,s=n.cache.set,i=a,a(u)}function a(u){const c=r(u);if(c)return c;const h=PN(u,n);return s(u,h),h}return function(){return i(xN.apply(null,arguments))}}const Ie=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},wS=/^\[(?:([a-z-]+):)?(.+)\]$/i,bN=/^\d+\/\d+$/,NN=new Set(["px","full","screen"]),DN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ON=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,VN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,LN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,MN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,tr=t=>Ki(t)||NN.has(t)||bN.test(t),Dr=t=>No(t,"length",HN),Ki=t=>!!t&&!Number.isNaN(Number(t)),af=t=>No(t,"number",Ki),va=t=>!!t&&Number.isInteger(Number(t)),FN=t=>t.endsWith("%")&&Ki(t.slice(0,-1)),re=t=>wS.test(t),Or=t=>DN.test(t),UN=new Set(["length","size","percentage"]),jN=t=>No(t,UN,ES),zN=t=>No(t,"position",ES),$N=new Set(["image","url"]),BN=t=>No(t,$N,GN),qN=t=>No(t,"",WN),_a=()=>!0,No=(t,e,n)=>{const r=wS.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},HN=t=>ON.test(t)&&!VN.test(t),ES=()=>!1,WN=t=>LN.test(t),GN=t=>MN.test(t),KN=()=>{const t=Ie("colors"),e=Ie("spacing"),n=Ie("blur"),r=Ie("brightness"),s=Ie("borderColor"),i=Ie("borderRadius"),o=Ie("borderSpacing"),a=Ie("borderWidth"),u=Ie("contrast"),c=Ie("grayscale"),h=Ie("hueRotate"),f=Ie("invert"),p=Ie("gap"),g=Ie("gradientColorStops"),S=Ie("gradientColorStopPositions"),w=Ie("inset"),A=Ie("margin"),v=Ie("opacity"),y=Ie("padding"),I=Ie("saturate"),N=Ie("scale"),O=Ie("sepia"),L=Ie("skew"),E=Ie("space"),_=Ie("translate"),R=()=>["auto","contain","none"],x=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",re,e],b=()=>[re,e],P=()=>["",tr,Dr],H=()=>["auto",Ki,re],ie=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],oe=()=>["solid","dashed","dotted","double","none"],de=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],W=()=>["","0",re],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[Ki,re];return{cacheSize:500,separator:":",theme:{colors:[_a],spacing:[tr,Dr],blur:["none","",Or,re],brightness:ne(),borderColor:[t],borderRadius:["none","","full",Or,re],borderSpacing:b(),borderWidth:P(),contrast:ne(),grayscale:W(),hueRotate:ne(),invert:W(),gap:b(),gradientColorStops:[t],gradientColorStopPositions:[FN,Dr],inset:k(),margin:k(),opacity:ne(),padding:b(),saturate:ne(),scale:ne(),sepia:W(),skew:ne(),space:b(),translate:b()},classGroups:{aspect:[{aspect:["auto","square","video",re]}],container:["container"],columns:[{columns:[Or]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ie(),re]}],overflow:[{overflow:x()}],"overflow-x":[{"overflow-x":x()}],"overflow-y":[{"overflow-y":x()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",va,re]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",re]}],grow:[{grow:W()}],shrink:[{shrink:W()}],order:[{order:["first","last","none",va,re]}],"grid-cols":[{"grid-cols":[_a]}],"col-start-end":[{col:["auto",{span:["full",va,re]},re]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[_a]}],"row-start-end":[{row:["auto",{span:[va,re]},re]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",re]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",re]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[A]}],mx:[{mx:[A]}],my:[{my:[A]}],ms:[{ms:[A]}],me:[{me:[A]}],mt:[{mt:[A]}],mr:[{mr:[A]}],mb:[{mb:[A]}],ml:[{ml:[A]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",re,e]}],"min-w":[{"min-w":[re,e,"min","max","fit"]}],"max-w":[{"max-w":[re,e,"none","full","min","max","fit","prose",{screen:[Or]},Or]}],h:[{h:[re,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[re,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[re,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[re,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Or,Dr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",af]}],"font-family":[{font:[_a]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",re]}],"line-clamp":[{"line-clamp":["none",Ki,af]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",tr,re]}],"list-image":[{"list-image":["none",re]}],"list-style-type":[{list:["none","disc","decimal",re]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...oe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",tr,Dr]}],"underline-offset":[{"underline-offset":["auto",tr,re]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:b()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ie(),zN]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",jN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},BN]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...oe(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:oe()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...oe()]}],"outline-offset":[{"outline-offset":[tr,re]}],"outline-w":[{outline:[tr,Dr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[tr,Dr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Or,qN]}],"shadow-color":[{shadow:[_a]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...de(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":de()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Or,re]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[I]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[I]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",re]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",re]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",re]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[va,re]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",re]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",re]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":b()}],"scroll-mx":[{"scroll-mx":b()}],"scroll-my":[{"scroll-my":b()}],"scroll-ms":[{"scroll-ms":b()}],"scroll-me":[{"scroll-me":b()}],"scroll-mt":[{"scroll-mt":b()}],"scroll-mr":[{"scroll-mr":b()}],"scroll-mb":[{"scroll-mb":b()}],"scroll-ml":[{"scroll-ml":b()}],"scroll-p":[{"scroll-p":b()}],"scroll-px":[{"scroll-px":b()}],"scroll-py":[{"scroll-py":b()}],"scroll-ps":[{"scroll-ps":b()}],"scroll-pe":[{"scroll-pe":b()}],"scroll-pt":[{"scroll-pt":b()}],"scroll-pr":[{"scroll-pr":b()}],"scroll-pb":[{"scroll-pb":b()}],"scroll-pl":[{"scroll-pl":b()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",re]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[tr,Dr,af]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},QN=kN(KN);function Mt(...t){return QN(pS(t))}const YN=hN,TS=C.forwardRef(({className:t,...e},n)=>D.jsx(aS,{ref:n,className:Mt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));TS.displayName=aS.displayName;const XN=mS("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),IS=C.forwardRef(({className:t,variant:e,...n},r)=>D.jsx(lS,{ref:r,className:Mt(XN({variant:e}),t),...n}));IS.displayName=lS.displayName;const JN=C.forwardRef(({className:t,...e},n)=>D.jsx(hS,{ref:n,className:Mt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));JN.displayName=hS.displayName;const SS=C.forwardRef(({className:t,...e},n)=>D.jsx(dS,{ref:n,className:Mt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:D.jsx(yN,{className:"h-4 w-4"})}));SS.displayName=dS.displayName;const AS=C.forwardRef(({className:t,...e},n)=>D.jsx(uS,{ref:n,className:Mt("text-sm font-semibold",t),...e}));AS.displayName=uS.displayName;const CS=C.forwardRef(({className:t,...e},n)=>D.jsx(cS,{ref:n,className:Mt("text-sm opacity-90",t),...e}));CS.displayName=cS.displayName;function ZN(){const{toasts:t}=_b();return D.jsxs(YN,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return D.jsxs(IS,{...i,children:[D.jsxs("div",{className:"grid gap-1",children:[n&&D.jsx(AS,{children:n}),r&&D.jsx(CS,{children:r})]}),s,D.jsx(SS,{})]},e)}),D.jsx(TS,{})]})}var eD=pm[" useId ".trim().toString()]||(()=>{}),tD=0;function nD(t){const[e,n]=C.useState(eD());return yr(()=>{n(r=>r??String(tD++))},[t]),t||(e?`radix-${e}`:"")}const rD=["top","right","bottom","left"],ys=Math.min,zt=Math.max,Fc=Math.round,bu=Math.floor,zn=t=>({x:t,y:t}),sD={left:"right",right:"left",bottom:"top",top:"bottom"},iD={start:"end",end:"start"};function kp(t,e,n){return zt(t,ys(e,n))}function vr(t,e){return typeof t=="function"?t(e):t}function _r(t){return t.split("-")[0]}function Do(t){return t.split("-")[1]}function gg(t){return t==="x"?"y":"x"}function yg(t){return t==="y"?"height":"width"}const oD=new Set(["top","bottom"]);function Fn(t){return oD.has(_r(t))?"y":"x"}function vg(t){return gg(Fn(t))}function aD(t,e,n){n===void 0&&(n=!1);const r=Do(t),s=vg(t),i=yg(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Uc(o)),[o,Uc(o)]}function lD(t){const e=Uc(t);return[bp(t),e,bp(e)]}function bp(t){return t.replace(/start|end/g,e=>iD[e])}const nw=["left","right"],rw=["right","left"],uD=["top","bottom"],cD=["bottom","top"];function hD(t,e,n){switch(t){case"top":case"bottom":return n?e?rw:nw:e?nw:rw;case"left":case"right":return e?uD:cD;default:return[]}}function dD(t,e,n,r){const s=Do(t);let i=hD(_r(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(bp)))),i}function Uc(t){return t.replace(/left|right|bottom|top/g,e=>sD[e])}function fD(t){return{top:0,right:0,bottom:0,left:0,...t}}function RS(t){return typeof t!="number"?fD(t):{top:t,right:t,bottom:t,left:t}}function jc(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function sw(t,e,n){let{reference:r,floating:s}=t;const i=Fn(e),o=vg(e),a=yg(o),u=_r(e),c=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let g;switch(u){case"top":g={x:h,y:r.y-s.height};break;case"bottom":g={x:h,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-s.width,y:f};break;default:g={x:r.x,y:r.y}}switch(Do(e)){case"start":g[o]-=p*(n&&c?-1:1);break;case"end":g[o]+=p*(n&&c?-1:1);break}return g}const pD=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=sw(c,r,u),p=r,g={},S=0;for(let w=0;w<a.length;w++){const{name:A,fn:v}=a[w],{x:y,y:I,data:N,reset:O}=await v({x:h,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:g,rects:c,platform:o,elements:{reference:t,floating:e}});h=y??h,f=I??f,g={...g,[A]:{...g[A],...N}},O&&S<=50&&(S++,typeof O=="object"&&(O.placement&&(p=O.placement),O.rects&&(c=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):O.rects),{x:h,y:f}=sw(c,p,u)),w=-1)}return{x:h,y:f,placement:p,strategy:s,middlewareData:g}};async function cl(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:u}=t,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:g=0}=vr(e,t),S=RS(g),A=a[p?f==="floating"?"reference":"floating":f],v=jc(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(A)))==null||n?A:A.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:h,strategy:u})),y=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,I=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),N=await(i.isElement==null?void 0:i.isElement(I))?await(i.getScale==null?void 0:i.getScale(I))||{x:1,y:1}:{x:1,y:1},O=jc(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:I,strategy:u}):y);return{top:(v.top-O.top+S.top)/N.y,bottom:(O.bottom-v.bottom+S.bottom)/N.y,left:(v.left-O.left+S.left)/N.x,right:(O.right-v.right+S.right)/N.x}}const mD=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:u}=e,{element:c,padding:h=0}=vr(t,e)||{};if(c==null)return{};const f=RS(h),p={x:n,y:r},g=vg(s),S=yg(g),w=await o.getDimensions(c),A=g==="y",v=A?"top":"left",y=A?"bottom":"right",I=A?"clientHeight":"clientWidth",N=i.reference[S]+i.reference[g]-p[g]-i.floating[S],O=p[g]-i.reference[g],L=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let E=L?L[I]:0;(!E||!await(o.isElement==null?void 0:o.isElement(L)))&&(E=a.floating[I]||i.floating[S]);const _=N/2-O/2,R=E/2-w[S]/2-1,x=ys(f[v],R),k=ys(f[y],R),b=x,P=E-w[S]-k,H=E/2-w[S]/2+_,ie=kp(b,H,P),oe=!u.arrow&&Do(s)!=null&&H!==ie&&i.reference[S]/2-(H<b?x:k)-w[S]/2<0,de=oe?H<b?H-b:H-P:0;return{[g]:p[g]+de,data:{[g]:ie,centerOffset:H-ie-de,...oe&&{alignmentOffset:de}},reset:oe}}}),gD=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:u,elements:c}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:w=!0,...A}=vr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=_r(s),y=Fn(a),I=_r(a)===a,N=await(u.isRTL==null?void 0:u.isRTL(c.floating)),O=p||(I||!w?[Uc(a)]:lD(a)),L=S!=="none";!p&&L&&O.push(...dD(a,w,S,N));const E=[a,...O],_=await cl(e,A),R=[];let x=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&R.push(_[v]),f){const H=aD(s,o,N);R.push(_[H[0]],_[H[1]])}if(x=[...x,{placement:s,overflows:R}],!R.every(H=>H<=0)){var k,b;const H=(((k=i.flip)==null?void 0:k.index)||0)+1,ie=E[H];if(ie&&(!(f==="alignment"?y!==Fn(ie):!1)||x.every(j=>Fn(j.placement)===y?j.overflows[0]>0:!0)))return{data:{index:H,overflows:x},reset:{placement:ie}};let oe=(b=x.filter(de=>de.overflows[0]<=0).sort((de,j)=>de.overflows[1]-j.overflows[1])[0])==null?void 0:b.placement;if(!oe)switch(g){case"bestFit":{var P;const de=(P=x.filter(j=>{if(L){const W=Fn(j.placement);return W===y||W==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(W=>W>0).reduce((W,Y)=>W+Y,0)]).sort((j,W)=>j[1]-W[1])[0])==null?void 0:P[0];de&&(oe=de);break}case"initialPlacement":oe=a;break}if(s!==oe)return{reset:{placement:oe}}}return{}}}};function iw(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function ow(t){return rD.some(e=>t[e]>=0)}const yD=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=vr(t,e);switch(r){case"referenceHidden":{const i=await cl(e,{...s,elementContext:"reference"}),o=iw(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:ow(o)}}}case"escaped":{const i=await cl(e,{...s,altBoundary:!0}),o=iw(i,n.floating);return{data:{escapedOffsets:o,escaped:ow(o)}}}default:return{}}}}},PS=new Set(["left","top"]);async function vD(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=_r(n),a=Do(n),u=Fn(n)==="y",c=PS.has(o)?-1:1,h=i&&u?-1:1,f=vr(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:S}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof S=="number"&&(g=a==="end"?S*-1:S),u?{x:g*h,y:p*c}:{x:p*c,y:g*h}}const _D=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,u=await vD(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+u.x,y:i+u.y,data:{...u,placement:o}}}}},wD=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:A=>{let{x:v,y}=A;return{x:v,y}}},...u}=vr(t,e),c={x:n,y:r},h=await cl(e,u),f=Fn(_r(s)),p=gg(f);let g=c[p],S=c[f];if(i){const A=p==="y"?"top":"left",v=p==="y"?"bottom":"right",y=g+h[A],I=g-h[v];g=kp(y,g,I)}if(o){const A=f==="y"?"top":"left",v=f==="y"?"bottom":"right",y=S+h[A],I=S-h[v];S=kp(y,S,I)}const w=a.fn({...e,[p]:g,[f]:S});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[p]:i,[f]:o}}}}}},ED=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:u=!0,crossAxis:c=!0}=vr(t,e),h={x:n,y:r},f=Fn(s),p=gg(f);let g=h[p],S=h[f];const w=vr(a,e),A=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(u){const I=p==="y"?"height":"width",N=i.reference[p]-i.floating[I]+A.mainAxis,O=i.reference[p]+i.reference[I]-A.mainAxis;g<N?g=N:g>O&&(g=O)}if(c){var v,y;const I=p==="y"?"width":"height",N=PS.has(_r(s)),O=i.reference[f]-i.floating[I]+(N&&((v=o.offset)==null?void 0:v[f])||0)+(N?0:A.crossAxis),L=i.reference[f]+i.reference[I]+(N?0:((y=o.offset)==null?void 0:y[f])||0)-(N?A.crossAxis:0);S<O?S=O:S>L&&(S=L)}return{[p]:g,[f]:S}}}},TD=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:u=()=>{},...c}=vr(t,e),h=await cl(e,c),f=_r(s),p=Do(s),g=Fn(s)==="y",{width:S,height:w}=i.floating;let A,v;f==="top"||f==="bottom"?(A=f,v=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=f,A=p==="end"?"top":"bottom");const y=w-h.top-h.bottom,I=S-h.left-h.right,N=ys(w-h[A],y),O=ys(S-h[v],I),L=!e.middlewareData.shift;let E=N,_=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(_=I),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(E=y),L&&!p){const x=zt(h.left,0),k=zt(h.right,0),b=zt(h.top,0),P=zt(h.bottom,0);g?_=S-2*(x!==0||k!==0?x+k:zt(h.left,h.right)):E=w-2*(b!==0||P!==0?b+P:zt(h.top,h.bottom))}await u({...e,availableWidth:_,availableHeight:E});const R=await o.getDimensions(a.floating);return S!==R.width||w!==R.height?{reset:{rects:!0}}:{}}}};function bh(){return typeof window<"u"}function Oo(t){return xS(t)?(t.nodeName||"").toLowerCase():"#document"}function Ht(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Jn(t){var e;return(e=(xS(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function xS(t){return bh()?t instanceof Node||t instanceof Ht(t).Node:!1}function Sn(t){return bh()?t instanceof Element||t instanceof Ht(t).Element:!1}function Gn(t){return bh()?t instanceof HTMLElement||t instanceof Ht(t).HTMLElement:!1}function aw(t){return!bh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ht(t).ShadowRoot}const ID=new Set(["inline","contents"]);function Ol(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=An(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!ID.has(s)}const SD=new Set(["table","td","th"]);function AD(t){return SD.has(Oo(t))}const CD=[":popover-open",":modal"];function Nh(t){return CD.some(e=>{try{return t.matches(e)}catch{return!1}})}const RD=["transform","translate","scale","rotate","perspective"],PD=["transform","translate","scale","rotate","perspective","filter"],xD=["paint","layout","strict","content"];function _g(t){const e=wg(),n=Sn(t)?An(t):t;return RD.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||PD.some(r=>(n.willChange||"").includes(r))||xD.some(r=>(n.contain||"").includes(r))}function kD(t){let e=vs(t);for(;Gn(e)&&!_o(e);){if(_g(e))return e;if(Nh(e))return null;e=vs(e)}return null}function wg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const bD=new Set(["html","body","#document"]);function _o(t){return bD.has(Oo(t))}function An(t){return Ht(t).getComputedStyle(t)}function Dh(t){return Sn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function vs(t){if(Oo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||aw(t)&&t.host||Jn(t);return aw(e)?e.host:e}function kS(t){const e=vs(t);return _o(e)?t.ownerDocument?t.ownerDocument.body:t.body:Gn(e)&&Ol(e)?e:kS(e)}function hl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=kS(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Ht(s);if(i){const a=Np(o);return e.concat(o,o.visualViewport||[],Ol(s)?s:[],a&&n?hl(a):[])}return e.concat(s,hl(s,[],n))}function Np(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function bS(t){const e=An(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Gn(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Fc(n)!==i||Fc(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Eg(t){return Sn(t)?t:t.contextElement}function Qi(t){const e=Eg(t);if(!Gn(e))return zn(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=bS(e);let o=(i?Fc(n.width):n.width)/r,a=(i?Fc(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const ND=zn(0);function NS(t){const e=Ht(t);return!wg()||!e.visualViewport?ND:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function DD(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ht(t)?!1:e}function li(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Eg(t);let o=zn(1);e&&(r?Sn(r)&&(o=Qi(r)):o=Qi(t));const a=DD(i,n,r)?NS(i):zn(0);let u=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const p=Ht(i),g=r&&Sn(r)?Ht(r):r;let S=p,w=Np(S);for(;w&&r&&g!==S;){const A=Qi(w),v=w.getBoundingClientRect(),y=An(w),I=v.left+(w.clientLeft+parseFloat(y.paddingLeft))*A.x,N=v.top+(w.clientTop+parseFloat(y.paddingTop))*A.y;u*=A.x,c*=A.y,h*=A.x,f*=A.y,u+=I,c+=N,S=Ht(w),w=Np(S)}}return jc({width:h,height:f,x:u,y:c})}function Oh(t,e){const n=Dh(t).scrollLeft;return e?e.left+n:li(Jn(t)).left+n}function DS(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Oh(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function OD(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Jn(r),a=e?Nh(e.floating):!1;if(r===o||a&&i)return n;let u={scrollLeft:0,scrollTop:0},c=zn(1);const h=zn(0),f=Gn(r);if((f||!f&&!i)&&((Oo(r)!=="body"||Ol(o))&&(u=Dh(r)),Gn(r))){const g=li(r);c=Qi(r),h.x=g.x+r.clientLeft,h.y=g.y+r.clientTop}const p=o&&!f&&!i?DS(o,u):zn(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-u.scrollLeft*c.x+h.x+p.x,y:n.y*c.y-u.scrollTop*c.y+h.y+p.y}}function VD(t){return Array.from(t.getClientRects())}function LD(t){const e=Jn(t),n=Dh(t),r=t.ownerDocument.body,s=zt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=zt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Oh(t);const a=-n.scrollTop;return An(r).direction==="rtl"&&(o+=zt(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}const lw=25;function MD(t,e){const n=Ht(t),r=Jn(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,u=0;if(s){i=s.width,o=s.height;const h=wg();(!h||h&&e==="fixed")&&(a=s.offsetLeft,u=s.offsetTop)}const c=Oh(r);if(c<=0){const h=r.ownerDocument,f=h.body,p=getComputedStyle(f),g=h.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,S=Math.abs(r.clientWidth-f.clientWidth-g);S<=lw&&(i-=S)}else c<=lw&&(i+=c);return{width:i,height:o,x:a,y:u}}const FD=new Set(["absolute","fixed"]);function UD(t,e){const n=li(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Gn(t)?Qi(t):zn(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,u=s*i.x,c=r*i.y;return{width:o,height:a,x:u,y:c}}function uw(t,e,n){let r;if(e==="viewport")r=MD(t,n);else if(e==="document")r=LD(Jn(t));else if(Sn(e))r=UD(e,n);else{const s=NS(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return jc(r)}function OS(t,e){const n=vs(t);return n===e||!Sn(n)||_o(n)?!1:An(n).position==="fixed"||OS(n,e)}function jD(t,e){const n=e.get(t);if(n)return n;let r=hl(t,[],!1).filter(a=>Sn(a)&&Oo(a)!=="body"),s=null;const i=An(t).position==="fixed";let o=i?vs(t):t;for(;Sn(o)&&!_o(o);){const a=An(o),u=_g(o);!u&&a.position==="fixed"&&(s=null),(i?!u&&!s:!u&&a.position==="static"&&!!s&&FD.has(s.position)||Ol(o)&&!u&&OS(t,o))?r=r.filter(h=>h!==o):s=a,o=vs(o)}return e.set(t,r),r}function zD(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Nh(e)?[]:jD(e,this._c):[].concat(n),r],a=o[0],u=o.reduce((c,h)=>{const f=uw(e,h,s);return c.top=zt(f.top,c.top),c.right=ys(f.right,c.right),c.bottom=ys(f.bottom,c.bottom),c.left=zt(f.left,c.left),c},uw(e,a,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function $D(t){const{width:e,height:n}=bS(t);return{width:e,height:n}}function BD(t,e,n){const r=Gn(e),s=Jn(e),i=n==="fixed",o=li(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const u=zn(0);function c(){u.x=Oh(s)}if(r||!r&&!i)if((Oo(e)!=="body"||Ol(s))&&(a=Dh(e)),r){const g=li(e,!0,i,e);u.x=g.x+e.clientLeft,u.y=g.y+e.clientTop}else s&&c();i&&!r&&s&&c();const h=s&&!r&&!i?DS(s,a):zn(0),f=o.left+a.scrollLeft-u.x-h.x,p=o.top+a.scrollTop-u.y-h.y;return{x:f,y:p,width:o.width,height:o.height}}function lf(t){return An(t).position==="static"}function cw(t,e){if(!Gn(t)||An(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Jn(t)===n&&(n=n.ownerDocument.body),n}function VS(t,e){const n=Ht(t);if(Nh(t))return n;if(!Gn(t)){let s=vs(t);for(;s&&!_o(s);){if(Sn(s)&&!lf(s))return s;s=vs(s)}return n}let r=cw(t,e);for(;r&&AD(r)&&lf(r);)r=cw(r,e);return r&&_o(r)&&lf(r)&&!_g(r)?n:r||kD(t)||n}const qD=async function(t){const e=this.getOffsetParent||VS,n=this.getDimensions,r=await n(t.floating);return{reference:BD(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function HD(t){return An(t).direction==="rtl"}const WD={convertOffsetParentRelativeRectToViewportRelativeRect:OD,getDocumentElement:Jn,getClippingRect:zD,getOffsetParent:VS,getElementRects:qD,getClientRects:VD,getDimensions:$D,getScale:Qi,isElement:Sn,isRTL:HD};function LS(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function GD(t,e){let n=null,r;const s=Jn(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),i();const c=t.getBoundingClientRect(),{left:h,top:f,width:p,height:g}=c;if(a||e(),!p||!g)return;const S=bu(f),w=bu(s.clientWidth-(h+p)),A=bu(s.clientHeight-(f+g)),v=bu(h),I={rootMargin:-S+"px "+-w+"px "+-A+"px "+-v+"px",threshold:zt(0,ys(1,u))||1};let N=!0;function O(L){const E=L[0].intersectionRatio;if(E!==u){if(!N)return o();E?o(!1,E):r=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!LS(c,t.getBoundingClientRect())&&o(),N=!1}try{n=new IntersectionObserver(O,{...I,root:s.ownerDocument})}catch{n=new IntersectionObserver(O,I)}n.observe(t)}return o(!0),i}function KD(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,c=Eg(t),h=s||i?[...c?hl(c):[],...hl(e)]:[];h.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const f=c&&a?GD(c,n):null;let p=-1,g=null;o&&(g=new ResizeObserver(v=>{let[y]=v;y&&y.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var I;(I=g)==null||I.observe(e)})),n()}),c&&!u&&g.observe(c),g.observe(e));let S,w=u?li(t):null;u&&A();function A(){const v=li(t);w&&!LS(w,v)&&n(),w=v,S=requestAnimationFrame(A)}return n(),()=>{var v;h.forEach(y=>{s&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),f==null||f(),(v=g)==null||v.disconnect(),g=null,u&&cancelAnimationFrame(S)}}const QD=_D,YD=wD,XD=gD,JD=TD,ZD=yD,hw=mD,eO=ED,tO=(t,e,n)=>{const r=new Map,s={platform:WD,...n},i={...s.platform,_c:r};return pD(t,e,{...s,platform:i})};var nO=typeof document<"u",rO=function(){},ec=nO?C.useLayoutEffect:rO;function zc(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!zc(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!zc(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function MS(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function dw(t,e){const n=MS(t);return Math.round(e*n)/n}function uf(t){const e=C.useRef(t);return ec(()=>{e.current=t}),e}function sO(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:u,open:c}=t,[h,f]=C.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=C.useState(r);zc(p,r)||g(r);const[S,w]=C.useState(null),[A,v]=C.useState(null),y=C.useCallback(j=>{j!==L.current&&(L.current=j,w(j))},[]),I=C.useCallback(j=>{j!==E.current&&(E.current=j,v(j))},[]),N=i||S,O=o||A,L=C.useRef(null),E=C.useRef(null),_=C.useRef(h),R=u!=null,x=uf(u),k=uf(s),b=uf(c),P=C.useCallback(()=>{if(!L.current||!E.current)return;const j={placement:e,strategy:n,middleware:p};k.current&&(j.platform=k.current),tO(L.current,E.current,j).then(W=>{const Y={...W,isPositioned:b.current!==!1};H.current&&!zc(_.current,Y)&&(_.current=Y,bl.flushSync(()=>{f(Y)}))})},[p,e,n,k,b]);ec(()=>{c===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,f(j=>({...j,isPositioned:!1})))},[c]);const H=C.useRef(!1);ec(()=>(H.current=!0,()=>{H.current=!1}),[]),ec(()=>{if(N&&(L.current=N),O&&(E.current=O),N&&O){if(x.current)return x.current(N,O,P);P()}},[N,O,P,x,R]);const ie=C.useMemo(()=>({reference:L,floating:E,setReference:y,setFloating:I}),[y,I]),oe=C.useMemo(()=>({reference:N,floating:O}),[N,O]),de=C.useMemo(()=>{const j={position:n,left:0,top:0};if(!oe.floating)return j;const W=dw(oe.floating,h.x),Y=dw(oe.floating,h.y);return a?{...j,transform:"translate("+W+"px, "+Y+"px)",...MS(oe.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:Y}},[n,a,oe.floating,h.x,h.y]);return C.useMemo(()=>({...h,update:P,refs:ie,elements:oe,floatingStyles:de}),[h,P,ie,oe,de])}const iO=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?hw({element:r.current,padding:s}).fn(n):{}:r?hw({element:r,padding:s}).fn(n):{}}}},oO=(t,e)=>({...QD(t),options:[t,e]}),aO=(t,e)=>({...YD(t),options:[t,e]}),lO=(t,e)=>({...eO(t),options:[t,e]}),uO=(t,e)=>({...XD(t),options:[t,e]}),cO=(t,e)=>({...JD(t),options:[t,e]}),hO=(t,e)=>({...ZD(t),options:[t,e]}),dO=(t,e)=>({...iO(t),options:[t,e]});var fO="Arrow",FS=C.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return D.jsx(Lt.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:D.jsx("polygon",{points:"0,0 30,0 15,10"})})});FS.displayName=fO;var pO=FS;function mO(t){const[e,n]=C.useState(void 0);return yr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const u=i.borderBoxSize,c=Array.isArray(u)?u[0]:u;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Tg="Popper",[US,jS]=Rh(Tg),[gO,zS]=US(Tg),$S=t=>{const{__scopePopper:e,children:n}=t,[r,s]=C.useState(null);return D.jsx(gO,{scope:e,anchor:r,onAnchorChange:s,children:n})};$S.displayName=Tg;var BS="PopperAnchor",qS=C.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=zS(BS,n),o=C.useRef(null),a=In(e,o),u=C.useRef(null);return C.useEffect(()=>{const c=u.current;u.current=(r==null?void 0:r.current)||o.current,c!==u.current&&i.onAnchorChange(u.current)}),r?null:D.jsx(Lt.div,{...s,ref:a})});qS.displayName=BS;var Ig="PopperContent",[yO,vO]=US(Ig),HS=C.forwardRef((t,e)=>{var ln,Ei,Bo,Ql,Yl,qo;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:u=!0,collisionBoundary:c=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:S,...w}=t,A=zS(Ig,n),[v,y]=C.useState(null),I=In(e,er=>y(er)),[N,O]=C.useState(null),L=mO(N),E=(L==null?void 0:L.width)??0,_=(L==null?void 0:L.height)??0,R=r+(i!=="center"?"-"+i:""),x=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},k=Array.isArray(c)?c:[c],b=k.length>0,P={padding:x,boundary:k.filter(wO),altBoundary:b},{refs:H,floatingStyles:ie,placement:oe,isPositioned:de,middlewareData:j}=sO({strategy:"fixed",placement:R,whileElementsMounted:(...er)=>KD(...er,{animationFrame:g==="always"}),elements:{reference:A.anchor},middleware:[oO({mainAxis:s+_,alignmentAxis:o}),u&&aO({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?lO():void 0,...P}),u&&uO({...P}),cO({...P,apply:({elements:er,rects:Ho,availableWidth:hd,availableHeight:Wo})=>{const{width:Go,height:Xl}=Ho.reference,Ve=er.floating.style;Ve.setProperty("--radix-popper-available-width",`${hd}px`),Ve.setProperty("--radix-popper-available-height",`${Wo}px`),Ve.setProperty("--radix-popper-anchor-width",`${Go}px`),Ve.setProperty("--radix-popper-anchor-height",`${Xl}px`)}}),N&&dO({element:N,padding:a}),EO({arrowWidth:E,arrowHeight:_}),p&&hO({strategy:"referenceHidden",...P})]}),[W,Y]=KS(oe),ne=gs(S);yr(()=>{de&&(ne==null||ne())},[de,ne]);const ve=(ln=j.arrow)==null?void 0:ln.x,Rt=(Ei=j.arrow)==null?void 0:Ei.y,Ze=((Bo=j.arrow)==null?void 0:Bo.centerOffset)!==0,[Zn,Ft]=C.useState();return yr(()=>{v&&Ft(window.getComputedStyle(v).zIndex)},[v]),D.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...ie,transform:de?ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Zn,"--radix-popper-transform-origin":[(Ql=j.transformOrigin)==null?void 0:Ql.x,(Yl=j.transformOrigin)==null?void 0:Yl.y].join(" "),...((qo=j.hide)==null?void 0:qo.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:D.jsx(yO,{scope:n,placedSide:W,onArrowChange:O,arrowX:ve,arrowY:Rt,shouldHideArrow:Ze,children:D.jsx(Lt.div,{"data-side":W,"data-align":Y,...w,ref:I,style:{...w.style,animation:de?void 0:"none"}})})})});HS.displayName=Ig;var WS="PopperArrow",_O={top:"bottom",right:"left",bottom:"top",left:"right"},GS=C.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=vO(WS,r),o=_O[i.placedSide];return D.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:D.jsx(pO,{...s,ref:n,style:{...s.style,display:"block"}})})});GS.displayName=WS;function wO(t){return t!==null}var EO=t=>({name:"transformOrigin",options:t,fn(e){var A,v,y;const{placement:n,rects:r,middlewareData:s}=e,o=((A=s.arrow)==null?void 0:A.centerOffset)!==0,a=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[c,h]=KS(n),f={start:"0%",center:"50%",end:"100%"}[h],p=(((v=s.arrow)==null?void 0:v.x)??0)+a/2,g=(((y=s.arrow)==null?void 0:y.y)??0)+u/2;let S="",w="";return c==="bottom"?(S=o?f:`${p}px`,w=`${-u}px`):c==="top"?(S=o?f:`${p}px`,w=`${r.floating.height+u}px`):c==="right"?(S=`${-u}px`,w=o?f:`${g}px`):c==="left"&&(S=`${r.floating.width+u}px`,w=o?f:`${g}px`),{data:{x:S,y:w}}}});function KS(t){const[e,n="center"]=t.split("-");return[e,n]}var TO=$S,IO=qS,SO=HS,AO=GS,[Vh]=Rh("Tooltip",[jS]),Lh=jS(),QS="TooltipProvider",CO=700,Dp="tooltip.open",[RO,Sg]=Vh(QS),YS=t=>{const{__scopeTooltip:e,delayDuration:n=CO,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=C.useRef(!0),a=C.useRef(!1),u=C.useRef(0);return C.useEffect(()=>{const c=u.current;return()=>window.clearTimeout(c)},[]),D.jsx(RO,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:C.useCallback(()=>{window.clearTimeout(u.current),o.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:C.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};YS.displayName=QS;var dl="Tooltip",[PO,Mh]=Vh(dl),XS=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=t,u=Sg(dl,t.__scopeTooltip),c=Lh(e),[h,f]=C.useState(null),p=nD(),g=C.useRef(0),S=o??u.disableHoverableContent,w=a??u.delayDuration,A=C.useRef(!1),[v,y]=GI({prop:r,defaultProp:s??!1,onChange:E=>{E?(u.onOpen(),document.dispatchEvent(new CustomEvent(Dp))):u.onClose(),i==null||i(E)},caller:dl}),I=C.useMemo(()=>v?A.current?"delayed-open":"instant-open":"closed",[v]),N=C.useCallback(()=>{window.clearTimeout(g.current),g.current=0,A.current=!1,y(!0)},[y]),O=C.useCallback(()=>{window.clearTimeout(g.current),g.current=0,y(!1)},[y]),L=C.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{A.current=!0,y(!0),g.current=0},w)},[w,y]);return C.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),D.jsx(TO,{...c,children:D.jsx(PO,{scope:e,contentId:p,open:v,stateAttribute:I,trigger:h,onTriggerChange:f,onTriggerEnter:C.useCallback(()=>{u.isOpenDelayedRef.current?L():N()},[u.isOpenDelayedRef,L,N]),onTriggerLeave:C.useCallback(()=>{S?O():(window.clearTimeout(g.current),g.current=0)},[O,S]),onOpen:N,onClose:O,disableHoverableContent:S,children:n})})};XS.displayName=dl;var Op="TooltipTrigger",JS=C.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Mh(Op,n),i=Sg(Op,n),o=Lh(n),a=C.useRef(null),u=In(e,a,s.onTriggerChange),c=C.useRef(!1),h=C.useRef(!1),f=C.useCallback(()=>c.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),D.jsx(IO,{asChild:!0,...o,children:D.jsx(Lt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:u,onPointerMove:He(t.onPointerMove,p=>{p.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:He(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:He(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:He(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:He(t.onBlur,s.onClose),onClick:He(t.onClick,s.onClose)})})});JS.displayName=Op;var xO="TooltipPortal",[sj,kO]=Vh(xO,{forceMount:void 0}),wo="TooltipContent",ZS=C.forwardRef((t,e)=>{const n=kO(wo,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Mh(wo,t.__scopeTooltip);return D.jsx(hg,{present:r||o.open,children:o.disableHoverableContent?D.jsx(eA,{side:s,...i,ref:e}):D.jsx(bO,{side:s,...i,ref:e})})}),bO=C.forwardRef((t,e)=>{const n=Mh(wo,t.__scopeTooltip),r=Sg(wo,t.__scopeTooltip),s=C.useRef(null),i=In(e,s),[o,a]=C.useState(null),{trigger:u,onClose:c}=n,h=s.current,{onPointerInTransitChange:f}=r,p=C.useCallback(()=>{a(null),f(!1)},[f]),g=C.useCallback((S,w)=>{const A=S.currentTarget,v={x:S.clientX,y:S.clientY},y=LO(v,A.getBoundingClientRect()),I=MO(v,y),N=FO(w.getBoundingClientRect()),O=jO([...I,...N]);a(O),f(!0)},[f]);return C.useEffect(()=>()=>p(),[p]),C.useEffect(()=>{if(u&&h){const S=A=>g(A,h),w=A=>g(A,u);return u.addEventListener("pointerleave",S),h.addEventListener("pointerleave",w),()=>{u.removeEventListener("pointerleave",S),h.removeEventListener("pointerleave",w)}}},[u,h,g,p]),C.useEffect(()=>{if(o){const S=w=>{const A=w.target,v={x:w.clientX,y:w.clientY},y=(u==null?void 0:u.contains(A))||(h==null?void 0:h.contains(A)),I=!UO(v,o);y?p():I&&(p(),c())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[u,h,o,c,p]),D.jsx(eA,{...t,ref:i})}),[NO,DO]=Vh(dl,{isInside:!1}),OO=Ib("TooltipContent"),eA=C.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,u=Mh(wo,n),c=Lh(n),{onClose:h}=u;return C.useEffect(()=>(document.addEventListener(Dp,h),()=>document.removeEventListener(Dp,h)),[h]),C.useEffect(()=>{if(u.trigger){const f=p=>{const g=p.target;g!=null&&g.contains(u.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[u.trigger,h]),D.jsx(cg,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:D.jsxs(SO,{"data-state":u.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[D.jsx(OO,{children:r}),D.jsx(NO,{scope:n,isInside:!0,children:D.jsx(Gb,{id:u.contentId,role:"tooltip",children:s||r})})]})})});ZS.displayName=wo;var tA="TooltipArrow",VO=C.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Lh(n);return DO(tA,n).isInside?null:D.jsx(AO,{...s,...r,ref:e})});VO.displayName=tA;function LO(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function MO(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function FO(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function UO(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],u=e[o],c=a.x,h=a.y,f=u.x,p=u.y;h>r!=p>r&&n<(f-c)*(r-h)/(p-h)+c&&(s=!s)}return s}function jO(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),zO(e)}function zO(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var $O=YS,BO=XS,qO=JS,nA=ZS;const HO=$O,ij=BO,oj=qO,WO=C.forwardRef(({className:t,sideOffset:e=4,...n},r)=>D.jsx(nA,{ref:r,sideOffset:e,className:Mt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));WO.displayName=nA.displayName;const GO=C.createContext(void 0);function KO({children:t}){const[e,n]=C.useState(()=>typeof window<"u"&&localStorage.getItem("theme")||"light");C.useEffect(()=>{const s=document.documentElement;s.classList.remove("light","dark"),s.classList.add(e),localStorage.setItem("theme",e)},[e]);const r=()=>{n(s=>s==="light"?"dark":"light")};return D.jsx(GO.Provider,{value:{theme:e,setTheme:n,toggleTheme:r},children:t})}const QO=()=>{};var fw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},YO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},sA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,u=s+2<t.length,c=u?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;u||(g=64,o||(p=64)),r.push(n[h],n[f],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):YO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new XO;const p=i<<2|a>>4;if(r.push(p),c!==64){const g=a<<4&240|c>>2;if(r.push(g),f!==64){const S=c<<6&192|f;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class XO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JO=function(t){const e=rA(t);return sA.encodeByteArray(e,!0)},$c=function(t){return JO(t).replace(/\./g,"")},iA=function(t){try{return sA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=()=>ZO().__FIREBASE_DEFAULTS__,t2=()=>{if(typeof process>"u"||typeof fw>"u")return;const t=fw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},n2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&iA(t[1]);return e&&JSON.parse(e)},Fh=()=>{try{return QO()||e2()||t2()||n2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},oA=t=>{var e,n;return(n=(e=Fh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},r2=t=>{const e=oA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},aA=()=>{var t;return(t=Fh())==null?void 0:t.config},lA=t=>{var e;return(e=Fh())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function uA(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[$c(JSON.stringify(n)),$c(JSON.stringify(o)),""].join(".")}const Ua={};function o2(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ua))Ua[e]?t.emulator.push(e):t.prod.push(e);return t}function a2(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let pw=!1;function cA(t,e){if(typeof window>"u"||typeof document>"u"||!Vo(window.location.host)||Ua[t]===e||Ua[t]||pw)return;Ua[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=o2().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function u(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{pw=!0,o()},p}function h(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=a2(r),g=n("text"),S=document.getElementById(g)||document.createElement("span"),w=n("learnmore"),A=document.getElementById(w)||document.createElement("a"),v=n("preprendIcon"),y=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const I=p.element;a(I),h(A,w);const N=c();u(y,v),I.append(y,S,A,N),document.body.appendChild(I)}i?(S.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function l2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mt())}function u2(){var e;const t=(e=Fh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function c2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function h2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function d2(){const t=mt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function f2(){return!u2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dA(){try{return typeof indexedDB=="object"}catch{return!1}}function fA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function p2(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="FirebaseError";class Pn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=m2,Object.setPrototypeOf(this,Pn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gi.prototype.create)}}class gi{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?g2(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Pn(s,a,r)}}function g2(t,e){return t.replace(y2,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const y2=/\{\$([^}]+)}/g;function v2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function _s(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(mw(i)&&mw(o)){if(!_s(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function mw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _2(t,e){const n=new w2(t,e);return n.subscribe.bind(n)}class w2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");E2(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=cf),s.error===void 0&&(s.error=cf),s.complete===void 0&&(s.complete=cf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function E2(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function cf(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=1e3,I2=2,S2=4*60*60*1e3,A2=.5;function gw(t,e=T2,n=I2){const r=e*Math.pow(n,t),s=Math.round(A2*r*(Math.random()-.5)*2);return Math.min(S2,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(t){return t&&t._delegate?t._delegate:t}class Cn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new s2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(P2(e))try{this.getOrInitializeService({instanceIdentifier:js})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=js){return this.instances.has(e)}getOptions(e=js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:R2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=js){return this.component?this.component.multipleInstances?e:js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function R2(t){return t===js?void 0:t}function P2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new C2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(le||(le={}));const k2={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},b2=le.INFO,N2={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},D2=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=N2[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Uh{constructor(e){this.name=e,this._logLevel=b2,this._logHandler=D2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?k2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}const O2=(t,e)=>e.some(n=>t instanceof n);let yw,vw;function V2(){return yw||(yw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function L2(){return vw||(vw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pA=new WeakMap,Vp=new WeakMap,mA=new WeakMap,hf=new WeakMap,Ag=new WeakMap;function M2(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(us(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&pA.set(n,t)}).catch(()=>{}),Ag.set(e,t),e}function F2(t){if(Vp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Vp.set(t,e)}let Lp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||mA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return us(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function U2(t){Lp=t(Lp)}function j2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(df(this),e,...n);return mA.set(r,e.sort?e.sort():[e]),us(r)}:L2().includes(t)?function(...e){return t.apply(df(this),e),us(pA.get(this))}:function(...e){return us(t.apply(df(this),e))}}function z2(t){return typeof t=="function"?j2(t):(t instanceof IDBTransaction&&F2(t),O2(t,V2())?new Proxy(t,Lp):t)}function us(t){if(t instanceof IDBRequest)return M2(t);if(hf.has(t))return hf.get(t);const e=z2(t);return e!==t&&(hf.set(t,e),Ag.set(e,t)),e}const df=t=>Ag.get(t);function gA(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=us(o);return r&&o.addEventListener("upgradeneeded",u=>{r(us(o.result),u.oldVersion,u.newVersion,us(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const $2=["get","getKey","getAll","getAllKeys","count"],B2=["put","add","delete","clear"],ff=new Map;function _w(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ff.get(e))return ff.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=B2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||$2.includes(n)))return;const i=async function(o,...a){const u=this.transaction(o,s?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&u.done]))[0]};return ff.set(e,i),i}U2(t=>({...t,get:(e,n,r)=>_w(e,n)||t.get(e,n,r),has:(e,n)=>!!_w(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(H2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function H2(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Mp="@firebase/app",ww="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr=new Uh("@firebase/app"),W2="@firebase/app-compat",G2="@firebase/analytics-compat",K2="@firebase/analytics",Q2="@firebase/app-check-compat",Y2="@firebase/app-check",X2="@firebase/auth",J2="@firebase/auth-compat",Z2="@firebase/database",eV="@firebase/data-connect",tV="@firebase/database-compat",nV="@firebase/functions",rV="@firebase/functions-compat",sV="@firebase/installations",iV="@firebase/installations-compat",oV="@firebase/messaging",aV="@firebase/messaging-compat",lV="@firebase/performance",uV="@firebase/performance-compat",cV="@firebase/remote-config",hV="@firebase/remote-config-compat",dV="@firebase/storage",fV="@firebase/storage-compat",pV="@firebase/firestore",mV="@firebase/ai",gV="@firebase/firestore-compat",yV="firebase",vV="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp="[DEFAULT]",_V={[Mp]:"fire-core",[W2]:"fire-core-compat",[K2]:"fire-analytics",[G2]:"fire-analytics-compat",[Y2]:"fire-app-check",[Q2]:"fire-app-check-compat",[X2]:"fire-auth",[J2]:"fire-auth-compat",[Z2]:"fire-rtdb",[eV]:"fire-data-connect",[tV]:"fire-rtdb-compat",[nV]:"fire-fn",[rV]:"fire-fn-compat",[sV]:"fire-iid",[iV]:"fire-iid-compat",[oV]:"fire-fcm",[aV]:"fire-fcm-compat",[lV]:"fire-perf",[uV]:"fire-perf-compat",[cV]:"fire-rc",[hV]:"fire-rc-compat",[dV]:"fire-gcs",[fV]:"fire-gcs-compat",[pV]:"fire-fst",[gV]:"fire-fst-compat",[mV]:"fire-vertex","fire-js":"fire-js",[yV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc=new Map,wV=new Map,Up=new Map;function Ew(t,e){try{t.container.addComponent(e)}catch(n){wr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Kn(t){const e=t.name;if(Up.has(e))return wr.debug(`There were multiple attempts to register component ${e}.`),!1;Up.set(e,t);for(const n of Bc.values())Ew(n,t);for(const n of wV.values())Ew(n,t);return!0}function yi(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function en(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cs=new gi("app","Firebase",EV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Cn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=vV;function yA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Fp,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw cs.create("bad-app-name",{appName:String(s)});if(n||(n=aA()),!n)throw cs.create("no-options");const i=Bc.get(s);if(i){if(_s(n,i.options)&&_s(r,i.config))return i;throw cs.create("duplicate-app",{appName:s})}const o=new x2(s);for(const u of Up.values())o.addComponent(u);const a=new TV(n,r,o);return Bc.set(s,a),a}function Cg(t=Fp){const e=Bc.get(t);if(!e&&t===Fp&&aA())return yA();if(!e)throw cs.create("no-app",{appName:t});return e}function sn(t,e,n){let r=_V[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wr.warn(o.join(" "));return}Kn(new Cn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV="firebase-heartbeat-database",SV=1,fl="firebase-heartbeat-store";let pf=null;function vA(){return pf||(pf=gA(IV,SV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(fl)}catch(n){console.warn(n)}}}}).catch(t=>{throw cs.create("idb-open",{originalErrorMessage:t.message})})),pf}async function AV(t){try{const n=(await vA()).transaction(fl),r=await n.objectStore(fl).get(_A(t));return await n.done,r}catch(e){if(e instanceof Pn)wr.warn(e.message);else{const n=cs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});wr.warn(n.message)}}}async function Tw(t,e){try{const r=(await vA()).transaction(fl,"readwrite");await r.objectStore(fl).put(e,_A(t)),await r.done}catch(n){if(n instanceof Pn)wr.warn(n.message);else{const r=cs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});wr.warn(r.message)}}}function _A(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV=1024,RV=30;class PV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Iw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>RV){const o=bV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){wr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Iw(),{heartbeatsToSend:r,unsentEntries:s}=xV(this._heartbeatsCache.heartbeats),i=$c(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return wr.warn(n),""}}}function Iw(){return new Date().toISOString().substring(0,10)}function xV(t,e=CV){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Sw(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Sw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class kV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dA()?fA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await AV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Tw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Tw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Sw(t){return $c(JSON.stringify({version:2,heartbeats:t})).length}function bV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NV(t){Kn(new Cn("platform-logger",e=>new q2(e),"PRIVATE")),Kn(new Cn("heartbeat",e=>new PV(e),"PRIVATE")),sn(Mp,ww,t),sn(Mp,ww,"esm2020"),sn("fire-js","")}NV("");var DV="firebase",OV="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn(DV,OV,"app");const wA="@firebase/installations",Rg="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=1e4,TA=`w:${Rg}`,IA="FIS_v2",VV="https://firebaseinstallations.googleapis.com/v1",LV=60*60*1e3,MV="installations",FV="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ui=new gi(MV,FV,UV);function SA(t){return t instanceof Pn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA({projectId:t}){return`${VV}/projects/${t}/installations`}function CA(t){return{token:t.token,requestStatus:2,expiresIn:zV(t.expiresIn),creationTime:Date.now()}}async function RA(t,e){const r=(await e.json()).error;return ui.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function PA({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function jV(t,{refreshToken:e}){const n=PA(t);return n.append("Authorization",$V(e)),n}async function xA(t){const e=await t();return e.status>=500&&e.status<600?t():e}function zV(t){return Number(t.replace("s","000"))}function $V(t){return`${IA} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BV({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=AA(t),s=PA(t),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:IA,appId:t.appId,sdkVersion:TA},a={method:"POST",headers:s,body:JSON.stringify(o)},u=await xA(()=>fetch(r,a));if(u.ok){const c=await u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:CA(c.authToken)}}else throw await RA("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qV(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV=/^[cdef][\w-]{21}$/,jp="";function WV(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=GV(t);return HV.test(n)?n:jp}catch{return jp}}function GV(t){return qV(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA=new Map;function NA(t,e){const n=jh(t);DA(n,e),KV(n,e)}function DA(t,e){const n=bA.get(t);if(n)for(const r of n)r(e)}function KV(t,e){const n=QV();n&&n.postMessage({key:t,fid:e}),YV()}let Hs=null;function QV(){return!Hs&&"BroadcastChannel"in self&&(Hs=new BroadcastChannel("[Firebase] FID Change"),Hs.onmessage=t=>{DA(t.data.key,t.data.fid)}),Hs}function YV(){bA.size===0&&Hs&&(Hs.close(),Hs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV="firebase-installations-database",JV=1,ci="firebase-installations-store";let mf=null;function Pg(){return mf||(mf=gA(XV,JV,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ci)}}})),mf}async function qc(t,e){const n=jh(t),s=(await Pg()).transaction(ci,"readwrite"),i=s.objectStore(ci),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&NA(t,e.fid),e}async function OA(t){const e=jh(t),r=(await Pg()).transaction(ci,"readwrite");await r.objectStore(ci).delete(e),await r.done}async function zh(t,e){const n=jh(t),s=(await Pg()).transaction(ci,"readwrite"),i=s.objectStore(ci),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&NA(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xg(t){let e;const n=await zh(t.appConfig,r=>{const s=ZV(r),i=eL(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===jp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function ZV(t){const e=t||{fid:WV(),registrationStatus:0};return VA(e)}function eL(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(ui.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=tL(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:nL(t)}:{installationEntry:e}}async function tL(t,e){try{const n=await BV(t,e);return qc(t.appConfig,n)}catch(n){throw SA(n)&&n.customData.serverCode===409?await OA(t.appConfig):await qc(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function nL(t){let e=await Aw(t.appConfig);for(;e.registrationStatus===1;)await kA(100),e=await Aw(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await xg(t);return r||n}return e}function Aw(t){return zh(t,e=>{if(!e)throw ui.create("installation-not-found");return VA(e)})}function VA(t){return rL(t)?{fid:t.fid,registrationStatus:0}:t}function rL(t){return t.registrationStatus===1&&t.registrationTime+EA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sL({appConfig:t,heartbeatServiceProvider:e},n){const r=iL(t,n),s=jV(t,n),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:TA,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},u=await xA(()=>fetch(r,a));if(u.ok){const c=await u.json();return CA(c)}else throw await RA("Generate Auth Token",u)}function iL(t,{fid:e}){return`${AA(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kg(t,e=!1){let n;const r=await zh(t.appConfig,i=>{if(!LA(i))throw ui.create("not-registered");const o=i.authToken;if(!e&&lL(o))return i;if(o.requestStatus===1)return n=oL(t,e),i;{if(!navigator.onLine)throw ui.create("app-offline");const a=cL(i);return n=aL(t,a),a}});return n?await n:r.authToken}async function oL(t,e){let n=await Cw(t.appConfig);for(;n.authToken.requestStatus===1;)await kA(100),n=await Cw(t.appConfig);const r=n.authToken;return r.requestStatus===0?kg(t,e):r}function Cw(t){return zh(t,e=>{if(!LA(e))throw ui.create("not-registered");const n=e.authToken;return hL(n)?{...e,authToken:{requestStatus:0}}:e})}async function aL(t,e){try{const n=await sL(t,e),r={...e,authToken:n};return await qc(t.appConfig,r),n}catch(n){if(SA(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await OA(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await qc(t.appConfig,r)}throw n}}function LA(t){return t!==void 0&&t.registrationStatus===2}function lL(t){return t.requestStatus===2&&!uL(t)}function uL(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+LV}function cL(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function hL(t){return t.requestStatus===1&&t.requestTime+EA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dL(t){const e=t,{installationEntry:n,registrationPromise:r}=await xg(e);return r?r.catch(console.error):kg(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fL(t,e=!1){const n=t;return await pL(n),(await kg(n,e)).token}async function pL(t){const{registrationPromise:e}=await xg(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(t){if(!t||!t.options)throw gf("App Configuration");if(!t.name)throw gf("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw gf(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function gf(t){return ui.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="installations",gL="installations-internal",yL=t=>{const e=t.getProvider("app").getImmediate(),n=mL(e),r=yi(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},vL=t=>{const e=t.getProvider("app").getImmediate(),n=yi(e,MA).getImmediate();return{getId:()=>dL(n),getToken:s=>fL(n,s)}};function _L(){Kn(new Cn(MA,yL,"PUBLIC")),Kn(new Cn(gL,vL,"PRIVATE"))}_L();sn(wA,Rg);sn(wA,Rg,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc="analytics",wL="firebase_id",EL="origin",TL=60*1e3,IL="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",bg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vt=new Uh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Wt=new gi("analytics","Analytics",SL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(t){if(!t.startsWith(bg)){const e=Wt.create("invalid-gtag-resource",{gtagURL:t});return Vt.warn(e.message),""}return t}function FA(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function CL(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function RL(t,e){const n=CL("firebase-js-sdk-policy",{createScriptURL:AL}),r=document.createElement("script"),s=`${bg}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function PL(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function xL(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const u=(await FA(n)).find(c=>c.measurementId===s);u&&await e[u.appId]}}catch(a){Vt.error(a)}t("config",s,i)}async function kL(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await FA(n);for(const u of o){const c=a.find(f=>f.measurementId===u),h=c&&e[c.appId];if(h)i.push(h);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Vt.error(i)}}function bL(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,u]=o;await kL(t,e,n,a,u)}else if(i==="config"){const[a,u]=o;await xL(t,e,n,r,a,u)}else if(i==="consent"){const[a,u]=o;t("consent",a,u)}else if(i==="get"){const[a,u,c]=o;t("get",a,u,c)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){Vt.error(a)}}return s}function NL(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=bL(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function DL(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(bg)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL=30,VL=1e3;class LL{constructor(e={},n=VL){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const UA=new LL;function ML(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function FL(t){var o;const{appId:e,apiKey:n}=t,r={method:"GET",headers:ML(n)},s=IL.replace("{app-id}",e),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let a="";try{const u=await i.json();(o=u.error)!=null&&o.message&&(a=u.error.message)}catch{}throw Wt.create("config-fetch-failed",{httpStatus:i.status,responseMessage:a})}return i.json()}async function UL(t,e=UA,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw Wt.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Wt.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new $L;return setTimeout(async()=>{a.abort()},TL),jA({appId:r,apiKey:s,measurementId:i},o,a,e)}async function jA(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=UA){var a;const{appId:i,measurementId:o}=t;try{await jL(r,e)}catch(u){if(o)return Vt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:i,measurementId:o};throw u}try{const u=await FL(t);return s.deleteThrottleMetadata(i),u}catch(u){const c=u;if(!zL(c)){if(s.deleteThrottleMetadata(i),o)return Vt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:o};throw u}const h=Number((a=c==null?void 0:c.customData)==null?void 0:a.httpStatus)===503?gw(n,s.intervalMillis,OL):gw(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return s.setThrottleMetadata(i,f),Vt.debug(`Calling attemptFetch again in ${h} millis`),jA(t,f,r,s)}}function jL(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(Wt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function zL(t){if(!(t instanceof Pn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class $L{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function BL(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o={...r,send_to:i};t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qL(){if(dA())try{await fA()}catch(t){return Vt.warn(Wt.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Vt.warn(Wt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function HL(t,e,n,r,s,i,o){const a=UL(t);a.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Vt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Vt.error(p)),e.push(a);const u=qL().then(p=>{if(p)return r.getId()}),[c,h]=await Promise.all([a,u]);DL(i)||RL(i,c.measurementId),s("js",new Date);const f=(o==null?void 0:o.config)??{};return f[EL]="firebase",f.update=!0,h!=null&&(f[wL]=h),s("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e){this.app=e}_delete(){return delete ja[this.app.options.appId],Promise.resolve()}}let ja={},Rw=[];const Pw={};let yf="dataLayer",GL="gtag",xw,zA,kw=!1;function KL(){const t=[];if(hA()&&t.push("This is a browser extension environment."),p2()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Wt.create("invalid-analytics-context",{errorInfo:e});Vt.warn(n.message)}}function QL(t,e,n){KL();const r=t.options.appId;if(!r)throw Wt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Vt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Wt.create("no-api-key");if(ja[r]!=null)throw Wt.create("already-exists",{id:r});if(!kw){PL(yf);const{wrappedGtag:i,gtagCore:o}=NL(ja,Rw,Pw,yf,GL);zA=i,xw=o,kw=!0}return ja[r]=HL(t,Rw,Pw,e,xw,yf,n),new WL(t)}function YL(t=Cg()){t=Oe(t);const e=yi(t,Hc);return e.isInitialized()?e.getImmediate():XL(t)}function XL(t,e={}){const n=yi(t,Hc);if(n.isInitialized()){const s=n.getImmediate();if(_s(e,n.getOptions()))return s;throw Wt.create("already-initialized")}return n.initialize({options:e})}function $A(t,e,n,r){t=Oe(t),BL(zA,ja[t.app.options.appId],e,n,r).catch(s=>Vt.error(s))}const bw="@firebase/analytics",Nw="0.10.18";function JL(){Kn(new Cn(Hc,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return QL(r,s,n)},"PUBLIC")),Kn(new Cn("analytics-internal",t,"PRIVATE")),sn(bw,Nw),sn(bw,Nw,"esm2020");function t(e){try{const n=e.getProvider(Hc).getImmediate();return{logEvent:(r,s,i)=>$A(n,r,s,i)}}catch(n){throw Wt.create("interop-component-reg-failed",{reason:n})}}}JL();function BA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZL=BA,qA=new gi("auth","Firebase",BA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=new Uh("@firebase/auth");function eM(t,...e){Wc.logLevel<=le.WARN&&Wc.warn(`Auth (${Lo}): ${t}`,...e)}function tc(t,...e){Wc.logLevel<=le.ERROR&&Wc.error(`Auth (${Lo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(t,...e){throw Dg(t,...e)}function En(t,...e){return Dg(t,...e)}function Ng(t,e,n){const r={...ZL(),[e]:n};return new gi("auth","Firebase",r).create(e,{appName:t.name})}function hs(t){return Ng(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tM(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Qn(t,"argument-error"),Ng(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return qA.create(t,...e)}function J(t,e,...n){if(!t)throw Dg(e,...n)}function ur(t){const e="INTERNAL ASSERTION FAILED: "+t;throw tc(e),new Error(e)}function Er(t,e){t||ur(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function nM(){return Dw()==="http:"||Dw()==="https:"}function Dw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nM()||hA()||"connection"in navigator)?navigator.onLine:!0}function sM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n){this.shortDelay=e,this.longDelay=n,Er(n>e,"Short delay should be less than long delay!"),this.isMobile=l2()||h2()}get(){return rM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(t,e){Er(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],aM=new Ll(3e4,6e4);function $h(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Mo(t,e,n,r,s={}){return WA(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Vl({key:t.config.apiKey,...o}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:u,...i};return c2()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Vo(t.emulatorConfig.host)&&(c.credentials="include"),HA.fetch()(await KA(t,t.config.apiHost,n,a),c)})}async function WA(t,e,n){t._canInitEmulator=!1;const r={...iM,...e};try{const s=new lM(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Nu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nu(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Nu(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Nu(t,"user-disabled",o);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Ng(t,h,c);Qn(t,h)}}catch(s){if(s instanceof Pn)throw s;Qn(t,"network-request-failed",{message:String(s)})}}async function GA(t,e,n,r,s={}){const i=await Mo(t,e,n,r,s);return"mfaPendingCredential"in i&&Qn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function KA(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Og(t.config,s):`${t.config.apiScheme}://${s}`;return oM.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class lM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(En(this.auth,"network-request-failed")),aM.get())})}}function Nu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=En(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uM(t,e){return Mo(t,"POST","/v1/accounts:delete",e)}async function Gc(t,e){return Mo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function za(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cM(t,e=!1){const n=Oe(t),r=await n.getIdToken(e),s=Vg(r);J(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:za(vf(s.auth_time)),issuedAtTime:za(vf(s.iat)),expirationTime:za(vf(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function vf(t){return Number(t)*1e3}function Vg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return tc("JWT malformed, contained fewer than 3 sections"),null;try{const s=iA(n);return s?JSON.parse(s):(tc("Failed to decode base64 JWT payload"),null)}catch(s){return tc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Ow(t){const e=Vg(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Pn&&hM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function hM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=za(this.lastLoginAt),this.creationTime=za(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kc(t){var f;const e=t.auth,n=await t.getIdToken(),r=await pl(t,Gc(e,{idToken:n}));J(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?QA(s.providerUserInfo):[],o=pM(t.providerData,i),a=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),c=a?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new $p(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function fM(t){const e=Oe(t);await Kc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pM(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function QA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mM(t,e){const n=await WA(t,{},async()=>{const r=Vl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await KA(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:a,body:r};return t.emulatorConfig&&Vo(t.emulatorConfig.host)&&(u.credentials="include"),HA.fetch()(o,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function gM(t,e){return Mo(t,"POST","/v2/accounts:revokeToken",$h(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ow(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){J(e.length!==0,"internal-error");const n=Ow(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await mM(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Yi;return r&&(J(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(J(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(J(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yi,this.toJSON())}_performRefresh(){return ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class vn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new dM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new $p(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await pl(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return cM(this,e)}reload(){return fM(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new vn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Kc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(en(this.auth.app))return Promise.reject(hs(this.auth));const e=await this.getIdToken();return await pl(this,uM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,u=n._redirectEventId??void 0,c=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:p,isAnonymous:g,providerData:S,stsTokenManager:w}=n;J(f&&w,e,"internal-error");const A=Yi.fromJSON(this.name,w);J(typeof f=="string",e,"internal-error"),Vr(r,e.name),Vr(s,e.name),J(typeof p=="boolean",e,"internal-error"),J(typeof g=="boolean",e,"internal-error"),Vr(i,e.name),Vr(o,e.name),Vr(a,e.name),Vr(u,e.name),Vr(c,e.name),Vr(h,e.name);const v=new vn({uid:f,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:g,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:A,createdAt:c,lastLoginAt:h});return S&&Array.isArray(S)&&(v.providerData=S.map(y=>({...y}))),u&&(v._redirectEventId=u),v}static async _fromIdTokenResponse(e,n,r=!1){const s=new Yi;s.updateFromServerResponse(n);const i=new vn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Kc(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];J(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?QA(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Yi;a.updateFromIdToken(r);const u=new vn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new $p(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw=new Map;function cr(t){Er(t instanceof Function,"Expected a class definition");let e=Vw.get(t);return e?(Er(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Vw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}YA.type="NONE";const Lw=YA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(t,e,n){return`firebase:${t}:${e}:${n}`}class Xi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=nc(this.userKey,s.apiKey,i),this.fullPersistenceKey=nc("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Gc(this.auth,{idToken:e}).catch(()=>{});return n?vn._fromGetAccountInfoResponse(this.auth,n,e):null}return vn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Xi(cr(Lw),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||cr(Lw);const o=nc(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){let f;if(typeof h=="string"){const p=await Gc(e,{idToken:h}).catch(()=>{});if(!p)break;f=await vn._fromGetAccountInfoResponse(e,p,h)}else f=vn._fromJSON(e,h);c!==i&&(a=f),i=c;break}}catch{}const u=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new Xi(i,e,r):(i=u[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Xi(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nC(e))return"Blackberry";if(rC(e))return"Webos";if(JA(e))return"Safari";if((e.includes("chrome/")||ZA(e))&&!e.includes("edge/"))return"Chrome";if(tC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function XA(t=mt()){return/firefox\//i.test(t)}function JA(t=mt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ZA(t=mt()){return/crios\//i.test(t)}function eC(t=mt()){return/iemobile/i.test(t)}function tC(t=mt()){return/android/i.test(t)}function nC(t=mt()){return/blackberry/i.test(t)}function rC(t=mt()){return/webos/i.test(t)}function Lg(t=mt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function yM(t=mt()){var e;return Lg(t)&&!!((e=window.navigator)!=null&&e.standalone)}function vM(){return d2()&&document.documentMode===10}function sC(t=mt()){return Lg(t)||tC(t)||rC(t)||nC(t)||/windows phone/i.test(t)||eC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(t,e=[]){let n;switch(t){case"Browser":n=Mw(mt());break;case"Worker":n=`${Mw(mt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Lo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const u=e(i);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wM(t,e={}){return Mo(t,"GET","/v2/passwordPolicy",$h(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM=6;class TM{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??EM,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fw(this),this.idTokenSubscription=new Fw(this),this.beforeStateQueue=new _M(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=cr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Xi.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Gc(this,{idToken:e}),r=await vn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(en(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Kc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(en(this.app))return Promise.reject(hs(this));const n=e?Oe(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return en(this.app)?Promise.reject(hs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return en(this.app)?Promise.reject(hs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await wM(this),n=new TM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gi("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await gM(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&cr(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=await Xi.create(this,[cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,s);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(en(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&eM(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ml(t){return Oe(t)}class Fw{constructor(e){this.auth=e,this.observer=null,this.addObserver=_2(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SM(t){Mg=t}function AM(t){return Mg.loadJS(t)}function CM(){return Mg.gapiScript}function RM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(t,e){const n=yi(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(_s(i,e??{}))return s;Qn(s,"already-initialized")}return n.initialize({options:e})}function xM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(cr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function kM(t,e,n){const r=Ml(t);J(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=oC(e),{host:o,port:a}=bM(e),u=a===null?"":`:${a}`,c={url:`${i}//${o}${u}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){J(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),J(_s(c,r.config.emulator)&&_s(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Vo(o)?(uA(`${i}//${o}${u}`),cA("Auth",!0)):NM()}function oC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function bM(t){const e=oC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Uw(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Uw(o)}}}function Uw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function NM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ur("not implemented")}_getIdTokenResponse(e){return ur("not implemented")}_linkToIdToken(e,n){return ur("not implemented")}_getReauthenticationResolver(e){return ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ji(t,e){return GA(t,"POST","/v1/accounts:signInWithIdp",$h(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM="http://localhost";class hi extends aC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new hi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new hi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ji(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ji(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ji(e,n)}buildRequest(){const e={requestUri:DM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl extends Fg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Fl{constructor(){super("facebook.com")}static credential(e){return hi._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $r.credential(e.oauthAccessToken)}catch{return null}}}$r.FACEBOOK_SIGN_IN_METHOD="facebook.com";$r.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends Fl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return hi._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return or.credential(n,r)}catch{return null}}}or.GOOGLE_SIGN_IN_METHOD="google.com";or.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends Fl{constructor(){super("github.com")}static credential(e){return hi._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Br.credential(e.oauthAccessToken)}catch{return null}}}Br.GITHUB_SIGN_IN_METHOD="github.com";Br.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends Fl{constructor(){super("twitter.com")}static credential(e,n){return hi._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return qr.credential(n,r)}catch{return null}}}qr.TWITTER_SIGN_IN_METHOD="twitter.com";qr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OM(t,e){return GA(t,"POST","/v1/accounts:signUp",$h(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await vn._fromIdTokenResponse(e,r,s),o=jw(r);return new ws({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=jw(r);return new ws({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function jw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VM(t){var s;if(en(t.app))return Promise.reject(hs(t));const e=Ml(t);if(await e._initializationPromise,(s=e.currentUser)!=null&&s.isAnonymous)return new ws({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await OM(e,{returnSecureToken:!0}),r=await ws._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc extends Pn{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Qc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Qc(e,n,r,s)}}function lC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Qc._fromErrorAndOperation(t,i,e,r):i})}async function LM(t,e,n=!1){const r=await pl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ws._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MM(t,e,n=!1){const{auth:r}=t;if(en(r.app))return Promise.reject(hs(r));const s="reauthenticate";try{const i=await pl(t,lC(r,s,e,t),n);J(i.idToken,r,"internal-error");const o=Vg(i.idToken);J(o,r,"internal-error");const{sub:a}=o;return J(t.uid===a,r,"user-mismatch"),ws._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Qn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FM(t,e,n=!1){if(en(t.app))return Promise.reject(hs(t));const r="signIn",s=await lC(t,r,e),i=await ws._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function UM(t,e,n,r){return Oe(t).onIdTokenChanged(e,n,r)}function jM(t,e,n){return Oe(t).beforeAuthStateChanged(e,n)}function zM(t,e,n,r){return Oe(t).onAuthStateChanged(e,n,r)}function $M(t){return Oe(t).signOut()}const Yc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yc,"1"),this.storage.removeItem(Yc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM=1e3,qM=10;class cC extends uC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);vM()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,qM):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},BM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}cC.type="LOCAL";const HM=cC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC extends uC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}hC.type="SESSION";const dC=hC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Bh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),u=await WM(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,u)=>{const c=Ug("",20);s.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(h),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(){return window}function KM(t){$n().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(){return typeof $n().WorkerGlobalScope<"u"&&typeof $n().importScripts=="function"}async function QM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function XM(){return fC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="firebaseLocalStorageDb",JM=1,Xc="firebaseLocalStorage",mC="fbase_key";class Ul{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qh(t,e){return t.transaction([Xc],e?"readwrite":"readonly").objectStore(Xc)}function ZM(){const t=indexedDB.deleteDatabase(pC);return new Ul(t).toPromise()}function Bp(){const t=indexedDB.open(pC,JM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Xc,{keyPath:mC})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Xc)?e(r):(r.close(),await ZM(),e(await Bp()))})})}async function zw(t,e,n){const r=qh(t,!0).put({[mC]:e,value:n});return new Ul(r).toPromise()}async function eF(t,e){const n=qh(t,!1).get(e),r=await new Ul(n).toPromise();return r===void 0?null:r.value}function $w(t,e){const n=qh(t,!0).delete(e);return new Ul(n).toPromise()}const tF=800,nF=3;class gC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>nF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bh._getInstance(XM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await QM(),!this.activeServiceWorker)return;this.sender=new GM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bp();return await zw(e,Yc,"1"),await $w(e,Yc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>zw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>eF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>$w(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=qh(s,!1).getAll();return new Ul(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gC.type="LOCAL";const rF=gC;new Ll(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(t,e){return e?cr(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg extends aC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ji(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ji(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ji(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function sF(t){return FM(t.auth,new jg(t),t.bypassAuthState)}function iF(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),MM(n,new jg(t),t.bypassAuthState)}async function oF(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),LM(n,new jg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sF;case"linkViaPopup":case"linkViaRedirect":return oF;case"reauthViaPopup":case"reauthViaRedirect":return iF;default:Qn(this.auth,"internal-error")}}resolve(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aF=new Ll(2e3,1e4);async function lF(t,e,n){if(en(t.app))return Promise.reject(En(t,"operation-not-supported-in-this-environment"));const r=Ml(t);tM(t,e,Fg);const s=yC(r,n);return new Ws(r,"signInViaPopup",e,s).executeNotNull()}class Ws extends vC{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ws.currentPopupAction&&Ws.currentPopupAction.cancel(),Ws.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return J(e,this.auth,"internal-error"),e}async onExecution(){Er(this.filter.length===1,"Popup operations only handle one event");const e=Ug();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(En(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(En(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ws.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(En(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aF.get())};e()}}Ws.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF="pendingRedirect",rc=new Map;class cF extends vC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=rc.get(this.auth._key());if(!e){try{const r=await hF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}rc.set(this.auth._key(),e)}return this.bypassAuthState||rc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hF(t,e){const n=pF(e),r=fF(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function dF(t,e){rc.set(t._key(),e)}function fF(t){return cr(t._redirectPersistence)}function pF(t){return nc(uF,t.config.apiKey,t.name)}async function mF(t,e,n=!1){if(en(t.app))return Promise.reject(hs(t));const r=Ml(t),s=yC(r,e),o=await new cF(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF=10*60*1e3;class yF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!_C(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(En(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gF&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bw(e))}saveEventToCache(e){this.cachedEventUids.add(Bw(e)),this.lastProcessedEventTime=Date.now()}}function Bw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _C({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function vF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _C(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _F(t,e={}){return Mo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,EF=/^https?/;async function TF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await _F(t);for(const n of e)try{if(IF(n))return}catch{}Qn(t,"unauthorized-domain")}function IF(t){const e=zp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!EF.test(n))return!1;if(wF.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SF=new Ll(3e4,6e4);function qw(){const t=$n().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function AF(t){return new Promise((e,n)=>{var s,i,o;function r(){qw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qw(),n(En(t,"network-request-failed"))},timeout:SF.get()})}if((i=(s=$n().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=$n().gapi)!=null&&o.load)r();else{const a=RM("iframefcb");return $n()[a]=()=>{gapi.load?r():n(En(t,"network-request-failed"))},AM(`${CM()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw sc=null,e})}let sc=null;function CF(t){return sc=sc||AF(t),sc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF=new Ll(5e3,15e3),PF="__/auth/iframe",xF="emulator/auth/iframe",kF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NF(t){const e=t.config;J(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Og(e,xF):`https://${t.config.authDomain}/${PF}`,r={apiKey:e.apiKey,appName:t.name,v:Lo},s=bF.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Vl(r).slice(1)}`}async function DF(t){const e=await CF(t),n=$n().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:NF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kF,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=En(t,"network-request-failed"),a=$n().setTimeout(()=>{i(o)},RF.get());function u(){$n().clearTimeout(a),s(r)}r.ping(u).then(u,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VF=500,LF=600,MF="_blank",FF="http://localhost";class Hw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UF(t,e,n,r=VF,s=LF){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u={...OF,width:r.toString(),height:s.toString(),top:i,left:o},c=mt().toLowerCase();n&&(a=ZA(c)?MF:n),XA(c)&&(e=e||FF,u.scrollbars="yes");const h=Object.entries(u).reduce((p,[g,S])=>`${p}${g}=${S},`,"");if(yM(c)&&a!=="_self")return jF(e||"",a),new Hw(null);const f=window.open(e||"",a,h);J(f,t,"popup-blocked");try{f.focus()}catch{}return new Hw(f)}function jF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF="__/auth/handler",$F="emulator/auth/handler",BF=encodeURIComponent("fac");async function Ww(t,e,n,r,s,i){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Lo,eventId:s};if(e instanceof Fg){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",v2(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Fl){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const u=await t._getAppCheckToken(),c=u?`#${BF}=${encodeURIComponent(u)}`:"";return`${qF(t)}?${Vl(a).slice(1)}${c}`}function qF({config:t}){return t.emulator?Og(t,$F):`https://${t.authDomain}/${zF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f="webStorageSupport";class HF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dC,this._completeRedirectFn=mF,this._overrideRedirectResult=dF}async _openPopup(e,n,r,s){var o;Er((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await Ww(e,n,r,zp(),s);return UF(e,i,Ug())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Ww(e,n,r,zp(),s);return KM(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Er(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await DF(e),r=new yF(e);return n.register("authEvent",s=>(J(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_f,{type:_f},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[_f];i!==void 0&&n(!!i),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=TF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return sC()||JA()||Lg()}}const WF=HF;var Gw="@firebase/auth",Kw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QF(t){Kn(new Cn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;J(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iC(t)},c=new IM(r,s,i,u);return xM(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Kn(new Cn("auth-internal",e=>{const n=Ml(e.getProvider("auth").getImmediate());return(r=>new GF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),sn(Gw,Kw,KF(t)),sn(Gw,Kw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF=5*60,XF=lA("authIdTokenMaxAge")||YF;let Qw=null;const JF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>XF)return;const s=n==null?void 0:n.token;Qw!==s&&(Qw=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function ZF(t=Cg()){const e=yi(t,"auth");if(e.isInitialized())return e.getImmediate();const n=PM(t,{popupRedirectResolver:WF,persistence:[rF,HM,dC]}),r=lA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=JF(i.toString());jM(n,o,()=>o(n.currentUser)),UM(n,a=>o(a))}}const s=oA("auth");return s&&kM(n,`http://${s}`),n}function e4(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}SM({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=En("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",e4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QF("Browser");var Yw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ds,wC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,_){function R(){}R.prototype=_.prototype,E.F=_.prototype,E.prototype=new R,E.prototype.constructor=E,E.D=function(x,k,b){for(var P=Array(arguments.length-2),H=2;H<arguments.length;H++)P[H-2]=arguments[H];return _.prototype[k].apply(x,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(E,_,R){R||(R=0);const x=Array(16);if(typeof _=="string")for(var k=0;k<16;++k)x[k]=_.charCodeAt(R++)|_.charCodeAt(R++)<<8|_.charCodeAt(R++)<<16|_.charCodeAt(R++)<<24;else for(k=0;k<16;++k)x[k]=_[R++]|_[R++]<<8|_[R++]<<16|_[R++]<<24;_=E.g[0],R=E.g[1],k=E.g[2];let b=E.g[3],P;P=_+(b^R&(k^b))+x[0]+3614090360&4294967295,_=R+(P<<7&4294967295|P>>>25),P=b+(k^_&(R^k))+x[1]+3905402710&4294967295,b=_+(P<<12&4294967295|P>>>20),P=k+(R^b&(_^R))+x[2]+606105819&4294967295,k=b+(P<<17&4294967295|P>>>15),P=R+(_^k&(b^_))+x[3]+3250441966&4294967295,R=k+(P<<22&4294967295|P>>>10),P=_+(b^R&(k^b))+x[4]+4118548399&4294967295,_=R+(P<<7&4294967295|P>>>25),P=b+(k^_&(R^k))+x[5]+1200080426&4294967295,b=_+(P<<12&4294967295|P>>>20),P=k+(R^b&(_^R))+x[6]+2821735955&4294967295,k=b+(P<<17&4294967295|P>>>15),P=R+(_^k&(b^_))+x[7]+4249261313&4294967295,R=k+(P<<22&4294967295|P>>>10),P=_+(b^R&(k^b))+x[8]+1770035416&4294967295,_=R+(P<<7&4294967295|P>>>25),P=b+(k^_&(R^k))+x[9]+2336552879&4294967295,b=_+(P<<12&4294967295|P>>>20),P=k+(R^b&(_^R))+x[10]+4294925233&4294967295,k=b+(P<<17&4294967295|P>>>15),P=R+(_^k&(b^_))+x[11]+2304563134&4294967295,R=k+(P<<22&4294967295|P>>>10),P=_+(b^R&(k^b))+x[12]+1804603682&4294967295,_=R+(P<<7&4294967295|P>>>25),P=b+(k^_&(R^k))+x[13]+4254626195&4294967295,b=_+(P<<12&4294967295|P>>>20),P=k+(R^b&(_^R))+x[14]+2792965006&4294967295,k=b+(P<<17&4294967295|P>>>15),P=R+(_^k&(b^_))+x[15]+1236535329&4294967295,R=k+(P<<22&4294967295|P>>>10),P=_+(k^b&(R^k))+x[1]+4129170786&4294967295,_=R+(P<<5&4294967295|P>>>27),P=b+(R^k&(_^R))+x[6]+3225465664&4294967295,b=_+(P<<9&4294967295|P>>>23),P=k+(_^R&(b^_))+x[11]+643717713&4294967295,k=b+(P<<14&4294967295|P>>>18),P=R+(b^_&(k^b))+x[0]+3921069994&4294967295,R=k+(P<<20&4294967295|P>>>12),P=_+(k^b&(R^k))+x[5]+3593408605&4294967295,_=R+(P<<5&4294967295|P>>>27),P=b+(R^k&(_^R))+x[10]+38016083&4294967295,b=_+(P<<9&4294967295|P>>>23),P=k+(_^R&(b^_))+x[15]+3634488961&4294967295,k=b+(P<<14&4294967295|P>>>18),P=R+(b^_&(k^b))+x[4]+3889429448&4294967295,R=k+(P<<20&4294967295|P>>>12),P=_+(k^b&(R^k))+x[9]+568446438&4294967295,_=R+(P<<5&4294967295|P>>>27),P=b+(R^k&(_^R))+x[14]+3275163606&4294967295,b=_+(P<<9&4294967295|P>>>23),P=k+(_^R&(b^_))+x[3]+4107603335&4294967295,k=b+(P<<14&4294967295|P>>>18),P=R+(b^_&(k^b))+x[8]+1163531501&4294967295,R=k+(P<<20&4294967295|P>>>12),P=_+(k^b&(R^k))+x[13]+2850285829&4294967295,_=R+(P<<5&4294967295|P>>>27),P=b+(R^k&(_^R))+x[2]+4243563512&4294967295,b=_+(P<<9&4294967295|P>>>23),P=k+(_^R&(b^_))+x[7]+1735328473&4294967295,k=b+(P<<14&4294967295|P>>>18),P=R+(b^_&(k^b))+x[12]+2368359562&4294967295,R=k+(P<<20&4294967295|P>>>12),P=_+(R^k^b)+x[5]+4294588738&4294967295,_=R+(P<<4&4294967295|P>>>28),P=b+(_^R^k)+x[8]+2272392833&4294967295,b=_+(P<<11&4294967295|P>>>21),P=k+(b^_^R)+x[11]+1839030562&4294967295,k=b+(P<<16&4294967295|P>>>16),P=R+(k^b^_)+x[14]+4259657740&4294967295,R=k+(P<<23&4294967295|P>>>9),P=_+(R^k^b)+x[1]+2763975236&4294967295,_=R+(P<<4&4294967295|P>>>28),P=b+(_^R^k)+x[4]+1272893353&4294967295,b=_+(P<<11&4294967295|P>>>21),P=k+(b^_^R)+x[7]+4139469664&4294967295,k=b+(P<<16&4294967295|P>>>16),P=R+(k^b^_)+x[10]+3200236656&4294967295,R=k+(P<<23&4294967295|P>>>9),P=_+(R^k^b)+x[13]+681279174&4294967295,_=R+(P<<4&4294967295|P>>>28),P=b+(_^R^k)+x[0]+3936430074&4294967295,b=_+(P<<11&4294967295|P>>>21),P=k+(b^_^R)+x[3]+3572445317&4294967295,k=b+(P<<16&4294967295|P>>>16),P=R+(k^b^_)+x[6]+76029189&4294967295,R=k+(P<<23&4294967295|P>>>9),P=_+(R^k^b)+x[9]+3654602809&4294967295,_=R+(P<<4&4294967295|P>>>28),P=b+(_^R^k)+x[12]+3873151461&4294967295,b=_+(P<<11&4294967295|P>>>21),P=k+(b^_^R)+x[15]+530742520&4294967295,k=b+(P<<16&4294967295|P>>>16),P=R+(k^b^_)+x[2]+3299628645&4294967295,R=k+(P<<23&4294967295|P>>>9),P=_+(k^(R|~b))+x[0]+4096336452&4294967295,_=R+(P<<6&4294967295|P>>>26),P=b+(R^(_|~k))+x[7]+1126891415&4294967295,b=_+(P<<10&4294967295|P>>>22),P=k+(_^(b|~R))+x[14]+2878612391&4294967295,k=b+(P<<15&4294967295|P>>>17),P=R+(b^(k|~_))+x[5]+4237533241&4294967295,R=k+(P<<21&4294967295|P>>>11),P=_+(k^(R|~b))+x[12]+1700485571&4294967295,_=R+(P<<6&4294967295|P>>>26),P=b+(R^(_|~k))+x[3]+2399980690&4294967295,b=_+(P<<10&4294967295|P>>>22),P=k+(_^(b|~R))+x[10]+4293915773&4294967295,k=b+(P<<15&4294967295|P>>>17),P=R+(b^(k|~_))+x[1]+2240044497&4294967295,R=k+(P<<21&4294967295|P>>>11),P=_+(k^(R|~b))+x[8]+1873313359&4294967295,_=R+(P<<6&4294967295|P>>>26),P=b+(R^(_|~k))+x[15]+4264355552&4294967295,b=_+(P<<10&4294967295|P>>>22),P=k+(_^(b|~R))+x[6]+2734768916&4294967295,k=b+(P<<15&4294967295|P>>>17),P=R+(b^(k|~_))+x[13]+1309151649&4294967295,R=k+(P<<21&4294967295|P>>>11),P=_+(k^(R|~b))+x[4]+4149444226&4294967295,_=R+(P<<6&4294967295|P>>>26),P=b+(R^(_|~k))+x[11]+3174756917&4294967295,b=_+(P<<10&4294967295|P>>>22),P=k+(_^(b|~R))+x[2]+718787259&4294967295,k=b+(P<<15&4294967295|P>>>17),P=R+(b^(k|~_))+x[9]+3951481745&4294967295,E.g[0]=E.g[0]+_&4294967295,E.g[1]=E.g[1]+(k+(P<<21&4294967295|P>>>11))&4294967295,E.g[2]=E.g[2]+k&4294967295,E.g[3]=E.g[3]+b&4294967295}r.prototype.v=function(E,_){_===void 0&&(_=E.length);const R=_-this.blockSize,x=this.C;let k=this.h,b=0;for(;b<_;){if(k==0)for(;b<=R;)s(this,E,b),b+=this.blockSize;if(typeof E=="string"){for(;b<_;)if(x[k++]=E.charCodeAt(b++),k==this.blockSize){s(this,x),k=0;break}}else for(;b<_;)if(x[k++]=E[b++],k==this.blockSize){s(this,x),k=0;break}}this.h=k,this.o+=_},r.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var _=1;_<E.length-8;++_)E[_]=0;_=this.o*8;for(var R=E.length-8;R<E.length;++R)E[R]=_&255,_/=256;for(this.v(E),E=Array(16),_=0,R=0;R<4;++R)for(let x=0;x<32;x+=8)E[_++]=this.g[R]>>>x&255;return E};function i(E,_){var R=a;return Object.prototype.hasOwnProperty.call(R,E)?R[E]:R[E]=_(E)}function o(E,_){this.h=_;const R=[];let x=!0;for(let k=E.length-1;k>=0;k--){const b=E[k]|0;x&&b==_||(R[k]=b,x=!1)}this.g=R}var a={};function u(E){return-128<=E&&E<128?i(E,function(_){return new o([_|0],_<0?-1:0)}):new o([E|0],E<0?-1:0)}function c(E){if(isNaN(E)||!isFinite(E))return f;if(E<0)return A(c(-E));const _=[];let R=1;for(let x=0;E>=R;x++)_[x]=E/R|0,R*=4294967296;return new o(_,0)}function h(E,_){if(E.length==0)throw Error("number format error: empty string");if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(E.charAt(0)=="-")return A(h(E.substring(1),_));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=c(Math.pow(_,8));let x=f;for(let b=0;b<E.length;b+=8){var k=Math.min(8,E.length-b);const P=parseInt(E.substring(b,b+k),_);k<8?(k=c(Math.pow(_,k)),x=x.j(k).add(c(P))):(x=x.j(R),x=x.add(c(P)))}return x}var f=u(0),p=u(1),g=u(16777216);t=o.prototype,t.m=function(){if(w(this))return-A(this).m();let E=0,_=1;for(let R=0;R<this.g.length;R++){const x=this.i(R);E+=(x>=0?x:4294967296+x)*_,_*=4294967296}return E},t.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(S(this))return"0";if(w(this))return"-"+A(this).toString(E);const _=c(Math.pow(E,6));var R=this;let x="";for(;;){const k=N(R,_).g;R=v(R,k.j(_));let b=((R.g.length>0?R.g[0]:R.h)>>>0).toString(E);if(R=k,S(R))return b+x;for(;b.length<6;)b="0"+b;x=b+x}},t.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function S(E){if(E.h!=0)return!1;for(let _=0;_<E.g.length;_++)if(E.g[_]!=0)return!1;return!0}function w(E){return E.h==-1}t.l=function(E){return E=v(this,E),w(E)?-1:S(E)?0:1};function A(E){const _=E.g.length,R=[];for(let x=0;x<_;x++)R[x]=~E.g[x];return new o(R,~E.h).add(p)}t.abs=function(){return w(this)?A(this):this},t.add=function(E){const _=Math.max(this.g.length,E.g.length),R=[];let x=0;for(let k=0;k<=_;k++){let b=x+(this.i(k)&65535)+(E.i(k)&65535),P=(b>>>16)+(this.i(k)>>>16)+(E.i(k)>>>16);x=P>>>16,b&=65535,P&=65535,R[k]=P<<16|b}return new o(R,R[R.length-1]&-2147483648?-1:0)};function v(E,_){return E.add(A(_))}t.j=function(E){if(S(this)||S(E))return f;if(w(this))return w(E)?A(this).j(A(E)):A(A(this).j(E));if(w(E))return A(this.j(A(E)));if(this.l(g)<0&&E.l(g)<0)return c(this.m()*E.m());const _=this.g.length+E.g.length,R=[];for(var x=0;x<2*_;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(let k=0;k<E.g.length;k++){const b=this.i(x)>>>16,P=this.i(x)&65535,H=E.i(k)>>>16,ie=E.i(k)&65535;R[2*x+2*k]+=P*ie,y(R,2*x+2*k),R[2*x+2*k+1]+=b*ie,y(R,2*x+2*k+1),R[2*x+2*k+1]+=P*H,y(R,2*x+2*k+1),R[2*x+2*k+2]+=b*H,y(R,2*x+2*k+2)}for(E=0;E<_;E++)R[E]=R[2*E+1]<<16|R[2*E];for(E=_;E<2*_;E++)R[E]=0;return new o(R,0)};function y(E,_){for(;(E[_]&65535)!=E[_];)E[_+1]+=E[_]>>>16,E[_]&=65535,_++}function I(E,_){this.g=E,this.h=_}function N(E,_){if(S(_))throw Error("division by zero");if(S(E))return new I(f,f);if(w(E))return _=N(A(E),_),new I(A(_.g),A(_.h));if(w(_))return _=N(E,A(_)),new I(A(_.g),_.h);if(E.g.length>30){if(w(E)||w(_))throw Error("slowDivide_ only works with positive integers.");for(var R=p,x=_;x.l(E)<=0;)R=O(R),x=O(x);var k=L(R,1),b=L(x,1);for(x=L(x,2),R=L(R,2);!S(x);){var P=b.add(x);P.l(E)<=0&&(k=k.add(R),b=P),x=L(x,1),R=L(R,1)}return _=v(E,k.j(_)),new I(k,_)}for(k=f;E.l(_)>=0;){for(R=Math.max(1,Math.floor(E.m()/_.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),b=c(R),P=b.j(_);w(P)||P.l(E)>0;)R-=x,b=c(R),P=b.j(_);S(b)&&(b=p),k=k.add(b),E=v(E,P)}return new I(k,E)}t.B=function(E){return N(this,E).h},t.and=function(E){const _=Math.max(this.g.length,E.g.length),R=[];for(let x=0;x<_;x++)R[x]=this.i(x)&E.i(x);return new o(R,this.h&E.h)},t.or=function(E){const _=Math.max(this.g.length,E.g.length),R=[];for(let x=0;x<_;x++)R[x]=this.i(x)|E.i(x);return new o(R,this.h|E.h)},t.xor=function(E){const _=Math.max(this.g.length,E.g.length),R=[];for(let x=0;x<_;x++)R[x]=this.i(x)^E.i(x);return new o(R,this.h^E.h)};function O(E){const _=E.g.length+1,R=[];for(let x=0;x<_;x++)R[x]=E.i(x)<<1|E.i(x-1)>>>31;return new o(R,E.h)}function L(E,_){const R=_>>5;_%=32;const x=E.g.length-R,k=[];for(let b=0;b<x;b++)k[b]=_>0?E.i(b+R)>>>_|E.i(b+R+1)<<32-_:E.i(b+R);return new o(k,E.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,wC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,ds=o}).apply(typeof Yw<"u"?Yw:typeof self<"u"?self:typeof window<"u"?window:{});var Du=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var EC,Aa,TC,ic,qp,IC,SC,AC;(function(){var t,e=Object.defineProperty;function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Du=="object"&&Du];for(var d=0;d<l.length;++d){var m=l[d];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function s(l,d){if(d)e:{var m=r;l=l.split(".");for(var T=0;T<l.length-1;T++){var V=l[T];if(!(V in m))break e;m=m[V]}l=l[l.length-1],T=m[l],d=d(T),d!=T&&d!=null&&e(m,l,{configurable:!0,writable:!0,value:d})}}s("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(l){return l||function(d){var m=[],T;for(T in d)Object.prototype.hasOwnProperty.call(d,T)&&m.push([T,d[T]]);return m}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function u(l,d,m){return l.call.apply(l.bind,arguments)}function c(l,d,m){return c=u,c.apply(null,arguments)}function h(l,d){var m=Array.prototype.slice.call(arguments,1);return function(){var T=m.slice();return T.push.apply(T,arguments),l.apply(this,T)}}function f(l,d){function m(){}m.prototype=d.prototype,l.Z=d.prototype,l.prototype=new m,l.prototype.constructor=l,l.Ob=function(T,V,M){for(var q=Array(arguments.length-2),se=2;se<arguments.length;se++)q[se-2]=arguments[se];return d.prototype[V].apply(T,q)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function g(l){const d=l.length;if(d>0){const m=Array(d);for(let T=0;T<d;T++)m[T]=l[T];return m}return[]}function S(l,d){for(let T=1;T<arguments.length;T++){const V=arguments[T];var m=typeof V;if(m=m!="object"?m:V?Array.isArray(V)?"array":m:"null",m=="array"||m=="object"&&typeof V.length=="number"){m=l.length||0;const M=V.length||0;l.length=m+M;for(let q=0;q<M;q++)l[m+q]=V[q]}else l.push(V)}}class w{constructor(d,m){this.i=d,this.j=m,this.h=0,this.g=null}get(){let d;return this.h>0?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function A(l){o.setTimeout(()=>{throw l},0)}function v(){var l=E;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class y{constructor(){this.h=this.g=null}add(d,m){const T=I.get();T.set(d,m),this.h?this.h.next=T:this.g=T,this.h=T}}var I=new w(()=>new N,l=>l.reset());class N{constructor(){this.next=this.g=this.h=null}set(d,m){this.h=d,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let O,L=!1,E=new y,_=()=>{const l=Promise.resolve(void 0);O=()=>{l.then(R)}};function R(){for(var l;l=v();){try{l.h.call(l.g)}catch(m){A(m)}var d=I;d.j(l),d.h<100&&(d.h++,l.next=d.g,d.g=l)}L=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var b=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};o.addEventListener("test",m,d),o.removeEventListener("test",m,d)}catch{}return l}();function P(l){return/^[\s\xa0]*$/.test(l)}function H(l,d){k.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,d)}f(H,k),H.prototype.init=function(l,d){const m=this.type=l.type,T=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget,d||(m=="mouseover"?d=l.fromElement:m=="mouseout"&&(d=l.toElement)),this.relatedTarget=d,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&H.Z.h.call(this)},H.prototype.h=function(){H.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var ie="closure_listenable_"+(Math.random()*1e6|0),oe=0;function de(l,d,m,T,V){this.listener=l,this.proxy=null,this.src=d,this.type=m,this.capture=!!T,this.ha=V,this.key=++oe,this.da=this.fa=!1}function j(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function W(l,d,m){for(const T in l)d.call(m,l[T],T,l)}function Y(l,d){for(const m in l)d.call(void 0,l[m],m,l)}function ne(l){const d={};for(const m in l)d[m]=l[m];return d}const ve="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Rt(l,d){let m,T;for(let V=1;V<arguments.length;V++){T=arguments[V];for(m in T)l[m]=T[m];for(let M=0;M<ve.length;M++)m=ve[M],Object.prototype.hasOwnProperty.call(T,m)&&(l[m]=T[m])}}function Ze(l){this.src=l,this.g={},this.h=0}Ze.prototype.add=function(l,d,m,T,V){const M=l.toString();l=this.g[M],l||(l=this.g[M]=[],this.h++);const q=Ft(l,d,T,V);return q>-1?(d=l[q],m||(d.fa=!1)):(d=new de(d,this.src,M,!!T,V),d.fa=m,l.push(d)),d};function Zn(l,d){const m=d.type;if(m in l.g){var T=l.g[m],V=Array.prototype.indexOf.call(T,d,void 0),M;(M=V>=0)&&Array.prototype.splice.call(T,V,1),M&&(j(d),l.g[m].length==0&&(delete l.g[m],l.h--))}}function Ft(l,d,m,T){for(let V=0;V<l.length;++V){const M=l[V];if(!M.da&&M.listener==d&&M.capture==!!m&&M.ha==T)return V}return-1}var ln="closure_lm_"+(Math.random()*1e6|0),Ei={};function Bo(l,d,m,T,V){if(Array.isArray(d)){for(let M=0;M<d.length;M++)Bo(l,d[M],m,T,V);return null}return m=Xl(m),l&&l[ie]?l.J(d,m,a(T)?!!T.capture:!1,V):Ql(l,d,m,!1,T,V)}function Ql(l,d,m,T,V,M){if(!d)throw Error("Invalid event type");const q=a(V)?!!V.capture:!!V;let se=Wo(l);if(se||(l[ln]=se=new Ze(l)),m=se.add(d,m,T,q,M),m.proxy)return m;if(T=Yl(),m.proxy=T,T.src=l,T.listener=m,l.addEventListener)b||(V=q),V===void 0&&(V=!1),l.addEventListener(d.toString(),T,V);else if(l.attachEvent)l.attachEvent(Ho(d.toString()),T);else if(l.addListener&&l.removeListener)l.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Yl(){function l(m){return d.call(l.src,l.listener,m)}const d=hd;return l}function qo(l,d,m,T,V){if(Array.isArray(d))for(var M=0;M<d.length;M++)qo(l,d[M],m,T,V);else T=a(T)?!!T.capture:!!T,m=Xl(m),l&&l[ie]?(l=l.i,M=String(d).toString(),M in l.g&&(d=l.g[M],m=Ft(d,m,T,V),m>-1&&(j(d[m]),Array.prototype.splice.call(d,m,1),d.length==0&&(delete l.g[M],l.h--)))):l&&(l=Wo(l))&&(d=l.g[d.toString()],l=-1,d&&(l=Ft(d,m,T,V)),(m=l>-1?d[l]:null)&&er(m))}function er(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[ie])Zn(d.i,l);else{var m=l.type,T=l.proxy;d.removeEventListener?d.removeEventListener(m,T,l.capture):d.detachEvent?d.detachEvent(Ho(m),T):d.addListener&&d.removeListener&&d.removeListener(T),(m=Wo(d))?(Zn(m,l),m.h==0&&(m.src=null,d[ln]=null)):j(l)}}}function Ho(l){return l in Ei?Ei[l]:Ei[l]="on"+l}function hd(l,d){if(l.da)l=!0;else{d=new H(d,this);const m=l.listener,T=l.ha||l.src;l.fa&&er(l),l=m.call(T,d)}return l}function Wo(l){return l=l[ln],l instanceof Ze?l:null}var Go="__closure_events_fn_"+(Math.random()*1e9>>>0);function Xl(l){return typeof l=="function"?l:(l[Go]||(l[Go]=function(d){return l.handleEvent(d)}),l[Go])}function Ve(){x.call(this),this.i=new Ze(this),this.M=this,this.G=null}f(Ve,x),Ve.prototype[ie]=!0,Ve.prototype.removeEventListener=function(l,d,m,T){qo(this,l,d,m,T)};function yt(l,d){var m,T=l.G;if(T)for(m=[];T;T=T.G)m.push(T);if(l=l.M,T=d.type||d,typeof d=="string")d=new k(d,l);else if(d instanceof k)d.target=d.target||l;else{var V=d;d=new k(T,l),Rt(d,V)}V=!0;let M,q;if(m)for(q=m.length-1;q>=0;q--)M=d.g=m[q],V=Jl(M,T,!0,d)&&V;if(M=d.g=l,V=Jl(M,T,!0,d)&&V,V=Jl(M,T,!1,d)&&V,m)for(q=0;q<m.length;q++)M=d.g=m[q],V=Jl(M,T,!1,d)&&V}Ve.prototype.N=function(){if(Ve.Z.N.call(this),this.i){var l=this.i;for(const d in l.g){const m=l.g[d];for(let T=0;T<m.length;T++)j(m[T]);delete l.g[d],l.h--}}this.G=null},Ve.prototype.J=function(l,d,m,T){return this.i.add(String(l),d,!1,m,T)},Ve.prototype.K=function(l,d,m,T){return this.i.add(String(l),d,!0,m,T)};function Jl(l,d,m,T){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();let V=!0;for(let M=0;M<d.length;++M){const q=d[M];if(q&&!q.da&&q.capture==m){const se=q.listener,Be=q.ha||q.src;q.fa&&Zn(l.i,q),V=se.call(Be,T)!==!1&&V}}return V&&!T.defaultPrevented}function s1(l,d){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=c(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(d)>2147483647?-1:o.setTimeout(l,d||0)}function Py(l){l.g=s1(()=>{l.g=null,l.i&&(l.i=!1,Py(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class i1 extends x{constructor(d,m){super(),this.m=d,this.l=m,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Py(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ko(l){x.call(this),this.h=l,this.g={}}f(Ko,x);var xy=[];function ky(l){W(l.g,function(d,m){this.g.hasOwnProperty(m)&&er(d)},l),l.g={}}Ko.prototype.N=function(){Ko.Z.N.call(this),ky(this)},Ko.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dd=o.JSON.stringify,o1=o.JSON.parse,a1=class{stringify(l){return o.JSON.stringify(l,void 0)}parse(l){return o.JSON.parse(l,void 0)}};function by(){}function Ny(){}var Qo={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function fd(){k.call(this,"d")}f(fd,k);function pd(){k.call(this,"c")}f(pd,k);var Ns={},Dy=null;function Zl(){return Dy=Dy||new Ve}Ns.Ia="serverreachability";function Oy(l){k.call(this,Ns.Ia,l)}f(Oy,k);function Yo(l){const d=Zl();yt(d,new Oy(d))}Ns.STAT_EVENT="statevent";function Vy(l,d){k.call(this,Ns.STAT_EVENT,l),this.stat=d}f(Vy,k);function vt(l){const d=Zl();yt(d,new Vy(d,l))}Ns.Ja="timingevent";function Ly(l,d){k.call(this,Ns.Ja,l),this.size=d}f(Ly,k);function Xo(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){l()},d)}function Jo(){this.g=!0}Jo.prototype.ua=function(){this.g=!1};function l1(l,d,m,T,V,M){l.info(function(){if(l.g)if(M){var q="",se=M.split("&");for(let _e=0;_e<se.length;_e++){var Be=se[_e].split("=");if(Be.length>1){const Ke=Be[0];Be=Be[1];const kn=Ke.split("_");q=kn.length>=2&&kn[1]=="type"?q+(Ke+"="+Be+"&"):q+(Ke+"=redacted&")}}}else q=null;else q=M;return"XMLHTTP REQ ("+T+") [attempt "+V+"]: "+d+`
`+m+`
`+q})}function u1(l,d,m,T,V,M,q){l.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+V+"]: "+d+`
`+m+`
`+M+" "+q})}function Ti(l,d,m,T){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+h1(l,m)+(T?" "+T:"")})}function c1(l,d){l.info(function(){return"TIMEOUT: "+d})}Jo.prototype.info=function(){};function h1(l,d){if(!l.g)return d;if(!d)return null;try{const M=JSON.parse(d);if(M){for(l=0;l<M.length;l++)if(Array.isArray(M[l])){var m=M[l];if(!(m.length<2)){var T=m[1];if(Array.isArray(T)&&!(T.length<1)){var V=T[0];if(V!="noop"&&V!="stop"&&V!="close")for(let q=1;q<T.length;q++)T[q]=""}}}}return dd(M)}catch{return d}}var eu={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},My={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Fy;function md(){}f(md,by),md.prototype.g=function(){return new XMLHttpRequest},Fy=new md;function Zo(l){return encodeURIComponent(String(l))}function d1(l){var d=1;l=l.split(":");const m=[];for(;d>0&&l.length;)m.push(l.shift()),d--;return l.length&&m.push(l.join(":")),m}function Cr(l,d,m,T){this.j=l,this.i=d,this.l=m,this.S=T||1,this.V=new Ko(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Uy}function Uy(){this.i=null,this.g="",this.h=!1}var jy={},gd={};function yd(l,d,m){l.M=1,l.A=nu(xn(d)),l.u=m,l.R=!0,zy(l,null)}function zy(l,d){l.F=Date.now(),tu(l),l.B=xn(l.A);var m=l.B,T=l.S;Array.isArray(T)||(T=[String(T)]),ev(m.i,"t",T),l.C=0,m=l.j.L,l.h=new Uy,l.g=vv(l.j,m?d:null,!l.u),l.P>0&&(l.O=new i1(c(l.Y,l,l.g),l.P)),d=l.V,m=l.g,T=l.ba;var V="readystatechange";Array.isArray(V)||(V&&(xy[0]=V.toString()),V=xy);for(let M=0;M<V.length;M++){const q=Bo(m,V[M],T||d.handleEvent,!1,d.h||d);if(!q)break;d.g[q.key]=q}d=l.J?ne(l.J):{},l.u?(l.v||(l.v="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,d)):(l.v="GET",l.g.ea(l.B,l.v,null,d)),Yo(),l1(l.i,l.v,l.B,l.l,l.S,l.u)}Cr.prototype.ba=function(l){l=l.target;const d=this.O;d&&xr(l)==3?d.j():this.Y(l)},Cr.prototype.Y=function(l){try{if(l==this.g)e:{const se=xr(this.g),Be=this.g.ya(),_e=this.g.ca();if(!(se<3)&&(se!=3||this.g&&(this.h.h||this.g.la()||av(this.g)))){this.K||se!=4||Be==7||(Be==8||_e<=0?Yo(3):Yo(2)),vd(this);var d=this.g.ca();this.X=d;var m=f1(this);if(this.o=d==200,u1(this.i,this.v,this.B,this.l,this.S,se,d),this.o){if(this.U&&!this.L){t:{if(this.g){var T,V=this.g;if((T=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(T)){var M=T;break t}}M=null}if(l=M)Ti(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_d(this,l);else{this.o=!1,this.m=3,vt(12),Ds(this),ea(this);break e}}if(this.R){l=!0;let Ke;for(;!this.K&&this.C<m.length;)if(Ke=p1(this,m),Ke==gd){se==4&&(this.m=4,vt(14),l=!1),Ti(this.i,this.l,null,"[Incomplete Response]");break}else if(Ke==jy){this.m=4,vt(15),Ti(this.i,this.l,m,"[Invalid Chunk]"),l=!1;break}else Ti(this.i,this.l,Ke,null),_d(this,Ke);if($y(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),se!=4||m.length!=0||this.h.h||(this.m=1,vt(16),l=!1),this.o=this.o&&l,!l)Ti(this.i,this.l,m,"[Invalid Chunked Response]"),Ds(this),ea(this);else if(m.length>0&&!this.W){this.W=!0;var q=this.j;q.g==this&&q.aa&&!q.P&&(q.j.info("Great, no buffering proxy detected. Bytes received: "+m.length),Rd(q),q.P=!0,vt(11))}}else Ti(this.i,this.l,m,null),_d(this,m);se==4&&Ds(this),this.o&&!this.K&&(se==4?pv(this.j,this):(this.o=!1,tu(this)))}else P1(this.g),d==400&&m.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),Ds(this),ea(this)}}}catch{}finally{}};function f1(l){if(!$y(l))return l.g.la();const d=av(l.g);if(d==="")return"";let m="";const T=d.length,V=xr(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return Ds(l),ea(l),"";l.h.i=new o.TextDecoder}for(let M=0;M<T;M++)l.h.h=!0,m+=l.h.i.decode(d[M],{stream:!(V&&M==T-1)});return d.length=0,l.h.g+=m,l.C=0,l.h.g}function $y(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function p1(l,d){var m=l.C,T=d.indexOf(`
`,m);return T==-1?gd:(m=Number(d.substring(m,T)),isNaN(m)?jy:(T+=1,T+m>d.length?gd:(d=d.slice(T,T+m),l.C=T+m,d)))}Cr.prototype.cancel=function(){this.K=!0,Ds(this)};function tu(l){l.T=Date.now()+l.H,By(l,l.H)}function By(l,d){if(l.D!=null)throw Error("WatchDog timer not null");l.D=Xo(c(l.aa,l),d)}function vd(l){l.D&&(o.clearTimeout(l.D),l.D=null)}Cr.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(c1(this.i,this.B),this.M!=2&&(Yo(),vt(17)),Ds(this),this.m=2,ea(this)):By(this,this.T-l)};function ea(l){l.j.I==0||l.K||pv(l.j,l)}function Ds(l){vd(l);var d=l.O;d&&typeof d.dispose=="function"&&d.dispose(),l.O=null,ky(l.V),l.g&&(d=l.g,l.g=null,d.abort(),d.dispose())}function _d(l,d){try{var m=l.j;if(m.I!=0&&(m.g==l||wd(m.h,l))){if(!l.L&&wd(m.h,l)&&m.I==3){try{var T=m.Ba.g.parse(d)}catch{T=null}if(Array.isArray(T)&&T.length==3){var V=T;if(V[0]==0){e:if(!m.v){if(m.g)if(m.g.F+3e3<l.F)au(m),iu(m);else break e;Cd(m),vt(18)}}else m.xa=V[1],0<m.xa-m.K&&V[2]<37500&&m.F&&m.A==0&&!m.C&&(m.C=Xo(c(m.Va,m),6e3));Wy(m.h)<=1&&m.ta&&(m.ta=void 0)}else Vs(m,11)}else if((l.L||m.g==l)&&au(m),!P(d))for(V=m.Ba.g.parse(d),d=0;d<V.length;d++){let _e=V[d];const Ke=_e[0];if(!(Ke<=m.K))if(m.K=Ke,_e=_e[1],m.I==2)if(_e[0]=="c"){m.M=_e[1],m.ba=_e[2];const kn=_e[3];kn!=null&&(m.ka=kn,m.j.info("VER="+m.ka));const Ls=_e[4];Ls!=null&&(m.za=Ls,m.j.info("SVER="+m.za));const kr=_e[5];kr!=null&&typeof kr=="number"&&kr>0&&(T=1.5*kr,m.O=T,m.j.info("backChannelRequestTimeoutMs_="+T)),T=m;const br=l.g;if(br){const uu=br.g?br.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(uu){var M=T.h;M.g||uu.indexOf("spdy")==-1&&uu.indexOf("quic")==-1&&uu.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Ed(M,M.h),M.h=null))}if(T.G){const Pd=br.g?br.g.getResponseHeader("X-HTTP-Session-Id"):null;Pd&&(T.wa=Pd,Te(T.J,T.G,Pd))}}m.I=3,m.l&&m.l.ra(),m.aa&&(m.T=Date.now()-l.F,m.j.info("Handshake RTT: "+m.T+"ms")),T=m;var q=l;if(T.na=yv(T,T.L?T.ba:null,T.W),q.L){Gy(T.h,q);var se=q,Be=T.O;Be&&(se.H=Be),se.D&&(vd(se),tu(se)),T.g=q}else dv(T);m.i.length>0&&ou(m)}else _e[0]!="stop"&&_e[0]!="close"||Vs(m,7);else m.I==3&&(_e[0]=="stop"||_e[0]=="close"?_e[0]=="stop"?Vs(m,7):Ad(m):_e[0]!="noop"&&m.l&&m.l.qa(_e),m.A=0)}}Yo(4)}catch{}}var m1=class{constructor(l,d){this.g=l,this.map=d}};function qy(l){this.l=l||10,o.PerformanceNavigationTiming?(l=o.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Hy(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Wy(l){return l.h?1:l.g?l.g.size:0}function wd(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function Ed(l,d){l.g?l.g.add(d):l.h=d}function Gy(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}qy.prototype.cancel=function(){if(this.i=Ky(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Ky(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const m of l.g.values())d=d.concat(m.G);return d}return g(l.i)}var Qy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function g1(l,d){if(l){l=l.split("&");for(let m=0;m<l.length;m++){const T=l[m].indexOf("=");let V,M=null;T>=0?(V=l[m].substring(0,T),M=l[m].substring(T+1)):V=l[m],d(V,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Rr(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let d;l instanceof Rr?(this.l=l.l,ta(this,l.j),this.o=l.o,this.g=l.g,na(this,l.u),this.h=l.h,Td(this,tv(l.i)),this.m=l.m):l&&(d=String(l).match(Qy))?(this.l=!1,ta(this,d[1]||"",!0),this.o=ra(d[2]||""),this.g=ra(d[3]||"",!0),na(this,d[4]),this.h=ra(d[5]||"",!0),Td(this,d[6]||"",!0),this.m=ra(d[7]||"")):(this.l=!1,this.i=new ia(null,this.l))}Rr.prototype.toString=function(){const l=[];var d=this.j;d&&l.push(sa(d,Yy,!0),":");var m=this.g;return(m||d=="file")&&(l.push("//"),(d=this.o)&&l.push(sa(d,Yy,!0),"@"),l.push(Zo(m).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.u,m!=null&&l.push(":",String(m))),(m=this.h)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(sa(m,m.charAt(0)=="/"?_1:v1,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",sa(m,E1)),l.join("")},Rr.prototype.resolve=function(l){const d=xn(this);let m=!!l.j;m?ta(d,l.j):m=!!l.o,m?d.o=l.o:m=!!l.g,m?d.g=l.g:m=l.u!=null;var T=l.h;if(m)na(d,l.u);else if(m=!!l.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var V=d.h.lastIndexOf("/");V!=-1&&(T=d.h.slice(0,V+1)+T)}if(V=T,V==".."||V==".")T="";else if(V.indexOf("./")!=-1||V.indexOf("/.")!=-1){T=V.lastIndexOf("/",0)==0,V=V.split("/");const M=[];for(let q=0;q<V.length;){const se=V[q++];se=="."?T&&q==V.length&&M.push(""):se==".."?((M.length>1||M.length==1&&M[0]!="")&&M.pop(),T&&q==V.length&&M.push("")):(M.push(se),T=!0)}T=M.join("/")}else T=V}return m?d.h=T:m=l.i.toString()!=="",m?Td(d,tv(l.i)):m=!!l.m,m&&(d.m=l.m),d};function xn(l){return new Rr(l)}function ta(l,d,m){l.j=m?ra(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function na(l,d){if(d){if(d=Number(d),isNaN(d)||d<0)throw Error("Bad port number "+d);l.u=d}else l.u=null}function Td(l,d,m){d instanceof ia?(l.i=d,T1(l.i,l.l)):(m||(d=sa(d,w1)),l.i=new ia(d,l.l))}function Te(l,d,m){l.i.set(d,m)}function nu(l){return Te(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function ra(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function sa(l,d,m){return typeof l=="string"?(l=encodeURI(l).replace(d,y1),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function y1(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Yy=/[#\/\?@]/g,v1=/[#\?:]/g,_1=/[#\?]/g,w1=/[#\?@]/g,E1=/#/g;function ia(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function Os(l){l.g||(l.g=new Map,l.h=0,l.i&&g1(l.i,function(d,m){l.add(decodeURIComponent(d.replace(/\+/g," ")),m)}))}t=ia.prototype,t.add=function(l,d){Os(this),this.i=null,l=Ii(this,l);let m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(d),this.h+=1,this};function Xy(l,d){Os(l),d=Ii(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function Jy(l,d){return Os(l),d=Ii(l,d),l.g.has(d)}t.forEach=function(l,d){Os(this),this.g.forEach(function(m,T){m.forEach(function(V){l.call(d,V,T,this)},this)},this)};function Zy(l,d){Os(l);let m=[];if(typeof d=="string")Jy(l,d)&&(m=m.concat(l.g.get(Ii(l,d))));else for(l=Array.from(l.g.values()),d=0;d<l.length;d++)m=m.concat(l[d]);return m}t.set=function(l,d){return Os(this),this.i=null,l=Ii(this,l),Jy(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},t.get=function(l,d){return l?(l=Zy(this,l),l.length>0?String(l[0]):d):d};function ev(l,d,m){Xy(l,d),m.length>0&&(l.i=null,l.g.set(Ii(l,d),g(m)),l.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(let T=0;T<d.length;T++){var m=d[T];const V=Zo(m);m=Zy(this,m);for(let M=0;M<m.length;M++){let q=V;m[M]!==""&&(q+="="+Zo(m[M])),l.push(q)}}return this.i=l.join("&")};function tv(l){const d=new ia;return d.i=l.i,l.g&&(d.g=new Map(l.g),d.h=l.h),d}function Ii(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function T1(l,d){d&&!l.j&&(Os(l),l.i=null,l.g.forEach(function(m,T){const V=T.toLowerCase();T!=V&&(Xy(this,T),ev(this,V,m))},l)),l.j=d}function I1(l,d){const m=new Jo;if(o.Image){const T=new Image;T.onload=h(Pr,m,"TestLoadImage: loaded",!0,d,T),T.onerror=h(Pr,m,"TestLoadImage: error",!1,d,T),T.onabort=h(Pr,m,"TestLoadImage: abort",!1,d,T),T.ontimeout=h(Pr,m,"TestLoadImage: timeout",!1,d,T),o.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=l}else d(!1)}function S1(l,d){const m=new Jo,T=new AbortController,V=setTimeout(()=>{T.abort(),Pr(m,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:T.signal}).then(M=>{clearTimeout(V),M.ok?Pr(m,"TestPingServer: ok",!0,d):Pr(m,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(V),Pr(m,"TestPingServer: error",!1,d)})}function Pr(l,d,m,T,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),T(m)}catch{}}function A1(){this.g=new a1}function Id(l){this.i=l.Sb||null,this.h=l.ab||!1}f(Id,by),Id.prototype.g=function(){return new ru(this.i,this.h)};function ru(l,d){Ve.call(this),this.H=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(ru,Ve),t=ru.prototype,t.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=d,this.readyState=1,aa(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const d={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(d.body=l),(this.H||o).fetch(new Request(this.D,d)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,oa(this)),this.readyState=0},t.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,aa(this)),this.g&&(this.readyState=3,aa(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;nv(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function nv(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}t.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.B.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?oa(this):aa(this),this.readyState==3&&nv(this)}},t.Oa=function(l){this.g&&(this.response=this.responseText=l,oa(this))},t.Na=function(l){this.g&&(this.response=l,oa(this))},t.ga=function(){this.g&&oa(this)};function oa(l){l.readyState=4,l.l=null,l.j=null,l.B=null,aa(l)}t.setRequestHeader=function(l,d){this.A.append(l,d)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var m=d.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=d.next();return l.join(`\r
`)};function aa(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ru.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function rv(l){let d="";return W(l,function(m,T){d+=T,d+=":",d+=m,d+=`\r
`}),d}function Sd(l,d,m){e:{for(T in m){var T=!1;break e}T=!0}T||(m=rv(m),typeof l=="string"?m!=null&&Zo(m):Te(l,d,m))}function be(l){Ve.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(be,Ve);var C1=/^https?$/i,R1=["POST","PUT"];t=be.prototype,t.Fa=function(l){this.H=l},t.ea=function(l,d,m,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Fy.g(),this.g.onreadystatechange=p(c(this.Ca,this));try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(M){sv(this,M);return}if(l=m||"",m=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var V in T)m.set(V,T[V]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const M of T.keys())m.set(M,T.get(M));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(m.keys()).find(M=>M.toLowerCase()=="content-type"),V=o.FormData&&l instanceof o.FormData,!(Array.prototype.indexOf.call(R1,d,void 0)>=0)||T||V||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,q]of m)this.g.setRequestHeader(M,q);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(M){sv(this,M)}};function sv(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.o=5,iv(l),su(l)}function iv(l){l.A||(l.A=!0,yt(l,"complete"),yt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,yt(this,"complete"),yt(this,"abort"),su(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),su(this,!0)),be.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ov(this):this.Xa())},t.Xa=function(){ov(this)};function ov(l){if(l.h&&typeof i<"u"){if(l.v&&xr(l)==4)setTimeout(l.Ca.bind(l),0);else if(yt(l,"readystatechange"),xr(l)==4){l.h=!1;try{const M=l.ca();e:switch(M){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var m;if(!(m=d)){var T;if(T=M===0){let q=String(l.D).match(Qy)[1]||null;!q&&o.self&&o.self.location&&(q=o.self.location.protocol.slice(0,-1)),T=!C1.test(q?q.toLowerCase():"")}m=T}if(m)yt(l,"complete"),yt(l,"success");else{l.o=6;try{var V=xr(l)>2?l.g.statusText:""}catch{V=""}l.l=V+" ["+l.ca()+"]",iv(l)}}finally{su(l)}}}}function su(l,d){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const m=l.g;l.g=null,d||yt(l,"ready");try{m.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function xr(l){return l.g?l.g.readyState:0}t.ca=function(){try{return xr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),o1(d)}};function av(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function P1(l){const d={};l=(l.g&&xr(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<l.length;T++){if(P(l[T]))continue;var m=d1(l[T]);const V=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const M=d[V]||[];d[V]=M,M.push(m)}Y(d,function(T){return T.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function la(l,d,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||d}function lv(l){this.za=0,this.i=[],this.j=new Jo,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=la("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=la("baseRetryDelayMs",5e3,l),this.Za=la("retryDelaySeedMs",1e4,l),this.Ta=la("forwardChannelMaxRetries",2,l),this.va=la("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new qy(l&&l.concurrentRequestLimit),this.Ba=new A1,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=lv.prototype,t.ka=8,t.I=1,t.connect=function(l,d,m,T){vt(0),this.W=l,this.H=d||{},m&&T!==void 0&&(this.H.OSID=m,this.H.OAID=T),this.F=this.X,this.J=yv(this,null,this.W),ou(this)};function Ad(l){if(uv(l),l.I==3){var d=l.V++,m=xn(l.J);if(Te(m,"SID",l.M),Te(m,"RID",d),Te(m,"TYPE","terminate"),ua(l,m),d=new Cr(l,l.j,d),d.M=2,d.A=nu(xn(m)),m=!1,o.navigator&&o.navigator.sendBeacon)try{m=o.navigator.sendBeacon(d.A.toString(),"")}catch{}!m&&o.Image&&(new Image().src=d.A,m=!0),m||(d.g=vv(d.j,null),d.g.ea(d.A)),d.F=Date.now(),tu(d)}gv(l)}function iu(l){l.g&&(Rd(l),l.g.cancel(),l.g=null)}function uv(l){iu(l),l.v&&(o.clearTimeout(l.v),l.v=null),au(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&o.clearTimeout(l.m),l.m=null)}function ou(l){if(!Hy(l.h)&&!l.m){l.m=!0;var d=l.Ea;O||_(),L||(O(),L=!0),E.add(d,l),l.D=0}}function x1(l,d){return Wy(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=d.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=Xo(c(l.Ea,l,d),mv(l,l.D)),l.D++,!0)}t.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const V=new Cr(this,this.j,l);let M=this.o;if(this.U&&(M?(M=ne(M),Rt(M,this.U)):M=this.U),this.u!==null||this.R||(V.J=M,M=null),this.S)e:{for(var d=0,m=0;m<this.i.length;m++){t:{var T=this.i[m];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(d+=T,d>4096){d=m;break e}if(d===4096||m===this.i.length-1){d=m+1;break e}}d=1e3}else d=1e3;d=hv(this,V,d),m=xn(this.J),Te(m,"RID",l),Te(m,"CVER",22),this.G&&Te(m,"X-HTTP-Session-Id",this.G),ua(this,m),M&&(this.R?d="headers="+Zo(rv(M))+"&"+d:this.u&&Sd(m,this.u,M)),Ed(this.h,V),this.Ra&&Te(m,"TYPE","init"),this.S?(Te(m,"$req",d),Te(m,"SID","null"),V.U=!0,yd(V,m,null)):yd(V,m,d),this.I=2}}else this.I==3&&(l?cv(this,l):this.i.length==0||Hy(this.h)||cv(this))};function cv(l,d){var m;d?m=d.l:m=l.V++;const T=xn(l.J);Te(T,"SID",l.M),Te(T,"RID",m),Te(T,"AID",l.K),ua(l,T),l.u&&l.o&&Sd(T,l.u,l.o),m=new Cr(l,l.j,m,l.D+1),l.u===null&&(m.J=l.o),d&&(l.i=d.G.concat(l.i)),d=hv(l,m,1e3),m.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),Ed(l.h,m),yd(m,T,d)}function ua(l,d){l.H&&W(l.H,function(m,T){Te(d,T,m)}),l.l&&W({},function(m,T){Te(d,T,m)})}function hv(l,d,m){m=Math.min(l.i.length,m);const T=l.l?c(l.l.Ka,l.l,l):null;e:{var V=l.i;let se=-1;for(;;){const Be=["count="+m];se==-1?m>0?(se=V[0].g,Be.push("ofs="+se)):se=0:Be.push("ofs="+se);let _e=!0;for(let Ke=0;Ke<m;Ke++){var M=V[Ke].g;const kn=V[Ke].map;if(M-=se,M<0)se=Math.max(0,V[Ke].g-100),_e=!1;else try{M="req"+M+"_"||"";try{var q=kn instanceof Map?kn:Object.entries(kn);for(const[Ls,kr]of q){let br=kr;a(kr)&&(br=dd(kr)),Be.push(M+Ls+"="+encodeURIComponent(br))}}catch(Ls){throw Be.push(M+"type="+encodeURIComponent("_badmap")),Ls}}catch{T&&T(kn)}}if(_e){q=Be.join("&");break e}}q=void 0}return l=l.i.splice(0,m),d.G=l,q}function dv(l){if(!l.g&&!l.v){l.Y=1;var d=l.Da;O||_(),L||(O(),L=!0),E.add(d,l),l.A=0}}function Cd(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=Xo(c(l.Da,l),mv(l,l.A)),l.A++,!0)}t.Da=function(){if(this.v=null,fv(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=Xo(c(this.Wa,this),l)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),iu(this),fv(this))};function Rd(l){l.B!=null&&(o.clearTimeout(l.B),l.B=null)}function fv(l){l.g=new Cr(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var d=xn(l.na);Te(d,"RID","rpc"),Te(d,"SID",l.M),Te(d,"AID",l.K),Te(d,"CI",l.F?"0":"1"),!l.F&&l.ia&&Te(d,"TO",l.ia),Te(d,"TYPE","xmlhttp"),ua(l,d),l.u&&l.o&&Sd(d,l.u,l.o),l.O&&(l.g.H=l.O);var m=l.g;l=l.ba,m.M=1,m.A=nu(xn(d)),m.u=null,m.R=!0,zy(m,l)}t.Va=function(){this.C!=null&&(this.C=null,iu(this),Cd(this),vt(19))};function au(l){l.C!=null&&(o.clearTimeout(l.C),l.C=null)}function pv(l,d){var m=null;if(l.g==d){au(l),Rd(l),l.g=null;var T=2}else if(wd(l.h,d))m=d.G,Gy(l.h,d),T=1;else return;if(l.I!=0){if(d.o)if(T==1){m=d.u?d.u.length:0,d=Date.now()-d.F;var V=l.D;T=Zl(),yt(T,new Ly(T,m)),ou(l)}else dv(l);else if(V=d.m,V==3||V==0&&d.X>0||!(T==1&&x1(l,d)||T==2&&Cd(l)))switch(m&&m.length>0&&(d=l.h,d.i=d.i.concat(m)),V){case 1:Vs(l,5);break;case 4:Vs(l,10);break;case 3:Vs(l,6);break;default:Vs(l,2)}}}function mv(l,d){let m=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(m*=2),m*d}function Vs(l,d){if(l.j.info("Error code "+d),d==2){var m=c(l.bb,l),T=l.Ua;const V=!T;T=new Rr(T||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||ta(T,"https"),nu(T),V?I1(T.toString(),m):S1(T.toString(),m)}else vt(2);l.I=0,l.l&&l.l.pa(d),gv(l),uv(l)}t.bb=function(l){l?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function gv(l){if(l.I=0,l.ja=[],l.l){const d=Ky(l.h);(d.length!=0||l.i.length!=0)&&(S(l.ja,d),S(l.ja,l.i),l.h.i.length=0,g(l.i),l.i.length=0),l.l.oa()}}function yv(l,d,m){var T=m instanceof Rr?xn(m):new Rr(m);if(T.g!="")d&&(T.g=d+"."+T.g),na(T,T.u);else{var V=o.location;T=V.protocol,d=d?d+"."+V.hostname:V.hostname,V=+V.port;const M=new Rr(null);T&&ta(M,T),d&&(M.g=d),V&&na(M,V),m&&(M.h=m),T=M}return m=l.G,d=l.wa,m&&d&&Te(T,m,d),Te(T,"VER",l.ka),ua(l,T),T}function vv(l,d,m){if(d&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Aa&&!l.ma?new be(new Id({ab:m})):new be(l.ma),d.Fa(l.L),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function _v(){}t=_v.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function lu(){}lu.prototype.g=function(l,d){return new Ut(l,d)};function Ut(l,d){Ve.call(this),this.g=new lv(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.sa&&(l?l["X-WebChannel-Client-Profile"]=d.sa:l={"X-WebChannel-Client-Profile":d.sa}),this.g.U=l,(l=d&&d.Qb)&&!P(l)&&(this.g.u=l),this.A=d&&d.supportsCrossDomainXhr||!1,this.v=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!P(d)&&(this.g.G=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new Si(this)}f(Ut,Ve),Ut.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ut.prototype.close=function(){Ad(this.g)},Ut.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.v&&(m={},m.__data__=dd(l),l=m);d.i.push(new m1(d.Ya++,l)),d.I==3&&ou(d)},Ut.prototype.N=function(){this.g.l=null,delete this.j,Ad(this.g),delete this.g,Ut.Z.N.call(this)};function wv(l){fd.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const m in d){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}f(wv,fd);function Ev(){pd.call(this),this.status=1}f(Ev,pd);function Si(l){this.g=l}f(Si,_v),Si.prototype.ra=function(){yt(this.g,"a")},Si.prototype.qa=function(l){yt(this.g,new wv(l))},Si.prototype.pa=function(l){yt(this.g,new Ev)},Si.prototype.oa=function(){yt(this.g,"b")},lu.prototype.createWebChannel=lu.prototype.g,Ut.prototype.send=Ut.prototype.o,Ut.prototype.open=Ut.prototype.m,Ut.prototype.close=Ut.prototype.close,AC=function(){return new lu},SC=function(){return Zl()},IC=Ns,qp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},eu.NO_ERROR=0,eu.TIMEOUT=8,eu.HTTP_ERROR=6,ic=eu,My.COMPLETE="complete",TC=My,Ny.EventType=Qo,Qo.OPEN="a",Qo.CLOSE="b",Qo.ERROR="c",Qo.MESSAGE="d",Ve.prototype.listen=Ve.prototype.J,Aa=Ny,be.prototype.listenOnce=be.prototype.K,be.prototype.getLastError=be.prototype.Ha,be.prototype.getLastErrorCode=be.prototype.ya,be.prototype.getStatus=be.prototype.ca,be.prototype.getResponseJson=be.prototype.La,be.prototype.getResponseText=be.prototype.la,be.prototype.send=be.prototype.ea,be.prototype.setWithCredentials=be.prototype.Fa,EC=be}).apply(typeof Du<"u"?Du:typeof self<"u"?self:typeof window<"u"?window:{});const Xw="@firebase/firestore",Jw="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ht.UNAUTHENTICATED=new ht(null),ht.GOOGLE_CREDENTIALS=new ht("google-credentials-uid"),ht.FIRST_PARTY=new ht("first-party-uid"),ht.MOCK_USER=new ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di=new Uh("@firebase/firestore");function Ci(){return di.logLevel}function G(t,...e){if(di.logLevel<=le.DEBUG){const n=e.map(zg);di.debug(`Firestore (${Fo}): ${t}`,...n)}}function Tr(t,...e){if(di.logLevel<=le.ERROR){const n=e.map(zg);di.error(`Firestore (${Fo}): ${t}`,...n)}}function Eo(t,...e){if(di.logLevel<=le.WARN){const n=e.map(zg);di.warn(`Firestore (${Fo}): ${t}`,...n)}}function zg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,CC(t,r,n)}function CC(t,e,n){let r=`FIRESTORE (${Fo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Tr(r),new Error(r)}function ge(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||CC(e,s,r)}function te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class B extends Pn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class t4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ht.UNAUTHENTICATED))}shutdown(){}}class n4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class r4{constructor(e){this.t=e,this.currentUser=ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ge(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new dr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new dr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},a=u=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new dr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ge(typeof r.accessToken=="string",31837,{l:r}),new RC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ge(e===null||typeof e=="string",2055,{h:e}),new ht(e)}}class s4{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ht.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class i4{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new s4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Zw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class o4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,en(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ge(this.o===void 0,3512);const r=i=>{i.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Zw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Zw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=a4(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ue(t,e){return t<e?-1:t>e?1:0}function Hp(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return wf(s)===wf(i)?ue(s,i):wf(s)?1:-1}return ue(t.length,e.length)}const l4=55296,u4=57343;function wf(t){const e=t.charCodeAt(0);return e>=l4&&e<=u4}function To(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="__name__";class Dn{constructor(e,n,r){n===void 0?n=0:n>e.length&&X(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&X(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Dn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Dn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Dn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ue(e.length,n.length)}static compareSegments(e,n){const r=Dn.isNumericId(e),s=Dn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Dn.extractNumericId(e).compare(Dn.extractNumericId(n)):Hp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ds.fromString(e.substring(4,e.length-2))}}class we extends Dn{construct(e,n,r){return new we(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new B(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new we(n)}static emptyPath(){return new we([])}}const c4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rt extends Dn{construct(e,n,r){return new rt(e,n,r)}static isValidIdentifier(e){return c4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===eE}static keyField(){return new rt([eE])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new B(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new B(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new B(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new B(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rt(n)}static emptyPath(){return new rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(we.fromString(e))}static fromName(e){return new Q(we.fromString(e).popFirst(5))}static empty(){return new Q(we.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&we.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return we.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new we(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(t,e,n){if(!n)throw new B(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function h4(t,e,n,r){if(e===!0&&r===!0)throw new B(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function tE(t){if(!Q.isDocumentKey(t))throw new B(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function nE(t){if(Q.isDocumentKey(t))throw new B(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function xC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Hh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":X(12329,{type:typeof t})}function Yn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new B(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hh(t);throw new B(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function d4(t,e){if(e<=0)throw new B(F.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(t,e){const n={typeString:t};return e&&(n.value=e),n}function jl(t,e){if(!xC(t))throw new B(F.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new B(F.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=-62135596800,sE=1e6;class me{static now(){return me.fromMillis(Date.now())}static fromDate(e){return me.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*sE);return new me(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new B(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<rE)throw new B(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sE}_compareTo(e){return this.seconds===e.seconds?ue(this.nanoseconds,e.nanoseconds):ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:me._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(jl(e,me._jsonSchema))return new me(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-rE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}me._jsonSchemaVersion="firestore/timestamp/1.0",me._jsonSchema={type:$e("string",me._jsonSchemaVersion),seconds:$e("number"),nanoseconds:$e("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{static fromTimestamp(e){return new ee(e)}static min(){return new ee(new me(0,0))}static max(){return new ee(new me(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml=-1;function f4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ee.fromTimestamp(r===1e9?new me(n+1,0):new me(n,r));return new Es(s,Q.empty(),e)}function p4(t){return new Es(t.readTime,t.key,ml)}class Es{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Es(ee.min(),Q.empty(),ml)}static max(){return new Es(ee.max(),Q.empty(),ml)}}function m4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class y4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==g4)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(s=>s?z.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new z((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let u=0;u<i;u++){const c=u;n(e[c]).next(h=>{o[c]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new z((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function v4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function jo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Wh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg=-1;function Gh(t){return t==null}function Jc(t){return t===0&&1/t==-1/0}function _4(t){return typeof t=="number"&&Number.isInteger(t)&&!Jc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC="";function w4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=iE(e)),e=E4(t.get(n),e);return iE(e)}function E4(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case kC:n+="";break;default:n+=i}}return n}function iE(t){return t+kC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ks(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function bC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e,n){this.comparator=e,this.root=n||nt.EMPTY}insert(e,n){return new ke(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nt.BLACK,null,null))}remove(e){return new ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ou(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ou(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ou(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ou(this.root,e,this.comparator,!0)}}class Ou{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??nt.RED,this.left=s??nt.EMPTY,this.right=i??nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new nt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return nt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw X(43730,{key:this.key,value:this.value});if(this.right.isRed())throw X(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw X(27949);return e+(this.isRed()?0:1)}}nt.EMPTY=null,nt.RED=!0,nt.BLACK=!1;nt.EMPTY=new class{constructor(){this.size=0}get key(){throw X(57766)}get value(){throw X(16141)}get color(){throw X(16727)}get left(){throw X(29726)}get right(){throw X(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new nt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.comparator=e,this.data=new ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new aE(this.data.getIterator())}getIteratorFrom(e){return new aE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ge)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ge(this.comparator);return n.data=e,n}}class aE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.fields=e,e.sort(rt.comparator)}static empty(){return new Bt([])}unionWith(e){let n=new Ge(rt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Bt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return To(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new NC("Invalid base64 string: "+i):i}}(e);return new ot(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new ot(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ot.EMPTY_BYTE_STRING=new ot("");const T4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ts(t){if(ge(!!t,39018),typeof t=="string"){let e=0;const n=T4.exec(t);if(ge(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Le(t.seconds),nanos:Le(t.nanos)}}function Le(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Is(t){return typeof t=="string"?ot.fromBase64String(t):ot.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC="server_timestamp",OC="__type__",VC="__previous_value__",LC="__local_write_time__";function Kh(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[OC])==null?void 0:r.stringValue)===DC}function Qh(t){const e=t.mapValue.fields[VC];return Kh(e)?Qh(e):e}function gl(t){const e=Ts(t.mapValue.fields[LC].timestampValue);return new me(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e,n,r,s,i,o,a,u,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=h}}const Zc="(default)";class yl{constructor(e,n){this.projectId=e,this.database=n||Zc}static empty(){return new yl("","")}get isDefaultDatabase(){return this.database===Zc}isEqual(e){return e instanceof yl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC="__type__",S4="__max__",Vu={mapValue:{}},FC="__vector__",eh="value";function Ss(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Kh(t)?4:C4(t)?9007199254740991:A4(t)?10:11:X(28295,{value:t})}function Xn(t,e){if(t===e)return!0;const n=Ss(t);if(n!==Ss(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gl(t).isEqual(gl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ts(s.timestampValue),a=Ts(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Is(s.bytesValue).isEqual(Is(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Le(s.geoPointValue.latitude)===Le(i.geoPointValue.latitude)&&Le(s.geoPointValue.longitude)===Le(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Le(s.integerValue)===Le(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Le(s.doubleValue),a=Le(i.doubleValue);return o===a?Jc(o)===Jc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return To(t.arrayValue.values||[],e.arrayValue.values||[],Xn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(oE(o)!==oE(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Xn(o[u],a[u])))return!1;return!0}(t,e);default:return X(52216,{left:t})}}function vl(t,e){return(t.values||[]).find(n=>Xn(n,e))!==void 0}function Io(t,e){if(t===e)return 0;const n=Ss(t),r=Ss(e);if(n!==r)return ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ue(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Le(i.integerValue||i.doubleValue),u=Le(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return lE(t.timestampValue,e.timestampValue);case 4:return lE(gl(t),gl(e));case 5:return Hp(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Is(i),u=Is(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const h=ue(a[c],u[c]);if(h!==0)return h}return ue(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ue(Le(i.latitude),Le(o.latitude));return a!==0?a:ue(Le(i.longitude),Le(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return uE(t.arrayValue,e.arrayValue);case 10:return function(i,o){var p,g,S,w;const a=i.fields||{},u=o.fields||{},c=(p=a[eh])==null?void 0:p.arrayValue,h=(g=u[eh])==null?void 0:g.arrayValue,f=ue(((S=c==null?void 0:c.values)==null?void 0:S.length)||0,((w=h==null?void 0:h.values)==null?void 0:w.length)||0);return f!==0?f:uE(c,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Vu.mapValue&&o===Vu.mapValue)return 0;if(i===Vu.mapValue)return 1;if(o===Vu.mapValue)return-1;const a=i.fields||{},u=Object.keys(a),c=o.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let f=0;f<u.length&&f<h.length;++f){const p=Hp(u[f],h[f]);if(p!==0)return p;const g=Io(a[u[f]],c[h[f]]);if(g!==0)return g}return ue(u.length,h.length)}(t.mapValue,e.mapValue);default:throw X(23264,{he:n})}}function lE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ue(t,e);const n=Ts(t),r=Ts(e),s=ue(n.seconds,r.seconds);return s!==0?s:ue(n.nanos,r.nanos)}function uE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Io(n[s],r[s]);if(i)return i}return ue(n.length,r.length)}function So(t){return Wp(t)}function Wp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ts(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Is(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Wp(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Wp(n.fields[o])}`;return s+"}"}(t.mapValue):X(61005,{value:t})}function oc(t){switch(Ss(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qh(t);return e?16+oc(e):16;case 5:return 2*t.stringValue.length;case 6:return Is(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+oc(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return ks(r.fields,(i,o)=>{s+=i.length+oc(o)}),s}(t.mapValue);default:throw X(13486,{value:t})}}function th(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Gp(t){return!!t&&"integerValue"in t}function qg(t){return!!t&&"arrayValue"in t}function cE(t){return!!t&&"nullValue"in t}function hE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ac(t){return!!t&&"mapValue"in t}function A4(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[MC])==null?void 0:r.stringValue)===FC}function $a(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ks(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=$a(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$a(t.arrayValue.values[n]);return e}return{...t}}function C4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===S4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.value=e}static empty(){return new kt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ac(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$a(n)}setAll(e){let n=rt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=$a(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());ac(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];ac(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ks(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new kt($a(this.value))}}function UC(t){const e=[];return ks(t.fields,(n,r)=>{const s=new rt([n]);if(ac(r)){const i=UC(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Bt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ft(e,0,ee.min(),ee.min(),ee.min(),kt.empty(),0)}static newFoundDocument(e,n,r,s){return new ft(e,1,n,ee.min(),r,s,0)}static newNoDocument(e,n){return new ft(e,2,n,ee.min(),ee.min(),kt.empty(),0)}static newUnknownDocument(e,n){return new ft(e,3,n,ee.min(),ee.min(),kt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,n){this.position=e,this.inclusive=n}}function dE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Q.comparator(Q.fromName(o.referenceValue),n.key):r=Io(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function fE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,n="asc"){this.field=e,this.dir=n}}function R4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{}class ze extends jC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new x4(e,n,r):n==="array-contains"?new N4(e,r):n==="in"?new D4(e,r):n==="not-in"?new O4(e,r):n==="array-contains-any"?new V4(e,r):new ze(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new k4(e,r):new b4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Io(n,this.value)):n!==null&&Ss(this.value)===Ss(n)&&this.matchesComparison(Io(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rn extends jC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Rn(e,n)}matches(e){return zC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function zC(t){return t.op==="and"}function $C(t){return P4(t)&&zC(t)}function P4(t){for(const e of t.filters)if(e instanceof Rn)return!1;return!0}function Kp(t){if(t instanceof ze)return t.field.canonicalString()+t.op.toString()+So(t.value);if($C(t))return t.filters.map(e=>Kp(e)).join(",");{const e=t.filters.map(n=>Kp(n)).join(",");return`${t.op}(${e})`}}function BC(t,e){return t instanceof ze?function(r,s){return s instanceof ze&&r.op===s.op&&r.field.isEqual(s.field)&&Xn(r.value,s.value)}(t,e):t instanceof Rn?function(r,s){return s instanceof Rn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&BC(o,s.filters[a]),!0):!1}(t,e):void X(19439)}function qC(t){return t instanceof ze?function(n){return`${n.field.canonicalString()} ${n.op} ${So(n.value)}`}(t):t instanceof Rn?function(n){return n.op.toString()+" {"+n.getFilters().map(qC).join(" ,")+"}"}(t):"Filter"}class x4 extends ze{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class k4 extends ze{constructor(e,n){super(e,"in",n),this.keys=HC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class b4 extends ze{constructor(e,n){super(e,"not-in",n),this.keys=HC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function HC(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}class N4 extends ze{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qg(n)&&vl(n.arrayValue,this.value)}}class D4 extends ze{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&vl(this.value.arrayValue,n)}}class O4 extends ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!vl(this.value.arrayValue,n)}}class V4 extends ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>vl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function pE(t,e=null,n=[],r=[],s=null,i=null,o=null){return new L4(t,e,n,r,s,i,o)}function Hg(t){const e=te(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Kp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Gh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>So(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>So(r)).join(",")),e.Te=n}return e.Te}function Wg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!R4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!BC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fE(t.startAt,e.startAt)&&fE(t.endAt,e.endAt)}function Qp(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function M4(t,e,n,r,s,i,o,a){return new vi(t,e,n,r,s,i,o,a)}function Gg(t){return new vi(t)}function mE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Kg(t){return t.collectionGroup!==null}function Zi(t){const e=te(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ge(rt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new _l(i,r))}),n.has(rt.keyField().canonicalString())||e.Ie.push(new _l(rt.keyField(),r))}return e.Ie}function Bn(t){const e=te(t);return e.Ee||(e.Ee=F4(e,Zi(t))),e.Ee}function F4(t,e){if(t.limitType==="F")return pE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new _l(s.field,i)});const n=t.endAt?new Ao(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ao(t.startAt.position,t.startAt.inclusive):null;return pE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Yp(t,e){const n=t.filters.concat([e]);return new vi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function nh(t,e,n){return new vi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Yh(t,e){return Wg(Bn(t),Bn(e))&&t.limitType===e.limitType}function WC(t){return`${Hg(Bn(t))}|lt:${t.limitType}`}function Ri(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>qC(s)).join(", ")}]`),Gh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>So(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>So(s)).join(",")),`Target(${r})`}(Bn(t))}; limitType=${t.limitType})`}function Xh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Q.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Zi(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,u){const c=dE(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,Zi(r),s)||r.endAt&&!function(o,a,u){const c=dE(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,Zi(r),s))}(t,e)}function U4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function GC(t){return(e,n)=>{let r=!1;for(const s of Zi(t)){const i=j4(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function j4(t,e,n){const r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(i,o,a){const u=o.data.field(i),c=a.data.field(i);return u!==null&&c!==null?Io(u,c):X(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return X(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ks(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return bC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4=new ke(Q.comparator);function Ir(){return z4}const KC=new ke(Q.comparator);function Ca(...t){let e=KC;for(const n of t)e=e.insert(n.key,n);return e}function QC(t){let e=KC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Gs(){return Ba()}function YC(){return Ba()}function Ba(){return new _i(t=>t.toString(),(t,e)=>t.isEqual(e))}const $4=new ke(Q.comparator),B4=new Ge(Q.comparator);function ce(...t){let e=B4;for(const n of t)e=e.add(n);return e}const q4=new Ge(ue);function H4(){return q4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jc(e)?"-0":e}}function XC(t){return{integerValue:""+t}}function JC(t,e){return _4(e)?XC(e):Qg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(){this._=void 0}}function W4(t,e,n){return t instanceof rh?function(s,i){const o={fields:{[OC]:{stringValue:DC},[LC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Kh(i)&&(i=Qh(i)),i&&(o.fields[VC]=i),{mapValue:o}}(n,e):t instanceof wl?eR(t,e):t instanceof El?tR(t,e):function(s,i){const o=ZC(s,i),a=gE(o)+gE(s.Ae);return Gp(o)&&Gp(s.Ae)?XC(a):Qg(s.serializer,a)}(t,e)}function G4(t,e,n){return t instanceof wl?eR(t,e):t instanceof El?tR(t,e):n}function ZC(t,e){return t instanceof Tl?function(r){return Gp(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class rh extends Jh{}class wl extends Jh{constructor(e){super(),this.elements=e}}function eR(t,e){const n=nR(e);for(const r of t.elements)n.some(s=>Xn(s,r))||n.push(r);return{arrayValue:{values:n}}}class El extends Jh{constructor(e){super(),this.elements=e}}function tR(t,e){let n=nR(e);for(const r of t.elements)n=n.filter(s=>!Xn(s,r));return{arrayValue:{values:n}}}class Tl extends Jh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function gE(t){return Le(t.integerValue||t.doubleValue)}function nR(t){return qg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,n){this.field=e,this.transform=n}}function Q4(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof wl&&s instanceof wl||r instanceof El&&s instanceof El?To(r.elements,s.elements,Xn):r instanceof Tl&&s instanceof Tl?Xn(r.Ae,s.Ae):r instanceof rh&&s instanceof rh}(t.transform,e.transform)}class Y4{constructor(e,n){this.version=e,this.transformResults=n}}class Gt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gt}static exists(e){return new Gt(void 0,e)}static updateTime(e){return new Gt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Zh{}function rR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Yg(t.key,Gt.none()):new zl(t.key,t.data,Gt.none());{const n=t.data,r=kt.empty();let s=new Ge(rt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new bs(t.key,r,new Bt(s.toArray()),Gt.none())}}function X4(t,e,n){t instanceof zl?function(s,i,o){const a=s.value.clone(),u=vE(s.fieldTransforms,i,o.transformResults);a.setAll(u),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof bs?function(s,i,o){if(!lc(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=vE(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(sR(s)),u.setAll(a),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function qa(t,e,n,r){return t instanceof zl?function(i,o,a,u){if(!lc(i.precondition,o))return a;const c=i.value.clone(),h=_E(i.fieldTransforms,u,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof bs?function(i,o,a,u){if(!lc(i.precondition,o))return a;const c=_E(i.fieldTransforms,u,o),h=o.data;return h.setAll(sR(i)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return lc(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function J4(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=ZC(r.transform,s||null);i!=null&&(n===null&&(n=kt.empty()),n.set(r.field,i))}return n||null}function yE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&To(r,s,(i,o)=>Q4(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class zl extends Zh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class bs extends Zh{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function sR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function vE(t,e,n){const r=new Map;ge(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,G4(o,a,n[s]))}return r}function _E(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,W4(i,o,e))}return r}class Yg extends Zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Z4 extends Zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&X4(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=qa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=qa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=YC();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const u=rR(o,a);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ce())}isEqual(e){return this.batchId===e.batchId&&To(this.mutations,e.mutations,(n,r)=>yE(n,r))&&To(this.baseMutations,e.baseMutations,(n,r)=>yE(n,r))}}class Xg{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ge(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return $4}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Xg(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue,fe;function rU(t){switch(t){case F.OK:return X(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return X(15467,{code:t})}}function iR(t){if(t===void 0)return Tr("GRPC error has no .code"),F.UNKNOWN;switch(t){case Ue.OK:return F.OK;case Ue.CANCELLED:return F.CANCELLED;case Ue.UNKNOWN:return F.UNKNOWN;case Ue.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Ue.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Ue.INTERNAL:return F.INTERNAL;case Ue.UNAVAILABLE:return F.UNAVAILABLE;case Ue.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Ue.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Ue.NOT_FOUND:return F.NOT_FOUND;case Ue.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Ue.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Ue.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Ue.ABORTED:return F.ABORTED;case Ue.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Ue.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Ue.DATA_LOSS:return F.DATA_LOSS;default:return X(39323,{code:t})}}(fe=Ue||(Ue={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iU=new ds([4294967295,4294967295],0);function wE(t){const e=sU().encode(t),n=new wC;return n.update(e),new Uint8Array(n.digest())}function EE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ds([n,r],0),new ds([s,i],0)]}class Jg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ra(`Invalid padding: ${n}`);if(r<0)throw new Ra(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ra(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ra(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ds.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(ds.fromNumber(r)));return s.compare(iU)===1&&(s=new ds([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=wE(e),[r,s]=EE(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Jg(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=wE(e),[r,s]=EE(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ra extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,$l.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ed(ee.min(),s,new ke(ue),Ir(),ce())}}class $l{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new $l(r,n,ce(),ce(),ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class oR{constructor(e,n){this.targetId=e,this.Ce=n}}class aR{constructor(e,n,r=ot.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class TE{constructor(){this.ve=0,this.Fe=IE(),this.Me=ot.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ce(),n=ce(),r=ce();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:X(38017,{changeType:i})}}),new $l(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=IE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class oU{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ir(),this.Je=Lu(),this.He=Lu(),this.Ye=new ke(ue)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:X(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Qp(i))if(r===0){const o=new Q(i.path);this.et(n,o,ft.newNoDocument(o,ee.min()))}else ge(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),u=a?this.ct(a,e,o):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Is(r).toUint8Array()}catch(u){if(u instanceof NC)return Eo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Jg(o,s,i)}catch(u){return Eo(u instanceof Ra?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&Qp(a.target)){const u=new Q(a.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,ft.newNoDocument(u,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=ce();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new ed(e,n,this.Ye,this.je,r);return this.je=Ir(),this.Je=Lu(),this.He=Lu(),this.Ye=new ke(ue),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new TE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ge(ue),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ge(ue),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new TE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Lu(){return new ke(Q.comparator)}function IE(){return new ke(Q.comparator)}const aU={asc:"ASCENDING",desc:"DESCENDING"},lU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uU={and:"AND",or:"OR"};class cU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Xp(t,e){return t.useProto3Json||Gh(e)?e:{value:e}}function sh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hU(t,e){return sh(t,e.toTimestamp())}function qn(t){return ge(!!t,49232),ee.fromTimestamp(function(n){const r=Ts(n);return new me(r.seconds,r.nanos)}(t))}function Zg(t,e){return Jp(t,e).canonicalString()}function Jp(t,e){const n=function(s){return new we(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function uR(t){const e=we.fromString(t);return ge(pR(e),10190,{key:e.toString()}),e}function Zp(t,e){return Zg(t.databaseId,e.path)}function Ef(t,e){const n=uR(e);if(n.get(1)!==t.databaseId.projectId)throw new B(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new B(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(hR(n))}function cR(t,e){return Zg(t.databaseId,e)}function dU(t){const e=uR(t);return e.length===4?we.emptyPath():hR(e)}function em(t){return new we(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function hR(t){return ge(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function SE(t,e,n){return{name:Zp(t,e),fields:n.value.mapValue.fields}}function fU(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:X(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,h){return c.useProto3Json?(ge(h===void 0||typeof h=="string",58123),ot.fromBase64String(h||"")):(ge(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),ot.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?F.UNKNOWN:iR(c.code);return new B(h,c.message||"")}(o);n=new aR(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Ef(t,r.document.name),i=qn(r.document.updateTime),o=r.document.createTime?qn(r.document.createTime):ee.min(),a=new kt({mapValue:{fields:r.document.fields}}),u=ft.newFoundDocument(s,i,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new uc(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Ef(t,r.document),i=r.readTime?qn(r.readTime):ee.min(),o=ft.newNoDocument(s,i),a=r.removedTargetIds||[];n=new uc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Ef(t,r.document),i=r.removedTargetIds||[];n=new uc([],i,s,null)}else{if(!("filter"in e))return X(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new nU(s,i),a=r.targetId;n=new oR(a,o)}}return n}function pU(t,e){let n;if(e instanceof zl)n={update:SE(t,e.key,e.value)};else if(e instanceof Yg)n={delete:Zp(t,e.key)};else if(e instanceof bs)n={update:SE(t,e.key,e.data),updateMask:IU(e.fieldMask)};else{if(!(e instanceof Z4))return X(16599,{Vt:e.type});n={verify:Zp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof rh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof wl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof El)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Tl)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw X(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:hU(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:X(27497)}(t,e.precondition)),n}function mU(t,e){return t&&t.length>0?(ge(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?qn(s.updateTime):qn(i);return o.isEqual(ee.min())&&(o=qn(i)),new Y4(o,s.transformResults||[])}(n,e))):[]}function gU(t,e){return{documents:[cR(t,e.path)]}}function yU(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=cR(t,s);const i=function(c){if(c.length!==0)return fR(Rn.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(h=>function(p){return{field:Pi(p.field),direction:wU(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Xp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:s}}function vU(t){let e=dU(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ge(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const p=dR(f);return p instanceof Rn&&$C(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(S){return new _l(xi(S.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,Gh(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(f){const p=!!f.before,g=f.values||[];return new Ao(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,g=f.values||[];return new Ao(g,p)}(n.endAt)),M4(e,s,o,i,a,"F",u,c)}function _U(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=xi(n.unaryFilter.field);return ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=xi(n.unaryFilter.field);return ze.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=xi(n.unaryFilter.field);return ze.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=xi(n.unaryFilter.field);return ze.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return X(61313);default:return X(60726)}}(t):t.fieldFilter!==void 0?function(n){return ze.create(xi(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return X(58110);default:return X(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Rn.create(n.compositeFilter.filters.map(r=>dR(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return X(1026)}}(n.compositeFilter.op))}(t):X(30097,{filter:t})}function wU(t){return aU[t]}function EU(t){return lU[t]}function TU(t){return uU[t]}function Pi(t){return{fieldPath:t.canonicalString()}}function xi(t){return rt.fromServerFormat(t.fieldPath)}function fR(t){return t instanceof ze?function(n){if(n.op==="=="){if(hE(n.value))return{unaryFilter:{field:Pi(n.field),op:"IS_NAN"}};if(cE(n.value))return{unaryFilter:{field:Pi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hE(n.value))return{unaryFilter:{field:Pi(n.field),op:"IS_NOT_NAN"}};if(cE(n.value))return{unaryFilter:{field:Pi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pi(n.field),op:EU(n.op),value:n.value}}}(t):t instanceof Rn?function(n){const r=n.getFilters().map(s=>fR(s));return r.length===1?r[0]:{compositeFilter:{op:TU(n.op),filters:r}}}(t):X(54877,{filter:t})}function IU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function pR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e,n,r,s,i=ee.min(),o=ee.min(),a=ot.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new es(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e){this.yt=e}}function AU(t){const e=vU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?nh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(){this.Cn=new RU}addToCollectionParentIndex(e,n){return this.Cn.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(Es.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(Es.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class RU{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Ge(we.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ge(we.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mR=41943040;class Pt{static withCacheSize(e){return new Pt(e,Pt.DEFAULT_COLLECTION_PERCENTILE,Pt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pt.DEFAULT_COLLECTION_PERCENTILE=10,Pt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pt.DEFAULT=new Pt(mR,Pt.DEFAULT_COLLECTION_PERCENTILE,Pt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pt.DISABLED=new Pt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Co(0)}static cr(){return new Co(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="LruGarbageCollector",PU=1048576;function RE([t,e],[n,r]){const s=ue(t,n);return s===0?ue(e,r):s}class xU{constructor(e){this.Ir=e,this.buffer=new Ge(RE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();RE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class kU{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){G(CE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){jo(n)?G(CE,"Ignoring IndexedDB error during garbage collection: ",n):await Uo(n)}await this.Vr(3e5)})}}class bU{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return z.resolve(Wh.ce);const r=new xU(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(AE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),AE):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,u,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),Ci()<=le.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(u-a)+`ms
	Removed ${f} documents in `+(c-u)+`ms
Total Duration: ${c-h}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function NU(t,e){return new bU(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(){this.changes=new _i(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&qa(r.mutation,s,Bt.empty(),me.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ce()){const s=Gs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Ca();return i.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Gs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ce()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Ir();const o=Ba(),a=function(){return Ba()}();return n.forEach((u,c)=>{const h=r.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof bs)?i=i.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),qa(h.mutation,c,h.mutation.getFieldMask(),me.now())):o.set(c.key,Bt.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>a.set(c,new OU(h,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Ba();let s=new ke((o,a)=>o-a),i=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||Bt.empty();h=a.applyToLocalView(c,h),r.set(u,h);const f=(s.get(a.batchId)||ce()).add(u);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,h=u.value,f=YC();h.forEach(p=>{if(!i.has(p)){const g=rR(n.get(p),r.get(p));g!==null&&f.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Kg(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):z.resolve(Gs());let a=ml,u=i;return o.next(c=>z.forEach(c,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?z.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{u=u.insert(h,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,u,c,ce())).next(h=>({batchId:a,changes:QC(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let s=Ca();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Ca();return this.indexManager.getCollectionParents(e,i).next(a=>z.forEach(a,u=>{const c=function(f,p){return new vi(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,ft.newInvalidDocument(h)))});let a=Ca();return o.forEach((u,c)=>{const h=i.get(u);h!==void 0&&qa(h.mutation,c,Bt.empty(),me.now()),Xh(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return z.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:qn(s.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:AU(s.bundledQuery),readTime:qn(s.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(){this.overlays=new ke(Q.comparator),this.qr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Gs();return z.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const s=Gs(),i=n.length+1,o=new Q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return z.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new ke((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=i.get(c.largestBatchId);h===null&&(h=Gs(),i=i.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Gs(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=s)););return z.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new tU(n,r));let i=this.qr.get(n);i===void 0&&(i=ce(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(){this.sessionToken=ot.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(){this.Qr=new Ge(Ye.$r),this.Ur=new Ge(Ye.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Ye(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Ye(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Q(new we([])),r=new Ye(n,e),s=new Ye(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Q(new we([])),r=new Ye(n,e),s=new Ye(n,e+1);let i=ce();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Ye(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ye{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Q.comparator(e.key,n.key)||ue(e.Yr,n.Yr)}static Kr(e,n){return ue(e.Yr,n.Yr)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ge(Ye.$r)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new eU(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new Ye(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return z.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?Bg:this.tr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ye(n,0),s=new Ye(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),z.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ge(ue);return n.forEach(s=>{const i=new Ye(s,0),o=new Ye(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Q.isDocumentKey(i)||(i=i.child(""));const o=new Ye(new Q(i),0);let a=new Ge(ue);return this.Zr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(u.Yr)),!0)},o),z.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return z.forEach(n.mutations,s=>{const i=new Ye(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Ye(n,0),s=this.Zr.firstAfterOrEqual(r);return z.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(e){this.ri=e,this.docs=function(){return new ke(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():ft.newInvalidDocument(n))}getEntries(e,n){let r=Ir();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():ft.newInvalidDocument(s))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Ir();const o=n.path,a=new Q(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||m4(p4(h),r)<=0||(s.has(h.key)||Xh(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return z.resolve(i)}getAllFromCollectionGroup(e,n,r,s){X(9500)}ii(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new zU(this)}getSize(e){return z.resolve(this.size)}}class zU extends DU{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e){this.persistence=e,this.si=new _i(n=>Hg(n),Wg),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.oi=0,this._i=new ey,this.targetCount=0,this.ai=Co.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),z.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Co(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Pr(n),z.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),z.waitFor(i).next(()=>s)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),z.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,n){this.ui={},this.overlays={},this.ci=new Wh(0),this.li=!1,this.li=!0,this.hi=new FU,this.referenceDelegate=e(this),this.Pi=new $U(this),this.indexManager=new CU,this.remoteDocumentCache=function(s){return new jU(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new SU(n),this.Ii=new LU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new MU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new UU(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const s=new BU(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return z.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class BU extends y4{constructor(e){super(),this.currentSequenceNumber=e}}class ty{constructor(e){this.persistence=e,this.Ri=new ey,this.Vi=null}static mi(e){return new ty(e)}get fi(){if(this.Vi)return this.Vi;throw X(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),z.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.fi,r=>{const s=Q.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,ee.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return z.or([()=>z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ih{constructor(e,n){this.persistence=e,this.pi=new _i(r=>w4(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=NU(this,n)}static mi(e,n){return new ih(e,n)}Ei(){}di(e){return z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return z.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?z.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,ee.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),z.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=oc(e.data.value)),n}br(e,n,r){return z.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return z.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=ce(),s=ce();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new ny(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return f2()?8:v4(mt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new qU;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Ci()<=le.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Ri(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),z.resolve()):(Ci()<=le.DEBUG&&G("QueryEngine","Query:",Ri(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Ci()<=le.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Ri(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bn(n))):z.resolve())}ys(e,n){if(mE(n))return z.resolve(null);let r=Bn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=nh(n,null,"F"),r=Bn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ce(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Ds(n,a);return this.Cs(n,c,o,u.readTime)?this.ys(e,nh(n,null,"F")):this.vs(e,c,n,u)}))})))}ws(e,n,r,s){return mE(n)||s.isEqual(ee.min())?z.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?z.resolve(null):(Ci()<=le.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ri(n)),this.vs(e,o,n,f4(s,ml)).next(a=>a))})}Ds(e,n){let r=new Ge(GC(e));return n.forEach((s,i)=>{Xh(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Ci()<=le.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Ri(n)),this.ps.getDocumentsMatchingQuery(e,n,Es.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry="LocalStore",WU=3e8;class GU{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new ke(ue),this.xs=new _i(i=>Hg(i),Wg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VU(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function KU(t,e,n,r){return new GU(t,e,n,r)}async function yR(t,e){const n=te(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let u=ce();for(const c of s){o.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of i){a.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function QU(t,e){const n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,u,c,h){const f=c.batch,p=f.keys();let g=z.resolve();return p.forEach(S=>{g=g.next(()=>h.getEntry(u,S)).next(w=>{const A=c.docVersions.get(S);ge(A!==null,48541),w.version.compareTo(A)<0&&(f.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),h.addEntry(w)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ce();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function vR(t){const e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function YU(t,e){const n=te(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;a.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,f)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(ot.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(f,g),function(w,A,v){return w.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=WU?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(p,g,h)&&a.push(n.Pi.updateTargetData(i,g))});let u=Ir(),c=ce();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(XU(i,o,e.documentUpdates).next(h=>{u=h.ks,c=h.qs})),!r.isEqual(ee.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return z.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,c)).next(()=>u)}).then(i=>(n.Ms=s,i))}function XU(t,e,n){let r=ce(),s=ce();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Ir();return n.forEach((a,u)=>{const c=i.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),u.isNoDocument()&&u.version.isEqual(ee.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):G(ry,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{ks:o,qs:s}})}function JU(t,e){const n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Bg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ZU(t,e){const n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,z.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new es(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function tm(t,e,n){const r=te(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!jo(o))throw o;G(ry,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function PE(t,e,n){const r=te(t);let s=ee.min(),i=ce();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,h){const f=te(u),p=f.xs.get(h);return p!==void 0?z.resolve(f.Ms.get(p)):f.Pi.getTargetData(c,h)}(r,o,Bn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(u=>{i=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:ee.min(),n?i:ce())).next(a=>(e3(r,U4(e),a),{documents:a,Qs:i})))}function e3(t,e,n){let r=t.Os.get(e)||ee.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class xE{constructor(){this.activeTargetIds=H4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class t3{constructor(){this.Mo=new xE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new xE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="ConnectivityMonitor";class bE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){G(kE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){G(kE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mu=null;function nm(){return Mu===null?Mu=function(){return 268435456+Math.round(2147483648*Math.random())}():Mu++,"0x"+Mu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf="RestConnection",r3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class s3{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Zc?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=nm(),a=this.zo(e,n.toUriEncodedString());G(Tf,`Sending RPC '${e}' ${o}:`,a,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,s,i);const{host:c}=new URL(a),h=Vo(c);return this.Jo(e,a,u,r,h).then(f=>(G(Tf,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Eo(Tf,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=r3[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ct="WebChannelConnection";class o3 extends s3{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=nm();return new Promise((a,u)=>{const c=new EC;c.setWithCredentials(!0),c.listenOnce(TC.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case ic.NO_ERROR:const f=c.getResponseJson();G(ct,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case ic.TIMEOUT:G(ct,`RPC '${e}' ${o} timed out`),u(new B(F.DEADLINE_EXCEEDED,"Request time out"));break;case ic.HTTP_ERROR:const p=c.getStatus();if(G(ct,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const S=g==null?void 0:g.error;if(S&&S.status&&S.message){const w=function(v){const y=v.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(y)>=0?y:F.UNKNOWN}(S.status);u(new B(w,S.message))}else u(new B(F.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new B(F.UNAVAILABLE,"Connection failed."));break;default:X(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{G(ct,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);G(ct,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",h,r,15)})}T_(e,n,r){const s=nm(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=AC(),a=SC(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=i.join("");G(ct,`Creating RPC '${e}' stream ${s}: ${h}`,u);const f=o.createWebChannel(h,u);this.I_(f);let p=!1,g=!1;const S=new i3({Yo:A=>{g?G(ct,`Not sending because RPC '${e}' stream ${s} is closed:`,A):(p||(G(ct,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),G(ct,`RPC '${e}' stream ${s} sending:`,A),f.send(A))},Zo:()=>f.close()}),w=(A,v,y)=>{A.listen(v,I=>{try{y(I)}catch(N){setTimeout(()=>{throw N},0)}})};return w(f,Aa.EventType.OPEN,()=>{g||(G(ct,`RPC '${e}' stream ${s} transport opened.`),S.o_())}),w(f,Aa.EventType.CLOSE,()=>{g||(g=!0,G(ct,`RPC '${e}' stream ${s} transport closed`),S.a_(),this.E_(f))}),w(f,Aa.EventType.ERROR,A=>{g||(g=!0,Eo(ct,`RPC '${e}' stream ${s} transport errored. Name:`,A.name,"Message:",A.message),S.a_(new B(F.UNAVAILABLE,"The operation could not be completed")))}),w(f,Aa.EventType.MESSAGE,A=>{var v;if(!g){const y=A.data[0];ge(!!y,16349);const I=y,N=(I==null?void 0:I.error)||((v=I[0])==null?void 0:v.error);if(N){G(ct,`RPC '${e}' stream ${s} received error:`,N);const O=N.status;let L=function(R){const x=Ue[R];if(x!==void 0)return iR(x)}(O),E=N.message;L===void 0&&(L=F.INTERNAL,E="Unknown error status: "+O+" with message "+N.message),g=!0,S.a_(new B(L,E)),f.close()}else G(ct,`RPC '${e}' stream ${s} received:`,y),S.u_(y)}}),w(a,IC.STAT_EVENT,A=>{A.stat===qp.PROXY?G(ct,`RPC '${e}' stream ${s} detected buffering proxy`):A.stat===qp.NOPROXY&&G(ct,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function If(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(t){return new cU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&G("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="PersistentStream";class wR{constructor(e,n,r,s,i,o,a,u){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _R(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(Tr(n.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new B(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return G(NE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(G(NE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class a3 extends wR{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=fU(this.serializer,e),r=function(i){if(!("targetChange"in i))return ee.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ee.min():o.readTime?qn(o.readTime):ee.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=em(this.serializer),n.addTarget=function(i,o){let a;const u=o.target;if(a=Qp(u)?{documents:gU(i,u)}:{query:yU(i,u).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=lR(i,o.resumeToken);const c=Xp(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ee.min())>0){a.readTime=sh(i,o.snapshotVersion.toTimestamp());const c=Xp(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=_U(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=em(this.serializer),n.removeTarget=e,this.q_(n)}}class l3 extends wR{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=mU(e.writeResults,e.commitTime),r=qn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=em(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>pU(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{}class c3 extends u3{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new B(F.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,Jp(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new B(F.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,Jp(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new B(F.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class h3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Tr(n),this.aa=!1):G("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi="RemoteStore";class d3{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{wi(this)&&(G(fi,"Restarting streams for network reachability change."),await async function(u){const c=te(u);c.Ea.add(4),await Bl(c),c.Ra.set("Unknown"),c.Ea.delete(4),await nd(c)}(this))})}),this.Ra=new h3(r,s)}}async function nd(t){if(wi(t))for(const e of t.da)await e(!0)}async function Bl(t){for(const e of t.da)await e(!1)}function ER(t,e){const n=te(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ay(n)?oy(n):zo(n).O_()&&iy(n,e))}function sy(t,e){const n=te(t),r=zo(n);n.Ia.delete(e),r.O_()&&TR(n,e),n.Ia.size===0&&(r.O_()?r.L_():wi(n)&&n.Ra.set("Unknown"))}function iy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}zo(t).Y_(e)}function TR(t,e){t.Va.Ue(e),zo(t).Z_(e)}function oy(t){t.Va=new oU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),zo(t).start(),t.Ra.ua()}function ay(t){return wi(t)&&!zo(t).x_()&&t.Ia.size>0}function wi(t){return te(t).Ea.size===0}function IR(t){t.Va=void 0}async function f3(t){t.Ra.set("Online")}async function p3(t){t.Ia.forEach((e,n)=>{iy(t,e)})}async function m3(t,e){IR(t),ay(t)?(t.Ra.ha(e),oy(t)):t.Ra.set("Unknown")}async function g3(t,e,n){if(t.Ra.set("Online"),e instanceof aR&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){G(fi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await oh(t,r)}else if(e instanceof uc?t.Va.Ze(e):e instanceof oR?t.Va.st(e):t.Va.tt(e),!n.isEqual(ee.min()))try{const r=await vR(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=i.Ia.get(c);h&&i.Ia.set(c,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const h=i.Ia.get(u);if(!h)return;i.Ia.set(u,h.withResumeToken(ot.EMPTY_BYTE_STRING,h.snapshotVersion)),TR(i,u);const f=new es(h.target,u,c,h.sequenceNumber);iy(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){G(fi,"Failed to raise snapshot:",r),await oh(t,r)}}async function oh(t,e,n){if(!jo(e))throw e;t.Ea.add(1),await Bl(t),t.Ra.set("Offline"),n||(n=()=>vR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G(fi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await nd(t)})}function SR(t,e){return e().catch(n=>oh(t,n,e))}async function rd(t){const e=te(t),n=As(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Bg;for(;y3(e);)try{const s=await JU(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,v3(e,s)}catch(s){await oh(e,s)}AR(e)&&CR(e)}function y3(t){return wi(t)&&t.Ta.length<10}function v3(t,e){t.Ta.push(e);const n=As(t);n.O_()&&n.X_&&n.ea(e.mutations)}function AR(t){return wi(t)&&!As(t).x_()&&t.Ta.length>0}function CR(t){As(t).start()}async function _3(t){As(t).ra()}async function w3(t){const e=As(t);for(const n of t.Ta)e.ea(n.mutations)}async function E3(t,e,n){const r=t.Ta.shift(),s=Xg.from(r,e,n);await SR(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await rd(t)}async function T3(t,e){e&&As(t).X_&&await async function(r,s){if(function(o){return rU(o)&&o!==F.ABORTED}(s.code)){const i=r.Ta.shift();As(r).B_(),await SR(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await rd(r)}}(t,e),AR(t)&&CR(t)}async function DE(t,e){const n=te(t);n.asyncQueue.verifyOperationInProgress(),G(fi,"RemoteStore received new credentials");const r=wi(n);n.Ea.add(3),await Bl(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await nd(n)}async function I3(t,e){const n=te(t);e?(n.Ea.delete(2),await nd(n)):e||(n.Ea.add(2),await Bl(n),n.Ra.set("Unknown"))}function zo(t){return t.ma||(t.ma=function(n,r,s){const i=te(n);return i.sa(),new a3(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:f3.bind(null,t),t_:p3.bind(null,t),r_:m3.bind(null,t),H_:g3.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),ay(t)?oy(t):t.Ra.set("Unknown")):(await t.ma.stop(),IR(t))})),t.ma}function As(t){return t.fa||(t.fa=function(n,r,s){const i=te(n);return i.sa(),new l3(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:_3.bind(null,t),r_:T3.bind(null,t),ta:w3.bind(null,t),na:E3.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await rd(t)):(await t.fa.stop(),t.Ta.length>0&&(G(fi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new ly(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uy(t,e){if(Tr("AsyncQueue",`${e}: ${t}`),jo(t))return new B(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{static emptySet(e){return new eo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=Ca(),this.sortedSet=new ke(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof eo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new eo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(){this.ga=new ke(Q.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):X(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ro{constructor(e,n,r,s,i,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ro(e,n,eo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class A3{constructor(){this.queries=VE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=te(n),i=s.queries;s.queries=VE(),i.forEach((o,a)=>{for(const u of a.Sa)u.onError(r)})})(this,new B(F.ABORTED,"Firestore shutting down"))}}function VE(){return new _i(t=>WC(t),Yh)}async function RR(t,e){const n=te(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new S3,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=uy(o,`Initialization of query '${Ri(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&cy(n)}async function PR(t,e){const n=te(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function C3(t,e){const n=te(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&cy(n)}function R3(t,e,n){const r=te(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function cy(t){t.Ca.forEach(e=>{e.next()})}var rm,LE;(LE=rm||(rm={})).Ma="default",LE.Cache="cache";class xR{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ro(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==rm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e){this.key=e}}class bR{constructor(e){this.key=e}}class P3{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ce(),this.mutatedKeys=ce(),this.eu=GC(e),this.tu=new eo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new OE,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),g=Xh(this.query,f)?f:null,S=!!p&&this.mutatedKeys.has(p.key),w=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let A=!1;p&&g?p.data.isEqual(g.data)?S!==w&&(r.track({type:3,doc:g}),A=!0):this.su(p,g)||(r.track({type:2,doc:g}),A=!0,(u&&this.eu(g,u)>0||c&&this.eu(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),A=!0):p&&!g&&(r.track({type:1,doc:p}),A=!0,(u||c)&&(a=!0)),A&&(g?(o=o.add(g),i=w?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(g,S){const w=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X(20277,{Rt:A})}};return w(g)-w(S)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],u=this.Xa.size===0&&this.current&&!s?1:0,c=u!==this.Za;return this.Za=u,o.length!==0||c?{snapshot:new Ro(this.query,e.tu,i,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new OE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ce(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new bR(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new kR(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ce();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ro.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const hy="SyncEngine";class x3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class k3{constructor(e){this.key=e,this.hu=!1}}class b3{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new _i(a=>WC(a),Yh),this.Iu=new Map,this.Eu=new Set,this.du=new ke(Q.comparator),this.Au=new Map,this.Ru=new ey,this.Vu={},this.mu=new Map,this.fu=Co.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function N3(t,e,n=!0){const r=MR(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await NR(r,e,n,!0),s}async function D3(t,e){const n=MR(t);await NR(n,e,!0,!1)}async function NR(t,e,n,r){const s=await ZU(t.localStore,Bn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await O3(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&ER(t.remoteStore,s),a}async function O3(t,e,n,r,s){t.pu=(f,p,g)=>async function(w,A,v,y){let I=A.view.ru(v);I.Cs&&(I=await PE(w.localStore,A.query,!1).then(({documents:E})=>A.view.ru(E,I)));const N=y&&y.targetChanges.get(A.targetId),O=y&&y.targetMismatches.get(A.targetId)!=null,L=A.view.applyChanges(I,w.isPrimaryClient,N,O);return FE(w,A.targetId,L.au),L.snapshot}(t,f,p,g);const i=await PE(t.localStore,e,!0),o=new P3(e,i.Qs),a=o.ru(i.documents),u=$l.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,u);FE(t,n,c.au);const h=new x3(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function V3(t,e,n){const r=te(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!Yh(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await tm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&sy(r.remoteStore,s.targetId),sm(r,s.targetId)}).catch(Uo)):(sm(r,s.targetId),await tm(r.localStore,s.targetId,!0))}async function L3(t,e){const n=te(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),sy(n.remoteStore,r.targetId))}async function M3(t,e,n){const r=q3(t);try{const s=await function(o,a){const u=te(o),c=me.now(),h=a.reduce((g,S)=>g.add(S.key),ce());let f,p;return u.persistence.runTransaction("Locally write mutations","readwrite",g=>{let S=Ir(),w=ce();return u.Ns.getEntries(g,h).next(A=>{S=A,S.forEach((v,y)=>{y.isValidDocument()||(w=w.add(v))})}).next(()=>u.localDocuments.getOverlayedDocuments(g,S)).next(A=>{f=A;const v=[];for(const y of a){const I=J4(y,f.get(y.key).overlayedDocument);I!=null&&v.push(new bs(y.key,I,UC(I.value.mapValue),Gt.exists(!0)))}return u.mutationQueue.addMutationBatch(g,c,v,a)}).next(A=>{p=A;const v=A.applyToLocalDocumentSet(f,w);return u.documentOverlayCache.saveOverlays(g,A.batchId,v)})}).then(()=>({batchId:p.batchId,changes:QC(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,u){let c=o.Vu[o.currentUser.toKey()];c||(c=new ke(ue)),c=c.insert(a,u),o.Vu[o.currentUser.toKey()]=c}(r,s.batchId,n),await ql(r,s.changes),await rd(r.remoteStore)}catch(s){const i=uy(s,"Failed to persist write");n.reject(i)}}async function DR(t,e){const n=te(t);try{const r=await YU(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(ge(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?ge(o.hu,14607):s.removedDocuments.size>0&&(ge(o.hu,42227),o.hu=!1))}),await ql(n,r,e)}catch(r){await Uo(r)}}function ME(t,e,n){const r=te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const u=te(o);u.onlineState=a;let c=!1;u.queries.forEach((h,f)=>{for(const p of f.Sa)p.va(a)&&(c=!0)}),c&&cy(u)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function F3(t,e,n){const r=te(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new ke(Q.comparator);o=o.insert(i,ft.newNoDocument(i,ee.min()));const a=ce().add(i),u=new ed(ee.min(),new Map,new ke(ue),o,a);await DR(r,u),r.du=r.du.remove(i),r.Au.delete(e),dy(r)}else await tm(r.localStore,e,!1).then(()=>sm(r,e,n)).catch(Uo)}async function U3(t,e){const n=te(t),r=e.batch.batchId;try{const s=await QU(n.localStore,e);VR(n,r,null),OR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ql(n,s)}catch(s){await Uo(s)}}async function j3(t,e,n){const r=te(t);try{const s=await function(o,a){const u=te(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,a).next(f=>(ge(f!==null,37113),h=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(r.localStore,e);VR(r,e,n),OR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ql(r,s)}catch(s){await Uo(s)}}function OR(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function VR(t,e,n){const r=te(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function sm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||LR(t,r)})}function LR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(sy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),dy(t))}function FE(t,e,n){for(const r of n)r instanceof kR?(t.Ru.addReference(r.key,e),z3(t,r)):r instanceof bR?(G(hy,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||LR(t,r.key)):X(19791,{wu:r})}function z3(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(G(hy,"New document in limbo: "+n),t.Eu.add(r),dy(t))}function dy(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Q(we.fromString(e)),r=t.fu.next();t.Au.set(r,new k3(n)),t.du=t.du.insert(n,r),ER(t.remoteStore,new es(Bn(Gg(n.path)),r,"TargetPurposeLimboResolution",Wh.ce))}}async function ql(t,e,n){const r=te(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,u)=>{o.push(r.pu(u,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){s.push(c);const f=ny.As(u.targetId,c);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(u,c){const h=te(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>z.forEach(c,p=>z.forEach(p.Es,g=>h.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>z.forEach(p.ds,g=>h.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!jo(f))throw f;G(ry,"Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const g=h.Ms.get(p),S=g.snapshotVersion,w=g.withLastLimboFreeSnapshotVersion(S);h.Ms=h.Ms.insert(p,w)}}}(r.localStore,i))}async function $3(t,e){const n=te(t);if(!n.currentUser.isEqual(e)){G(hy,"User change. New user:",e.toKey());const r=await yR(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(u=>{u.reject(new B(F.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ql(n,r.Ls)}}function B3(t,e){const n=te(t),r=n.Au.get(e);if(r&&r.hu)return ce().add(r.key);{let s=ce();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function MR(t){const e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=DR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=F3.bind(null,e),e.Pu.H_=C3.bind(null,e.eventManager),e.Pu.yu=R3.bind(null,e.eventManager),e}function q3(t){const e=te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=U3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=j3.bind(null,e),e}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=td(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return KU(this.persistence,new HU,e.initialUser,this.serializer)}Cu(e){return new gR(ty.mi,this.serializer)}Du(e){return new t3}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class H3 extends ah{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ge(this.persistence.referenceDelegate instanceof ih,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new kU(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Pt.withCacheSize(this.cacheSizeBytes):Pt.DEFAULT;return new gR(r=>ih.mi(r,n),this.serializer)}}class im{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ME(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$3.bind(null,this.syncEngine),await I3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new A3}()}createDatastore(e){const n=td(e.databaseInfo.databaseId),r=function(i){return new o3(i)}(e.databaseInfo);return function(i,o,a,u){return new c3(i,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new d3(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>ME(this.syncEngine,n,0),function(){return bE.v()?new bE:new n3}())}createSyncEngine(e,n){return function(s,i,o,a,u,c,h){const f=new b3(s,i,o,a,u,c);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=te(s);G(fi,"RemoteStore shutting down."),i.Ea.add(5),await Bl(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}im.provider={build:()=>new im};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Tr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs="FirestoreClient";class W3{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=ht.UNAUTHENTICATED,this.clientId=$g.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{G(Cs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G(Cs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=uy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Sf(t,e){t.asyncQueue.verifyOperationInProgress(),G(Cs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await yR(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function UE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await G3(t);G(Cs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>DE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>DE(e.remoteStore,s)),t._onlineComponents=e}async function G3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G(Cs,"Using user provided OfflineComponentProvider");try{await Sf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===F.FAILED_PRECONDITION||s.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Eo("Error using user provided cache. Falling back to memory cache: "+n),await Sf(t,new ah)}}else G(Cs,"Using default OfflineComponentProvider"),await Sf(t,new H3(void 0));return t._offlineComponents}async function UR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G(Cs,"Using user provided OnlineComponentProvider"),await UE(t,t._uninitializedComponentsProvider._online)):(G(Cs,"Using default OnlineComponentProvider"),await UE(t,new im))),t._onlineComponents}function K3(t){return UR(t).then(e=>e.syncEngine)}async function jR(t){const e=await UR(t),n=e.eventManager;return n.onListen=N3.bind(null,e.syncEngine),n.onUnlisten=V3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=D3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=L3.bind(null,e.syncEngine),n}function Q3(t,e,n={}){const r=new dr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,c){const h=new FR({next:p=>{h.Nu(),o.enqueueAndForget(()=>PR(i,f));const g=p.docs.has(a);!g&&p.fromCache?c.reject(new B(F.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&u&&u.source==="server"?c.reject(new B(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new xR(Gg(a.path),h,{includeMetadataChanges:!0,qa:!0});return RR(i,f)}(await jR(t),t.asyncQueue,e,n,r)),r.promise}function Y3(t,e,n={}){const r=new dr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,c){const h=new FR({next:p=>{h.Nu(),o.enqueueAndForget(()=>PR(i,f)),p.fromCache&&u.source==="server"?c.reject(new B(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new xR(a,h,{includeMetadataChanges:!0,qa:!0});return RR(i,f)}(await jR(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R="firestore.googleapis.com",zE=!0;class $E{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new B(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$R,this.ssl=zE}else this.host=e.host,this.ssl=e.ssl??zE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<PU)throw new B(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}h4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zR(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new B(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new B(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new B(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sd{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $E({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new B(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new B(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $E(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new t4;switch(r.type){case"firstParty":return new i4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new B(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=jE.get(n);r&&(G("ComponentProvider","Removing Datastore"),jE.delete(n),r.terminate())}(this),Promise.resolve()}}function X3(t,e,n,r={}){var c;t=Yn(t,sd);const s=Vo(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(uA(`https://${a}`),cA("Firestore",!0)),i.host!==$R&&i.host!==a&&Eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:a,ssl:s,emulatorOptions:r};if(!_s(u,o)&&(t._setSettings(u),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=ht.MOCK_USER;else{h=i2(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new B(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new ht(p)}t._authCredentials=new n4(new RC(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ar(this.firestore,e,this._query)}}class Fe{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fe(this.firestore,e,this._key)}toJSON(){return{type:Fe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(jl(n,Fe._jsonSchema))return new Fe(e,r||null,new Q(we.fromString(n.referencePath)))}}Fe._jsonSchemaVersion="firestore/documentReference/1.0",Fe._jsonSchema={type:$e("string",Fe._jsonSchemaVersion),referencePath:$e("string")};class fs extends Ar{constructor(e,n,r){super(e,n,Gg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fe(this.firestore,null,new Q(e))}withConverter(e){return new fs(this.firestore,e,this._path)}}function Af(t,e,...n){if(t=Oe(t),PC("collection","path",e),t instanceof sd){const r=we.fromString(e,...n);return nE(r),new fs(t,null,r)}{if(!(t instanceof Fe||t instanceof fs))throw new B(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(we.fromString(e,...n));return nE(r),new fs(t.firestore,null,r)}}function Hr(t,e,...n){if(t=Oe(t),arguments.length===1&&(e=$g.newId()),PC("doc","path",e),t instanceof sd){const r=we.fromString(e,...n);return tE(r),new Fe(t,null,new Q(r))}{if(!(t instanceof Fe||t instanceof fs))throw new B(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(we.fromString(e,...n));return tE(r),new Fe(t.firestore,t instanceof fs?t.converter:null,new Q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="AsyncQueue";class qE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _R(this,"async_queue_retry"),this._c=()=>{const r=If();r&&G(BE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=If();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=If();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new dr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!jo(e))throw e;G(BE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Tr("INTERNAL UNHANDLED ERROR: ",HE(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=ly.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&X(47125,{Pc:HE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function HE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class $o extends sd{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new qE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qE(e),this._firestoreClient=void 0,await e}}}function J3(t,e){const n=typeof t=="object"?t:Cg(),r=typeof t=="string"?t:Zc,s=yi(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=r2("firestore");i&&X3(s,...i)}return s}function id(t){if(t._terminated)throw new B(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Z3(t),t._firestoreClient}function Z3(t){var r,s,i;const e=t._freezeSettings(),n=function(a,u,c,h){return new I4(a,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,zR(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new W3(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new tn(ot.fromBase64String(e))}catch(n){throw new B(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new tn(ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:tn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(jl(e,tn._jsonSchema))return tn.fromBase64String(e.bytes)}}tn._jsonSchemaVersion="firestore/bytes/1.0",tn._jsonSchema={type:$e("string",tn._jsonSchemaVersion),bytes:$e("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new B(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new B(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new B(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ue(this._lat,e._lat)||ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hn._jsonSchemaVersion}}static fromJSON(e){if(jl(e,Hn._jsonSchema))return new Hn(e.latitude,e.longitude)}}Hn._jsonSchemaVersion="firestore/geoPoint/1.0",Hn._jsonSchema={type:$e("string",Hn._jsonSchemaVersion),latitude:$e("number"),longitude:$e("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Wn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(jl(e,Wn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Wn(e.vectorValues);throw new B(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wn._jsonSchemaVersion="firestore/vectorValue/1.0",Wn._jsonSchema={type:$e("string",Wn._jsonSchemaVersion),vectorValues:$e("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=/^__.*__$/;class t6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new bs(e,this.data,this.fieldMask,n,this.fieldTransforms):new zl(e,this.data,n,this.fieldTransforms)}}class BR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new bs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function qR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X(40011,{Ac:t})}}class fy{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new fy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return lh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(qR(this.Ac)&&e6.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class n6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||td(e)}Cc(e,n,r,s=!1){return new fy({Ac:e,methodName:n,Dc:r,path:rt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wl(t){const e=t._freezeSettings(),n=td(t._databaseId);return new n6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function HR(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);my("Data must be an object, but it was:",o,r);const a=QR(r,o);let u,c;if(i.merge)u=new Bt(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const p=om(e,f,n);if(!o.contains(p))throw new B(F.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);XR(h,p)||h.push(p)}u=new Bt(h),c=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=o.fieldTransforms;return new t6(new kt(a),u,c)}class ad extends od{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ad}}class py extends od{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new Tl(e.serializer,JC(e.serializer,this.Fc));return new K4(e.path,n)}isEqual(e){return e instanceof py&&this.Fc===e.Fc}}function WR(t,e,n,r){const s=t.Cc(1,e,n);my("Data must be an object, but it was:",s,r);const i=[],o=kt.empty();ks(r,(u,c)=>{const h=gy(e,u,n);c=Oe(c);const f=s.yc(h);if(c instanceof ad)i.push(h);else{const p=Gl(c,f);p!=null&&(i.push(h),o.set(h,p))}});const a=new Bt(i);return new BR(o,a,s.fieldTransforms)}function GR(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[om(e,r,n)],u=[s];if(i.length%2!=0)throw new B(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(om(e,i[p])),u.push(i[p+1]);const c=[],h=kt.empty();for(let p=a.length-1;p>=0;--p)if(!XR(c,a[p])){const g=a[p];let S=u[p];S=Oe(S);const w=o.yc(g);if(S instanceof ad)c.push(g);else{const A=Gl(S,w);A!=null&&(c.push(g),h.set(g,A))}}const f=new Bt(c);return new BR(h,f,o.fieldTransforms)}function KR(t,e,n,r=!1){return Gl(n,t.Cc(r?4:3,e))}function Gl(t,e){if(YR(t=Oe(t)))return my("Unsupported field value:",e,t),QR(t,e);if(t instanceof od)return function(r,s){if(!qR(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let u=Gl(a,s.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Oe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return JC(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=me.fromDate(r);return{timestampValue:sh(s.serializer,i)}}if(r instanceof me){const i=new me(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sh(s.serializer,i)}}if(r instanceof Hn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof tn)return{bytesValue:lR(s.serializer,r._byteString)};if(r instanceof Fe){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Zg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Wn)return function(o,a){return{mapValue:{fields:{[MC]:{stringValue:FC},[eh]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return Qg(a.serializer,c)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Hh(r)}`)}(t,e)}function QR(t,e){const n={};return bC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ks(t,(r,s)=>{const i=Gl(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function YR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof me||t instanceof Hn||t instanceof tn||t instanceof Fe||t instanceof od||t instanceof Wn)}function my(t,e,n){if(!YR(n)||!xC(n)){const r=Hh(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function om(t,e,n){if((e=Oe(e))instanceof Hl)return e._internalPath;if(typeof e=="string")return gy(t,e);throw lh("Field path arguments must be of type string or ",t,!1,void 0,n)}const r6=new RegExp("[~\\*/\\[\\]]");function gy(t,e,n){if(e.search(r6)>=0)throw lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Hl(...e.split("."))._internalPath}catch{throw lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lh(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new B(F.INVALID_ARGUMENT,a+t+u)}function XR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Fe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new s6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ld("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class s6 extends yy{data(){return super.data()}}function ld(t,e){return typeof e=="string"?gy(t,e):e instanceof Hl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new B(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vy{}class ud extends vy{}function wa(t,e,...n){let r=[];e instanceof vy&&r.push(e),r=r.concat(n),function(i){const o=i.filter(u=>u instanceof _y).length,a=i.filter(u=>u instanceof cd).length;if(o>1||o>0&&a>0)throw new B(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class cd extends ud{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new cd(e,n,r)}_apply(e){const n=this._parse(e);return JR(e._query,n),new Ar(e.firestore,e.converter,Yp(e._query,n))}_parse(e){const n=Wl(e.firestore);return function(i,o,a,u,c,h,f){let p;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new B(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){QE(f,h);const S=[];for(const w of f)S.push(KE(u,i,w));p={arrayValue:{values:S}}}else p=KE(u,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||QE(f,h),p=KR(a,o,f,h==="in"||h==="not-in");return ze.create(c,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Fu(t,e,n){const r=e,s=ld("where",t);return cd._create(s,r,n)}class _y extends vy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new _y(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Rn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const u of a)JR(o,u),o=Yp(o,u)}(e._query,n),new Ar(e.firestore,e.converter,Yp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class wy extends ud{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new wy(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new B(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new B(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _l(i,o)}(e._query,this._field,this._direction);return new Ar(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new vi(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function WE(t,e="asc"){const n=e,r=ld("orderBy",t);return wy._create(r,n)}class Ey extends ud{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Ey(e,n,r)}_apply(e){return new Ar(e.firestore,e.converter,nh(e._query,this._limit,this._limitType))}}function GE(t){return d4("limit",t),Ey._create("limit",t,"F")}class Ty extends ud{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Ty(e,n,r)}_apply(e){const n=a6(e,this.type,this._docOrFields,this._inclusive);return new Ar(e.firestore,e.converter,function(s,i){return new vi(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,i,s.endAt)}(e._query,n))}}function o6(...t){return Ty._create("startAfter",t,!1)}function a6(t,e,n,r){if(n[0]=Oe(n[0]),n[0]instanceof yy)return function(i,o,a,u,c){if(!u)throw new B(F.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const h=[];for(const f of Zi(i))if(f.field.isKeyField())h.push(th(o,u.key));else{const p=u.data.field(f.field);if(Kh(p))throw new B(F.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(p===null){const g=f.field.canonicalString();throw new B(F.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${g}' (used as the orderBy) does not exist.`)}h.push(p)}return new Ao(h,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const s=Wl(t.firestore);return function(o,a,u,c,h,f){const p=o.explicitOrderBy;if(h.length>p.length)throw new B(F.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const g=[];for(let S=0;S<h.length;S++){const w=h[S];if(p[S].field.isKeyField()){if(typeof w!="string")throw new B(F.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof w}`);if(!Kg(o)&&w.indexOf("/")!==-1)throw new B(F.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${w}' contains a slash.`);const A=o.path.child(we.fromString(w));if(!Q.isDocumentKey(A))throw new B(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${A}' is not because it contains an odd number of segments.`);const v=new Q(A);g.push(th(a,v))}else{const A=KR(u,c,w);g.push(A)}}return new Ao(g,f)}(t._query,t.firestore._databaseId,s,e,n,r)}}function KE(t,e,n){if(typeof(n=Oe(n))=="string"){if(n==="")throw new B(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Kg(e)&&n.indexOf("/")!==-1)throw new B(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(we.fromString(n));if(!Q.isDocumentKey(r))throw new B(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return th(t,new Q(r))}if(n instanceof Fe)return th(t,n._key);throw new B(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hh(n)}.`)}function QE(t,e){if(!Array.isArray(t)||t.length===0)throw new B(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JR(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new B(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new B(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class l6{convertValue(e,n="none"){switch(Ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Le(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Is(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw X(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ks(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[eh].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>Le(o.doubleValue));return new Wn(n)}convertGeoPoint(e){return new Hn(Le(e.latitude),Le(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Qh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(gl(e));default:return null}}convertTimestamp(e){const n=Ts(e);return new me(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=we.fromString(e);ge(pR(r),9688,{name:e});const s=new yl(r.get(1),r.get(3)),i=new Q(r.popFirst(5));return s.isEqual(n)||Tr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Pa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ni extends yy{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new cc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ld("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new B(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ni._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ni._jsonSchemaVersion="firestore/documentSnapshot/1.0",ni._jsonSchema={type:$e("string",ni._jsonSchemaVersion),bundleSource:$e("string","DocumentSnapshot"),bundleName:$e("string"),bundle:$e("string")};class cc extends ni{data(e={}){return super.data(e)}}class to{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Pa(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new cc(this._firestore,this._userDataWriter,r.key,r,new Pa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new B(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const u=new cc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Pa(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const u=new cc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Pa(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:u6(a.type),doc:u,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new B(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=to._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$g.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function u6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c6(t){t=Yn(t,Fe);const e=Yn(t.firestore,$o);return Q3(id(e),t._key).then(n=>h6(e,t,n))}to._jsonSchemaVersion="firestore/querySnapshot/1.0",to._jsonSchema={type:$e("string",to._jsonSchemaVersion),bundleSource:$e("string","QuerySnapshot"),bundleName:$e("string"),bundle:$e("string")};class e1 extends l6{constructor(e){super(),this.firestore=e}convertBytes(e){return new tn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Fe(this.firestore,null,n)}}function YE(t){t=Yn(t,Ar);const e=Yn(t.firestore,$o),n=id(e),r=new e1(e);return i6(t._query),Y3(n,t._query).then(s=>new to(e,r,t,s))}function am(t,e,n){t=Yn(t,Fe);const r=Yn(t.firestore,$o),s=ZR(t.converter,e,n);return Iy(r,[HR(Wl(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Gt.none())])}function lm(t,e,n,...r){t=Yn(t,Fe);const s=Yn(t.firestore,$o),i=Wl(s);let o;return o=typeof(e=Oe(e))=="string"||e instanceof Hl?GR(i,"updateDoc",t._key,e,n,r):WR(i,"updateDoc",t._key,e),Iy(s,[o.toMutation(t._key,Gt.exists(!0))])}function Iy(t,e){return function(r,s){const i=new dr;return r.asyncQueue.enqueueAndForget(async()=>M3(await K3(r),s,i)),i.promise}(id(t),e)}function h6(t,e,n){const r=n.docs.get(e._key),s=new e1(t);return new ni(t,s,e._key,r,new Pa(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Wl(e)}set(e,n,r){this._verifyNotCommitted();const s=Cf(e,this._firestore),i=ZR(s.converter,n,r),o=HR(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(o.toMutation(s._key,Gt.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const i=Cf(e,this._firestore);let o;return o=typeof(n=Oe(n))=="string"||n instanceof Hl?GR(this._dataReader,"WriteBatch.update",i._key,n,r,s):WR(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(o.toMutation(i._key,Gt.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Cf(e,this._firestore);return this._mutations=this._mutations.concat(new Yg(n._key,Gt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new B(F.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Cf(t,e){if((t=Oe(t)).firestore!==e)throw new B(F.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function f6(t){return new py("increment",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p6(t){return id(t=Yn(t,$o)),new d6(t,e=>Iy(t,e))}(function(e,n=!0){(function(s){Fo=s})(Lo),Kn(new Cn("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new $o(new r4(r.getProvider("auth-internal")),new o4(o,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new B(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yl(c.options.projectId,h)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),sn(Xw,Jw,e),sn(Xw,Jw,"esm2020")})();const m6={apiKey:"AIzaSyApDku-geNVplwIgRBz2U0rs46aAVo-_mE",authDomain:"aios-97581.firebaseapp.com",projectId:"aios-97581",storageBucket:"aios-97581.appspot.com",messagingSenderId:"307575156824",appId:"1:307575156824:web:00924bd384df1f29909a2d"},Sy=yA(m6),Uu=ZF(Sy),fn=J3(Sy),g6=YL(Sy),Ay=new or;Ay.addScope("email");Ay.addScope("profile");class Rf{static async signInWithGoogle(){try{const n=(await lF(Uu,Ay)).user;return await this.saveUserToFirestore(n),n}catch(e){throw console.error("Google sign-in error:",e),e}}static async signInAnonymously(){try{const n=(await VM(Uu)).user;return await this.saveUserToFirestore(n),n}catch(e){throw console.error("Anonymous sign-in error:",e),e}}static async signOut(){try{await $M(Uu)}catch(e){throw console.error("Sign-out error:",e),e}}static onAuthStateChanged(e){return zM(Uu,e)}static async saveUserToFirestore(e){try{const n=Hr(fn,"users",e.uid),r={uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL,emailVerified:e.emailVerified,createdAt:new Date,lastLoginAt:new Date,preferences:{theme:"light",notifications:!0,language:"en"}};await am(n,r,{merge:!0})}catch(n){throw console.error("Error saving user to Firestore:",n),n}}static async getUserData(e){try{const n=Hr(fn,"users",e),r=await c6(n);if(r.exists())return r.data();throw new Error("User data not found")}catch(n){throw console.error("Error getting user data:",n),n}}static async updateUserData(e,n){try{const r=Hr(fn,"users",e);await lm(r,{...n,updatedAt:new Date})}catch(r){throw console.error("Error updating user data:",r),r}}}const lj=(t,e)=>{$A(g6,t,e)},t1=C.createContext(void 0);function y6({children:t}){const[e,n]=C.useState(null),[r,s]=C.useState(!0);C.useEffect(()=>Rf.onAuthStateChanged(c=>{n(c),s(!1)}),[]);const a={user:e,loading:r,signInWithGoogle:async()=>{try{s(!0),await Rf.signInWithGoogle()}catch(u){throw console.error("Sign-in error:",u),u}finally{s(!1)}},signOut:async()=>{try{s(!0),await Rf.signOut()}catch(u){throw console.error("Sign-out error:",u),u}finally{s(!1)}},isAuthenticated:!!e};return D.jsx(t1.Provider,{value:a,children:t})}function Kl(){const t=C.useContext(t1);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const Cy=C.forwardRef(({className:t,...e},n)=>D.jsx("div",{ref:n,className:Mt("glass-card rounded-lg border bg-card/80 backdrop-blur-xl text-card-foreground shadow-sm transition-all duration-300 hover:shadow-lg",t),...e}));Cy.displayName="Card";const n1=C.forwardRef(({className:t,...e},n)=>D.jsx("div",{ref:n,className:Mt("flex flex-col space-y-1.5 p-6",t),...e}));n1.displayName="CardHeader";const r1=C.forwardRef(({className:t,...e},n)=>D.jsx("div",{ref:n,className:Mt("text-2xl font-semibold leading-none tracking-tight cyber-text",t),...e}));r1.displayName="CardTitle";const v6=C.forwardRef(({className:t,...e},n)=>D.jsx("div",{ref:n,className:Mt("text-sm text-muted-foreground",t),...e}));v6.displayName="CardDescription";const Ry=C.forwardRef(({className:t,...e},n)=>D.jsx("div",{ref:n,className:Mt("p-6 pt-0",t),...e}));Ry.displayName="CardContent";const _6=C.forwardRef(({className:t,...e},n)=>D.jsx("div",{ref:n,className:Mt("flex items-center p-6 pt-0",t),...e}));_6.displayName="CardFooter";function w6(){return D.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 via-background to-accent/10 flex items-center justify-center p-4",children:D.jsx(Cy,{className:"w-full max-w-md",children:D.jsxs(Ry,{className:"p-8 text-center",children:[D.jsxs("div",{className:"mb-8",children:[D.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-primary to-accent rounded-2xl flex items-center justify-center mx-auto mb-4",children:D.jsx("i",{className:"fas fa-robot text-white text-2xl"})}),D.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"AuraOS"}),D.jsx("p",{className:"text-sm text-muted-foreground",children:"AI-Powered Social Media Platform"})]}),D.jsxs("div",{className:"space-y-4",children:[D.jsx("div",{className:"flex justify-center",children:D.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}),D.jsxs("div",{className:"space-y-2",children:[D.jsx("p",{className:"text-sm font-medium text-foreground",children:"Loading your workspace..."}),D.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:D.jsx("div",{className:"bg-primary h-2 rounded-full animate-pulse",style:{width:"60%"}})})]}),D.jsxs("div",{className:"text-left space-y-2 text-xs text-muted-foreground",children:[D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),D.jsx("span",{children:"Initializing AI systems"})]}),D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),D.jsx("span",{children:"Loading social media integrations"})]}),D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full animate-pulse"}),D.jsx("span",{children:"Connecting to Firestore database"})]}),D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("div",{className:"w-2 h-2 bg-muted rounded-full"}),D.jsx("span",{children:"Preparing your dashboard"})]})]})]}),D.jsxs("div",{className:"mt-8 pt-6 border-t border-border",children:[D.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Powered by advanced AI"}),D.jsxs("div",{className:"flex justify-center gap-4 text-xs text-muted-foreground",children:[D.jsxs("div",{className:"flex items-center gap-1",children:[D.jsx("i",{className:"fas fa-brain text-primary"}),D.jsx("span",{children:"Smart Agents"})]}),D.jsxs("div",{className:"flex items-center gap-1",children:[D.jsx("i",{className:"fas fa-share-alt text-accent"}),D.jsx("span",{children:"Auto Posting"})]}),D.jsxs("div",{className:"flex items-center gap-1",children:[D.jsx("i",{className:"fas fa-chart-line text-green-500"}),D.jsx("span",{children:"Analytics"})]})]})]})]})})})}function E6({children:t}){const{loading:e,isAuthenticated:n}=Kl();return e?D.jsx(w6,{}):n?D.jsx(D.Fragment,{children:t}):D.jsx(Lk,{to:"/login"})}const T6=mS("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 relative overflow-hidden",{variants:{variant:{default:"neon-button bg-gradient-to-r from-primary to-accent text-primary-foreground hover:from-primary/90 hover:to-accent/90 neon-glow-md hover:neon-glow-lg",destructive:"bg-gradient-to-r from-destructive to-red-500 text-destructive-foreground hover:from-destructive/90 hover:to-red-500/90 neon-glow-md hover:neon-glow-lg",outline:"border border-primary/50 bg-transparent hover:bg-primary/10 hover:text-primary hover:border-primary neon-glow-sm hover:neon-glow-md",secondary:"bg-gradient-to-r from-secondary to-secondary/80 text-secondary-foreground hover:from-secondary/90 hover:to-secondary/70 neon-glow-sm hover:neon-glow-md",ghost:"hover:bg-primary/10 hover:text-primary transition-all duration-300",link:"text-primary underline-offset-4 hover:underline neon-text",neon:"neon-button bg-gradient-to-r from-primary via-accent to-primary text-primary-foreground animate-neon-pulse hover:animate-none",cyber:"cyber-border bg-gradient-to-r from-primary/20 to-accent/20 text-primary hover:from-primary/30 hover:to-accent/30 animate-cyber-border",holographic:"holographic text-white font-bold animate-holographic-shift"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10",xl:"h-12 rounded-lg px-10 text-base"}},defaultVariants:{variant:"default",size:"default"}}),hc=C.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?Eb:"button";return D.jsx(o,{className:Mt(T6({variant:e,size:n,className:t})),ref:i,...s})});hc.displayName="Button";class I6 extends C.Component{constructor(){super(...arguments);un(this,"state",{hasError:!1,error:null});un(this,"handleReset",()=>{this.setState({hasError:!1,error:null})});un(this,"handleReload",()=>{window.location.reload()});un(this,"handleGoHome",()=>{window.location.href="/"})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){Sp.getInstance().handleError(n,{logToConsole:!0,reportToService:!0}),this.setState({error:n}),this.props.onError&&this.props.onError(n,r)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:D.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background",children:D.jsxs(Cy,{className:"glass-card neon-glow-md max-w-2xl w-full",children:[D.jsxs(n1,{className:"text-center",children:[D.jsx("div",{className:"mx-auto mb-4 w-16 h-16 rounded-full bg-destructive/10 flex items-center justify-center",children:D.jsx(gN,{className:"h-8 w-8 text-destructive"})}),D.jsx(r1,{className:"text-2xl cyber-text",children:"Oops! Something went wrong"}),D.jsx("p",{className:"text-muted-foreground mt-2",children:"An unexpected error occurred. Our team has been notified."})]}),D.jsxs(Ry,{className:"space-y-6",children:[!1,D.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[D.jsxs(hc,{onClick:this.handleReset,variant:"default",className:"neon-button",children:[D.jsx(Z_,{className:"h-4 w-4 mr-2"}),"Try Again"]}),D.jsxs(hc,{onClick:this.handleReload,variant:"outline",className:"neon-glow-sm",children:[D.jsx(Z_,{className:"h-4 w-4 mr-2"}),"Reload Page"]}),D.jsxs(hc,{onClick:this.handleGoHome,variant:"ghost",children:[D.jsx(mN,{className:"h-4 w-4 mr-2"}),"Go Home"]})]}),D.jsx("div",{className:"text-center text-sm text-muted-foreground",children:D.jsx("p",{children:"If the problem persists, please contact support."})})]})]})}):this.props.children}}function S6({shortcuts:t,children:e,className:n,enabled:r=!0}){return C.useEffect(()=>{if(!r)return;const s=i=>{const{key:o,ctrlKey:a,altKey:u,metaKey:c,shiftKey:h}=i,f=[];(a||c)&&f.push("ctrl"),u&&f.push("alt"),h&&f.push("shift");const p=[...f,o.toLowerCase()].join("+");t[p]&&(i.preventDefault(),t[p]())};return document.addEventListener("keydown",s),()=>document.removeEventListener("keydown",s)},[t,r]),D.jsx("div",{className:n,children:e})}const A6={"ctrl+k":()=>{console.log("Opening search/command palette")},"ctrl+/":()=>{console.log("Showing keyboard shortcuts")},escape:()=>{const t=document.activeElement;t!=null&&t.blur&&t.blur()},"ctrl+enter":()=>{const t=document.querySelector('button[type="submit"]');t&&t.click()}},Ms={USERS:"users",POSTS:"posts",WORKFLOWS:"workflows",AGENTS:"agents",CHAT_MESSAGES:"chatMessages",ANALYTICS:"analytics",NOTIFICATIONS:"notifications",USER_HISTORY:"userHistory",USER_SESSIONS:"userSessions",USER_ANALYTICS:"userAnalytics"};class Tt{static async initialize(e){try{await this.startSession(e),setInterval(()=>{this.actionBuffer.length>0&&this.flushActionBuffer()},this.flushInterval),typeof document<"u"&&(document.addEventListener("visibilitychange",()=>{document.hidden?this.trackAction(e,{type:"navigate",category:"navigation",description:"Page hidden",details:{visibility:"hidden"}}):this.trackAction(e,{type:"navigate",category:"navigation",description:"Page visible",details:{visibility:"visible"}})}),window.addEventListener("beforeunload",()=>{this.trackAction(e,{type:"navigate",category:"navigation",description:"Page unload",details:{event:"beforeunload"}}),this.endSession(e)})),console.log("User history tracking initialized")}catch(n){console.error("Failed to initialize user history tracking:",n)}}static async startSession(e){try{const n=this.generateSessionId(),r=new Date,s={id:n,userId:e,startTime:r,deviceInfo:this.getDeviceInfo(),location:await this.getLocationInfo(),actions:0,lastActivity:r,isActive:!0};return await am(Hr(fn,Ms.USER_SESSIONS,n),{...s,startTime:me.fromDate(s.startTime),lastActivity:me.fromDate(s.lastActivity)}),this.currentSession=s,this.sessionStartTime=r,s}catch(n){throw console.error("Failed to start session:",n),n}}static async endSession(e){try{if(!this.currentSession)return;const n=new Date,r=n.getTime()-this.currentSession.startTime.getTime();await lm(Hr(fn,Ms.USER_SESSIONS,this.currentSession.id),{endTime:me.fromDate(n),duration:r,isActive:!1,lastActivity:me.fromDate(n)}),this.currentSession=null,this.sessionStartTime=null,this.actionBuffer.length>0&&await this.flushActionBuffer()}catch(n){console.error("Failed to end session:",n)}}static async trackAction(e,n,r,s=!0,i){var o;try{const a={id:this.generateHistoryId(),userId:e,action:n,timestamp:new Date,sessionId:((o=this.currentSession)==null?void 0:o.id)||"unknown",metadata:r,success:s,errorMessage:i};this.actionBuffer.push(a),this.currentSession&&await lm(Hr(fn,Ms.USER_SESSIONS,this.currentSession.id),{actions:f6(1),lastActivity:me.fromDate(new Date)}),this.actionBuffer.length>=this.bufferSize&&await this.flushActionBuffer()}catch(a){console.error("Failed to track action:",a)}}static async trackNavigation(e,n,r,s){await this.trackAction(e,{type:"navigate",category:"navigation",description:`Navigated to ${n}`,details:{page:n,previousPage:r,duration:s}})}static async trackContentInteraction(e,n,r,s,i){await this.trackAction(e,{type:n,category:"content",description:`${n} ${r}`,target:s,targetType:r,details:i})}static async trackAIInteraction(e,n,r,s){await this.trackAction(e,{type:n,category:"ai",description:`AI ${n}`,target:r,targetType:"agent",details:s})}static async trackSocialInteraction(e,n,r,s){await this.trackAction(e,{type:n,category:"social",description:`Social ${n}`,target:r,targetType:"post",details:s})}static async trackWorkflowInteraction(e,n,r,s){await this.trackAction(e,{type:n,category:"workflow",description:`Workflow ${n}`,target:r,targetType:"workflow",details:s})}static async trackAuthEvent(e,n,r){await this.trackAction(e,{type:n,category:"authentication",description:`User ${n}`,details:r})}static async trackError(e,n,r,s){await this.trackAction(e,{type:"error",category:"system",description:`Error: ${n.message}`,details:{...s,context:r,stack:n.stack,name:n.name}},void 0,!1,n.message)}static async getUserHistory(e,n={}){try{let r=wa(Af(fn,Ms.USER_HISTORY),Fu("userId","==",e),WE("timestamp","desc"),GE(n.limit||50));n.actionType&&(r=wa(r,Fu("action.type","==",n.actionType))),n.category&&(r=wa(r,Fu("action.category","==",n.category))),n.startAfter&&(r=wa(r,o6(n.startAfter)));const s=await YE(r),i=s.docs.map(a=>({id:a.id,...a.data(),timestamp:a.data().timestamp.toDate()})),o=s.docs[s.docs.length-1];return{history:i,lastDoc:o}}catch(r){throw console.error("Failed to get user history:",r),r}}static async getUserSessions(e,n=20){try{const r=wa(Af(fn,Ms.USER_SESSIONS),Fu("userId","==",e),WE("startTime","desc"),GE(n));return(await YE(r)).docs.map(i=>{var o;return{id:i.id,...i.data(),startTime:i.data().startTime.toDate(),endTime:(o=i.data().endTime)==null?void 0:o.toDate(),lastActivity:i.data().lastActivity.toDate()}})}catch(r){throw console.error("Failed to get user sessions:",r),r}}static async generateUserAnalytics(e,n="monthly"){try{const r=new Date,s=this.getPeriodStartDate(r,n),{history:i}=await this.getUserHistory(e,{dateRange:{start:s,end:r}}),o=await this.getUserSessions(e,1e3),a={userId:e,period:n,date:r,stats:{totalSessions:o.length,totalActions:i.length,averageSessionDuration:this.calculateAverageSessionDuration(o),mostUsedFeatures:this.calculateMostUsedFeatures(i),topPages:this.calculateTopPages(i),deviceBreakdown:this.calculateDeviceBreakdown(o),errorRate:this.calculateErrorRate(i),retentionRate:this.calculateRetentionRate(o)}};return await am(Hr(fn,Ms.USER_ANALYTICS,`${e}_${n}_${r.getTime()}`),{...a,date:me.fromDate(a.date)}),a}catch(r){throw console.error("Failed to generate user analytics:",r),r}}static async flushActionBuffer(){if(this.actionBuffer.length!==0)try{const e=p6(fn);this.actionBuffer.forEach(n=>{const r=Hr(Af(fn,Ms.USER_HISTORY));e.set(r,{...n,timestamp:me.fromDate(n.timestamp)})}),await e.commit(),this.actionBuffer=[]}catch(e){console.error("Failed to flush action buffer:",e)}}static generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}static generateHistoryId(){return`history_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}static getDeviceInfo(){return typeof navigator>"u"?{userAgent:"Unknown",platform:"Unknown",language:"Unknown",timezone:"Unknown",screenResolution:"Unknown",viewport:"Unknown"}:{userAgent:navigator.userAgent,platform:navigator.platform,language:navigator.language,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,screenResolution:`${screen.width}x${screen.height}`,viewport:`${window.innerWidth}x${window.innerHeight}`}}static async getLocationInfo(){return{country:"Unknown",region:"Unknown",city:"Unknown"}}static getPeriodStartDate(e,n){const r=new Date(e);switch(n){case"daily":r.setHours(0,0,0,0);break;case"weekly":r.setDate(r.getDate()-7);break;case"monthly":r.setMonth(r.getMonth()-1);break;case"yearly":r.setFullYear(r.getFullYear()-1);break}return r}static calculateAverageSessionDuration(e){const n=e.filter(s=>s.duration);return n.length===0?0:n.reduce((s,i)=>s+(i.duration||0),0)/n.length}static calculateMostUsedFeatures(e){const n={};e.forEach(s=>{const i=s.action.category;n[i]=(n[i]||0)+1});const r=e.length;return Object.entries(n).map(([s,i])=>({feature:s,count:i,percentage:i/r*100})).sort((s,i)=>i.count-s.count).slice(0,10)}static calculateTopPages(e){const n={};return e.filter(r=>r.action.type==="navigate").forEach(r=>{var i;const s=(i=r.action.details)==null?void 0:i.page;s&&(n[s]||(n[s]={visits:0,totalTime:0}),n[s].visits++,n[s].totalTime+=r.duration||0)}),Object.entries(n).map(([r,s])=>({page:r,visits:s.visits,averageTime:s.totalTime/s.visits})).sort((r,s)=>s.visits-r.visits).slice(0,10)}static calculateDeviceBreakdown(e){const n={};e.forEach(s=>{const i=s.deviceInfo.platform;n[i]=(n[i]||0)+1});const r=e.length;return Object.entries(n).map(([s,i])=>({device:s,count:i,percentage:i/r*100})).sort((s,i)=>i.count-s.count)}static calculateErrorRate(e){return e.filter(r=>!r.success).length/e.length*100}static calculateRetentionRate(e){return e.filter(r=>r.isActive).length/e.length*100}}un(Tt,"currentSession",null),un(Tt,"sessionStartTime",null),un(Tt,"actionBuffer",[]),un(Tt,"bufferSize",10),un(Tt,"flushInterval",5e3);function C6(){const{user:t}=Kl(),[e,n]=C.useState(!1),[r,s]=C.useState(null),[i,o]=C.useState(null);C.useEffect(()=>{t&&!e?Tt.initialize(t.uid).then(()=>{n(!0),o(null)}).catch(g=>{o(g.message),console.error("Failed to initialize user history:",g)}):!t&&e&&(n(!1),s(null))},[t,e]);const a=C.useCallback((g,S,w)=>{t&&e&&Tt.trackNavigation(t.uid,g,S,w)},[t,e]),u=C.useCallback((g,S,w,A)=>{t&&e&&Tt.trackContentInteraction(t.uid,g,S,w,A)},[t,e]),c=C.useCallback((g,S,w)=>{t&&e&&Tt.trackAIInteraction(t.uid,g,S,w)},[t,e]),h=C.useCallback((g,S,w)=>{t&&e&&Tt.trackSocialInteraction(t.uid,g,S,w)},[t,e]),f=C.useCallback((g,S,w)=>{t&&e&&Tt.trackWorkflowInteraction(t.uid,g,S,w)},[t,e]),p=C.useCallback((g,S,w)=>{t&&e&&Tt.trackError(t.uid,g,S,w)},[t,e]);return{isInitialized:e,currentSession:r,error:i,trackNavigation:a,trackContentInteraction:u,trackAIInteraction:c,trackSocialInteraction:h,trackWorkflowInteraction:f,trackError:p}}function R6(t){const{trackNavigation:e}=C6(),[n,r]=C.useState(null),s=C.useRef(Date.now());C.useEffect(()=>{const i=Date.now();if(s.current=i,n){const o=i-s.current;e(t,n,o)}else e(t);return r(t),()=>{const o=Date.now()-s.current;o>1e3&&e(t,void 0,o)}},[t,e,n])}function uj(t={}){const{user:e}=Kl(),[n,r]=C.useState([]),[s,i]=C.useState(!0),[o,a]=C.useState(null),[u,c]=C.useState(!0),[h,f]=C.useState(null),p=C.useCallback(async(w=!1)=>{if(e)try{i(!0),a(null);const A=await Tt.getUserHistory(e.uid,{...t,startAfter:w?void 0:h});r(w?A.history:v=>[...v,...A.history]),f(A.lastDoc),c(A.history.length===(t.limit||50))}catch(A){a(A.message)}finally{i(!1)}},[e,t,h]),g=C.useCallback(()=>{!s&&u&&p(!1)},[s,u,p]),S=C.useCallback(()=>{f(null),c(!0),p(!0)},[p]);return C.useEffect(()=>{p(!0)},[e]),{history:n,loading:s,error:o,hasMore:u,loadMore:g,refresh:S}}function cj(){const{user:t}=Kl(),[e,n]=C.useState([]),[r,s]=C.useState(!0),[i,o]=C.useState(null),a=C.useCallback(async()=>{if(t)try{s(!0),o(null);const u=await Tt.getUserSessions(t.uid);n(u)}catch(u){o(u.message)}finally{s(!1)}},[t]);return C.useEffect(()=>{a()},[a]),{sessions:e,loading:r,error:i,refresh:a}}function hj(t="monthly"){const{user:e}=Kl(),[n,r]=C.useState(null),[s,i]=C.useState(!0),[o,a]=C.useState(null),u=C.useCallback(async()=>{if(e)try{i(!0),a(null);const c=await Tt.generateUserAnalytics(e.uid,t);r(c)}catch(c){a(c.message)}finally{i(!1)}},[e,t]);return C.useEffect(()=>{u()},[u]),{analytics:n,loading:s,error:o,refresh:u}}function P6({pageName:t,children:e}){return R6(t),D.jsx(D.Fragment,{children:e})}function x6(){const[t]=Dk(),e=C.useRef(null);C.useEffect(()=>{e.current&&e.current!==t&&console.log(`Navigation: ${e.current} -> ${t}`),e.current=t},[t])}function _t(t,e){return function(r){return D.jsx(P6,{pageName:e,children:D.jsx(t,{...r})})}}const k6=C.lazy(()=>gt(()=>import("./dashboard-ByM4grPF.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21]))),b6=C.lazy(()=>gt(()=>import("./social-feed-CnRd8Pd0.js"),__vite__mapDeps([22,1,2,3,4,5,6,23,24,7,8,9,10]))),N6=C.lazy(()=>gt(()=>import("./workflows-DZNnbTOO.js"),__vite__mapDeps([25,1,2,3,6,7,5,8,9,10]))),D6=C.lazy(()=>gt(()=>import("./ai-agents-CF-a0Wsm.js"),__vite__mapDeps([26,6,27,11,9,24,28,10,23,29,30,19,20,31,14,32,8,15]))),O6=C.lazy(()=>gt(()=>import("./mcp-tools-OhuOylJm.js"),__vite__mapDeps([33,6,8,24,28,10,9,23,29,11,27,19,32,34,31,20,17,14]))),V6=C.lazy(()=>gt(()=>import("./prompt-library-CFXAHNnR.js"),__vite__mapDeps([35,8,24,28,10,9,23,29,6,27,11,14,16,21,32,34]))),L6=C.lazy(()=>gt(()=>import("./telegram-DiqLmNUs.js"),__vite__mapDeps([36,1,2,3,5,6,8,24,27]))),M6=C.lazy(()=>gt(()=>import("./smart-learning-DFI9DU7S.js"),__vite__mapDeps([37,1,2,3,9,29]))),F6=C.lazy(()=>gt(()=>import("./advanced-ai-tools-D2LfHto1.js"),__vite__mapDeps([38,1,2,3,5,8,24,28,10,9,23,29,6,12,27,11]))),U6=C.lazy(()=>gt(()=>import("./learning-dashboard-Cr5lYSG3.js"),__vite__mapDeps([39,11,9,6,12,19,21,13,2,30,14]))),j6=C.lazy(()=>gt(()=>import("./not-found-W8NzIMWG.js"),__vite__mapDeps([40,18]))),z6=C.lazy(()=>gt(()=>import("./DebugView-Dx5-oFoH.js"),[])),$6=C.lazy(()=>gt(()=>import("./Workspace-CZLFM5Kc.js"),[])),B6=C.lazy(()=>gt(()=>import("./analytics-HsqLAs-K.js"),[])),q6=C.lazy(()=>gt(()=>import("./settings-CnH4lsX8.js"),[])),H6=C.lazy(()=>gt(()=>import("./login-d1AE5QYo.js"),__vite__mapDeps([41,27,3]))),W6=()=>D.jsx("div",{className:"flex items-center justify-center h-screen",children:D.jsx("div",{className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full animate-spin"})});function G6(){return x6(),D.jsx(C.Suspense,{fallback:D.jsx(W6,{}),children:D.jsxs(F_,{children:[D.jsx(et,{path:"/login",component:H6}),D.jsx(et,{children:D.jsx(E6,{children:D.jsxs(F_,{children:[D.jsx(et,{path:"/",component:_t(k6,"Dashboard")}),D.jsx(et,{path:"/social-feed",component:_t(b6,"Social Feed")}),D.jsx(et,{path:"/workflows",component:_t(N6,"Workflows")}),D.jsx(et,{path:"/ai-agents",component:_t(D6,"AI Agents")}),D.jsx(et,{path:"/mcp-tools",component:_t(O6,"MCP Tools")}),D.jsx(et,{path:"/prompt-library",component:_t(V6,"Prompt Library")}),D.jsx(et,{path:"/telegram",component:_t(L6,"Telegram")}),D.jsx(et,{path:"/smart-learning",component:_t(M6,"Smart Learning")}),D.jsx(et,{path:"/advanced-ai-tools",component:_t(F6,"Advanced AI Tools")}),D.jsx(et,{path:"/learning",component:_t(U6,"Learning Dashboard")}),D.jsx(et,{path:"/debug",component:_t(z6,"Debug View")}),D.jsx(et,{path:"/workspace",component:_t($6,"Workspace")}),D.jsx(et,{path:"/analytics",component:_t(B6,"Analytics")}),D.jsx(et,{path:"/settings",component:_t(q6,"Settings")}),D.jsx(et,{component:_t(j6,"Not Found")})]})})})]})})}function K6(){return D.jsx(I6,{children:D.jsx(y6,{children:D.jsx(ub,{client:fb,children:D.jsx(KO,{children:D.jsx(HO,{children:D.jsxs(S6,{shortcuts:A6,children:[D.jsx(ZN,{}),D.jsx(G6,{})]})})})})})})}_I(document.getElementById("root")).render(D.jsx(K6,{}));export{Ep as $,yr as A,hc as B,Cy as C,cg as D,Sp as E,Lr as F,Rb as G,mS as H,jS as I,TO as J,IO as K,bl as L,SO as M,AO as N,X6 as O,Lt as P,ll as Q,Z_ as R,Ah as S,ib as T,It as U,Hb as V,dn as W,yN as X,J6 as Y,Yk as Z,Bk as _,Ry as a,Ch as a0,zk as a1,$k as a2,wp as a3,DI as a4,nb as a5,Wk as a6,Dk as a7,Y6 as a8,yk as a9,HO as aa,ij as ab,oj as ac,WO as ad,tj as b,kh as c,nj as d,hj as e,cj as f,uj as g,n1 as h,r1 as i,D as j,v6 as k,Kl as l,GI as m,Rh as n,nD as o,In as p,He as q,C as r,hg as s,WI as t,_b as u,Mc as v,rj as w,Mt as x,lj as y,gs as z};
