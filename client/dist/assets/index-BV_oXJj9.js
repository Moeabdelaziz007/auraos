const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dashboard-b7rVKsrC.js","assets/header-KFQOFhpR.js","assets/avatar-CL8PSgrs.js","assets/chat-widget-ndMGEDV2.js","assets/useMutation-CQub-guN.js","assets/input-BlCgWzo0.js","assets/badge-T7TlEvDT.js","assets/index-Cw2EPXxj.js","assets/index-BdQq_4o_.js","assets/chat-widget-CTfQhNOq.css","assets/post-card-BaRYOimh.js","assets/tabs-BDCq7Etf.js","assets/progress-_gqAd8Jp.js","assets/users-9xNWfldY.js","assets/brain-D52PNJFB.js","assets/settings-BcdVvmo5.js","assets/heart-CxqPDtuG.js","assets/chart-column-DB33X4WE.js","assets/circle-alert-CT_U7kpT.js","assets/zap-B_46P5Vx.js","assets/search-Bz5QlO_7.js","assets/star-DBuoHJiK.js","assets/social-feed-D2rgBGfu.js","assets/index-CDS2jiyu.js","assets/textarea-DDWaMa2A.js","assets/workflows-CLYFU9b9.js","assets/ai-agents-CGwWB7rC.js","assets/select-D4uVihkf.js","assets/chevron-down-Ck8oINIj.js","assets/workflow-CiL8cFSo.js","assets/loader-circle-CCHkTgVO.js","assets/play-jQCUKGcz.js","assets/mcp-tools-D0_fHQgl.js","assets/info-BKD7d7Xy.js","assets/prompt-library-CEysRo8V.js","assets/telegram-DaOS3N9o.js","assets/smart-learning-BOYh6B8D.js","assets/advanced-ai-tools-DMoPCDU0.js","assets/learning-dashboard-DQIKWLGE.js","assets/not-found-cws_FwCZ.js"])))=>i.map(i=>d[i]);
function fC(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function wE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Hf={exports:{}},El={},Wf={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function pC(){if(Bv)return Oe;Bv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function T(U){return U===null||typeof U!="object"?null:(U=w&&U[w]||U["@@iterator"],typeof U=="function"?U:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,x={};function S(U,Z,Te){this.props=U,this.context=Z,this.refs=x,this.updater=Te||C}S.prototype.isReactComponent={},S.prototype.setState=function(U,Z){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,Z,"setState")},S.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function z(){}z.prototype=S.prototype;function H(U,Z,Te){this.props=U,this.context=Z,this.refs=x,this.updater=Te||C}var K=H.prototype=new z;K.constructor=H,O(K,S.prototype),K.isPureReactComponent=!0;var X=Array.isArray,ne=Object.prototype.hasOwnProperty,se={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function P(U,Z,Te){var Se,Ne={},De=null,Ve=null;if(Z!=null)for(Se in Z.ref!==void 0&&(Ve=Z.ref),Z.key!==void 0&&(De=""+Z.key),Z)ne.call(Z,Se)&&!b.hasOwnProperty(Se)&&(Ne[Se]=Z[Se]);var Me=arguments.length-2;if(Me===1)Ne.children=Te;else if(1<Me){for(var Ge=Array(Me),Pt=0;Pt<Me;Pt++)Ge[Pt]=arguments[Pt+2];Ne.children=Ge}if(U&&U.defaultProps)for(Se in Me=U.defaultProps,Me)Ne[Se]===void 0&&(Ne[Se]=Me[Se]);return{$$typeof:n,type:U,key:De,ref:Ve,props:Ne,_owner:se.current}}function N(U,Z){return{$$typeof:n,type:U.type,key:Z,ref:U.ref,props:U.props,_owner:U._owner}}function M(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function V(U){var Z={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(Te){return Z[Te]})}var L=/\/+/g;function k(U,Z){return typeof U=="object"&&U!==null&&U.key!=null?V(""+U.key):Z.toString(36)}function oe(U,Z,Te,Se,Ne){var De=typeof U;(De==="undefined"||De==="boolean")&&(U=null);var Ve=!1;if(U===null)Ve=!0;else switch(De){case"string":case"number":Ve=!0;break;case"object":switch(U.$$typeof){case n:case e:Ve=!0}}if(Ve)return Ve=U,Ne=Ne(Ve),U=Se===""?"."+k(Ve,0):Se,X(Ne)?(Te="",U!=null&&(Te=U.replace(L,"$&/")+"/"),oe(Ne,Z,Te,"",function(Pt){return Pt})):Ne!=null&&(M(Ne)&&(Ne=N(Ne,Te+(!Ne.key||Ve&&Ve.key===Ne.key?"":(""+Ne.key).replace(L,"$&/")+"/")+U)),Z.push(Ne)),1;if(Ve=0,Se=Se===""?".":Se+":",X(U))for(var Me=0;Me<U.length;Me++){De=U[Me];var Ge=Se+k(De,Me);Ve+=oe(De,Z,Te,Ge,Ne)}else if(Ge=T(U),typeof Ge=="function")for(U=Ge.call(U),Me=0;!(De=U.next()).done;)De=De.value,Ge=Se+k(De,Me++),Ve+=oe(De,Z,Te,Ge,Ne);else if(De==="object")throw Z=String(U),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return Ve}function Re(U,Z,Te){if(U==null)return U;var Se=[],Ne=0;return oe(U,Se,"","",function(De){return Z.call(Te,De,Ne++)}),Se}function Ee(U){if(U._status===-1){var Z=U._result;Z=Z(),Z.then(function(Te){(U._status===0||U._status===-1)&&(U._status=1,U._result=Te)},function(Te){(U._status===0||U._status===-1)&&(U._status=2,U._result=Te)}),U._status===-1&&(U._status=0,U._result=Z)}if(U._status===1)return U._result.default;throw U._result}var ve={current:null},Y={transition:null},ce={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:Y,ReactCurrentOwner:se};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:Re,forEach:function(U,Z,Te){Re(U,function(){Z.apply(this,arguments)},Te)},count:function(U){var Z=0;return Re(U,function(){Z++}),Z},toArray:function(U){return Re(U,function(Z){return Z})||[]},only:function(U){if(!M(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Oe.Component=S,Oe.Fragment=t,Oe.Profiler=o,Oe.PureComponent=H,Oe.StrictMode=r,Oe.Suspense=f,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,Oe.act=ae,Oe.cloneElement=function(U,Z,Te){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var Se=O({},U.props),Ne=U.key,De=U.ref,Ve=U._owner;if(Z!=null){if(Z.ref!==void 0&&(De=Z.ref,Ve=se.current),Z.key!==void 0&&(Ne=""+Z.key),U.type&&U.type.defaultProps)var Me=U.type.defaultProps;for(Ge in Z)ne.call(Z,Ge)&&!b.hasOwnProperty(Ge)&&(Se[Ge]=Z[Ge]===void 0&&Me!==void 0?Me[Ge]:Z[Ge])}var Ge=arguments.length-2;if(Ge===1)Se.children=Te;else if(1<Ge){Me=Array(Ge);for(var Pt=0;Pt<Ge;Pt++)Me[Pt]=arguments[Pt+2];Se.children=Me}return{$$typeof:n,type:U.type,key:Ne,ref:De,props:Se,_owner:Ve}},Oe.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},Oe.createElement=P,Oe.createFactory=function(U){var Z=P.bind(null,U);return Z.type=U,Z},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(U){return{$$typeof:d,render:U}},Oe.isValidElement=M,Oe.lazy=function(U){return{$$typeof:v,_payload:{_status:-1,_result:U},_init:Ee}},Oe.memo=function(U,Z){return{$$typeof:m,type:U,compare:Z===void 0?null:Z}},Oe.startTransition=function(U){var Z=Y.transition;Y.transition={};try{U()}finally{Y.transition=Z}},Oe.unstable_act=ae,Oe.useCallback=function(U,Z){return ve.current.useCallback(U,Z)},Oe.useContext=function(U){return ve.current.useContext(U)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(U){return ve.current.useDeferredValue(U)},Oe.useEffect=function(U,Z){return ve.current.useEffect(U,Z)},Oe.useId=function(){return ve.current.useId()},Oe.useImperativeHandle=function(U,Z,Te){return ve.current.useImperativeHandle(U,Z,Te)},Oe.useInsertionEffect=function(U,Z){return ve.current.useInsertionEffect(U,Z)},Oe.useLayoutEffect=function(U,Z){return ve.current.useLayoutEffect(U,Z)},Oe.useMemo=function(U,Z){return ve.current.useMemo(U,Z)},Oe.useReducer=function(U,Z,Te){return ve.current.useReducer(U,Z,Te)},Oe.useRef=function(U){return ve.current.useRef(U)},Oe.useState=function(U){return ve.current.useState(U)},Oe.useSyncExternalStore=function(U,Z,Te){return ve.current.useSyncExternalStore(U,Z,Te)},Oe.useTransition=function(){return ve.current.useTransition()},Oe.version="18.3.1",Oe}var qv;function kh(){return qv||(qv=1,Wf.exports=pC()),Wf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function mC(){if(Hv)return El;Hv=1;var n=kh(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,m){var v,w={},T=null,C=null;m!==void 0&&(T=""+m),f.key!==void 0&&(T=""+f.key),f.ref!==void 0&&(C=f.ref);for(v in f)r.call(f,v)&&!a.hasOwnProperty(v)&&(w[v]=f[v]);if(d&&d.defaultProps)for(v in f=d.defaultProps,f)w[v]===void 0&&(w[v]=f[v]);return{$$typeof:e,type:d,key:T,ref:C,props:w,_owner:o.current}}return El.Fragment=t,El.jsx=u,El.jsxs=u,El}var Wv;function gC(){return Wv||(Wv=1,Hf.exports=mC()),Hf.exports}var R=gC(),Pc={},Gf={exports:{}},sn={},Kf={exports:{}},Qf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function yC(){return Gv||(Gv=1,(function(n){function e(Y,ce){var ae=Y.length;Y.push(ce);e:for(;0<ae;){var U=ae-1>>>1,Z=Y[U];if(0<o(Z,ce))Y[U]=ce,Y[ae]=Z,ae=U;else break e}}function t(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var ce=Y[0],ae=Y.pop();if(ae!==ce){Y[0]=ae;e:for(var U=0,Z=Y.length,Te=Z>>>1;U<Te;){var Se=2*(U+1)-1,Ne=Y[Se],De=Se+1,Ve=Y[De];if(0>o(Ne,ae))De<Z&&0>o(Ve,Ne)?(Y[U]=Ve,Y[De]=ae,U=De):(Y[U]=Ne,Y[Se]=ae,U=Se);else if(De<Z&&0>o(Ve,ae))Y[U]=Ve,Y[De]=ae,U=De;else break e}}return ce}function o(Y,ce){var ae=Y.sortIndex-ce.sortIndex;return ae!==0?ae:Y.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var f=[],m=[],v=1,w=null,T=3,C=!1,O=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function K(Y){for(var ce=t(m);ce!==null;){if(ce.callback===null)r(m);else if(ce.startTime<=Y)r(m),ce.sortIndex=ce.expirationTime,e(f,ce);else break;ce=t(m)}}function X(Y){if(x=!1,K(Y),!O)if(t(f)!==null)O=!0,Ee(ne);else{var ce=t(m);ce!==null&&ve(X,ce.startTime-Y)}}function ne(Y,ce){O=!1,x&&(x=!1,z(P),P=-1),C=!0;var ae=T;try{for(K(ce),w=t(f);w!==null&&(!(w.expirationTime>ce)||Y&&!V());){var U=w.callback;if(typeof U=="function"){w.callback=null,T=w.priorityLevel;var Z=U(w.expirationTime<=ce);ce=n.unstable_now(),typeof Z=="function"?w.callback=Z:w===t(f)&&r(f),K(ce)}else r(f);w=t(f)}if(w!==null)var Te=!0;else{var Se=t(m);Se!==null&&ve(X,Se.startTime-ce),Te=!1}return Te}finally{w=null,T=ae,C=!1}}var se=!1,b=null,P=-1,N=5,M=-1;function V(){return!(n.unstable_now()-M<N)}function L(){if(b!==null){var Y=n.unstable_now();M=Y;var ce=!0;try{ce=b(!0,Y)}finally{ce?k():(se=!1,b=null)}}else se=!1}var k;if(typeof H=="function")k=function(){H(L)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,Re=oe.port2;oe.port1.onmessage=L,k=function(){Re.postMessage(null)}}else k=function(){S(L,0)};function Ee(Y){b=Y,se||(se=!0,k())}function ve(Y,ce){P=S(function(){Y(n.unstable_now())},ce)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_continueExecution=function(){O||C||(O=!0,Ee(ne))},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(Y){switch(T){case 1:case 2:case 3:var ce=3;break;default:ce=T}var ae=T;T=ce;try{return Y()}finally{T=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Y,ce){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ae=T;T=Y;try{return ce()}finally{T=ae}},n.unstable_scheduleCallback=function(Y,ce,ae){var U=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?U+ae:U):ae=U,Y){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ae+Z,Y={id:v++,callback:ce,priorityLevel:Y,startTime:ae,expirationTime:Z,sortIndex:-1},ae>U?(Y.sortIndex=ae,e(m,Y),t(f)===null&&Y===t(m)&&(x?(z(P),P=-1):x=!0,ve(X,ae-U))):(Y.sortIndex=Z,e(f,Y),O||C||(O=!0,Ee(ne))),Y},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(Y){var ce=T;return function(){var ae=T;T=ce;try{return Y.apply(this,arguments)}finally{T=ae}}}})(Qf)),Qf}var Kv;function vC(){return Kv||(Kv=1,Kf.exports=yC()),Kf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function _C(){if(Qv)return sn;Qv=1;var n=kh(),e=vC();function t(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(s,i){u(s,i),u(s+"Capture",i)}function u(s,i){for(o[s]=i,s=0;s<i.length;s++)r.add(i[s])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function T(s){return f.call(w,s)?!0:f.call(v,s)?!1:m.test(s)?w[s]=!0:(v[s]=!0,!1)}function C(s,i,l,h){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function O(s,i,l,h){if(i===null||typeof i>"u"||C(s,i,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function x(s,i,l,h,p,g,E){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=s,this.type=i,this.sanitizeURL=g,this.removeEmptyString=E}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){S[s]=new x(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];S[i]=new x(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){S[s]=new x(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){S[s]=new x(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){S[s]=new x(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){S[s]=new x(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){S[s]=new x(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){S[s]=new x(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){S[s]=new x(s,5,!1,s.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function H(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(z,H);S[i]=new x(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(z,H);S[i]=new x(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(z,H);S[i]=new x(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){S[s]=new x(s,1,!1,s.toLowerCase(),null,!1,!1)}),S.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){S[s]=new x(s,1,!1,s.toLowerCase(),null,!0,!0)});function K(s,i,l,h){var p=S.hasOwnProperty(i)?S[i]:null;(p!==null?p.type!==0:h||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(O(i,l,p,h)&&(l=null),h||p===null?T(i)&&(l===null?s.removeAttribute(i):s.setAttribute(i,""+l)):p.mustUseProperty?s[p.propertyName]=l===null?p.type===3?!1:"":l:(i=p.attributeName,h=p.attributeNamespace,l===null?s.removeAttribute(i):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,h?s.setAttributeNS(h,i,l):s.setAttribute(i,l))))}var X=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ne=Symbol.for("react.element"),se=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),V=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),Re=Symbol.for("react.memo"),Ee=Symbol.for("react.lazy"),ve=Symbol.for("react.offscreen"),Y=Symbol.iterator;function ce(s){return s===null||typeof s!="object"?null:(s=Y&&s[Y]||s["@@iterator"],typeof s=="function"?s:null)}var ae=Object.assign,U;function Z(s){if(U===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);U=i&&i[1]||""}return`
`+U+s}var Te=!1;function Se(s,i){if(!s||Te)return"";Te=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(W){var h=W}Reflect.construct(s,[],i)}else{try{i.call()}catch(W){h=W}s.call(i.prototype)}else{try{throw Error()}catch(W){h=W}s()}}catch(W){if(W&&h&&typeof W.stack=="string"){for(var p=W.stack.split(`
`),g=h.stack.split(`
`),E=p.length-1,D=g.length-1;1<=E&&0<=D&&p[E]!==g[D];)D--;for(;1<=E&&0<=D;E--,D--)if(p[E]!==g[D]){if(E!==1||D!==1)do if(E--,D--,0>D||p[E]!==g[D]){var F=`
`+p[E].replace(" at new "," at ");return s.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",s.displayName)),F}while(1<=E&&0<=D);break}}}finally{Te=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?Z(s):""}function Ne(s){switch(s.tag){case 5:return Z(s.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return s=Se(s.type,!1),s;case 11:return s=Se(s.type.render,!1),s;case 1:return s=Se(s.type,!0),s;default:return""}}function De(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case b:return"Fragment";case se:return"Portal";case N:return"Profiler";case P:return"StrictMode";case k:return"Suspense";case oe:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case V:return(s.displayName||"Context")+".Consumer";case M:return(s._context.displayName||"Context")+".Provider";case L:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Re:return i=s.displayName||null,i!==null?i:De(s.type)||"Memo";case Ee:i=s._payload,s=s._init;try{return De(s(i))}catch{}}return null}function Ve(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(i);case 8:return i===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Me(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ge(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Pt(s){var i=Ge(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),h=""+s[i];if(!s.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,g=l.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return p.call(this)},set:function(E){h=""+E,g.call(this,E)}}),Object.defineProperty(s,i,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function hs(s){s._valueTracker||(s._valueTracker=Pt(s))}function pi(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var l=i.getValue(),h="";return s&&(h=Ge(s)?s.checked?"true":"false":s.value),s=h,s!==l?(i.setValue(s),!0):!1}function un(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function oo(s,i){var l=i.checked;return ae({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function pu(s,i){var l=i.defaultValue==null?"":i.defaultValue,h=i.checked!=null?i.checked:i.defaultChecked;l=Me(i.value!=null?i.value:l),s._wrapperState={initialChecked:h,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function ao(s,i){i=i.checked,i!=null&&K(s,"checked",i,!1)}function mi(s,i){ao(s,i);var l=Me(i.value),h=i.type;if(l!=null)h==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?pt(s,i.type,l):i.hasOwnProperty("defaultValue")&&pt(s,i.type,Me(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function xa(s,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var h=i.type;if(!(h!=="submit"&&h!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,l||i===s.value||(s.value=i),s.defaultValue=i}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function pt(s,i,l){(i!=="number"||un(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var ut=Array.isArray;function Vn(s,i,l,h){if(s=s.options,i){i={};for(var p=0;p<l.length;p++)i["$"+l[p]]=!0;for(l=0;l<s.length;l++)p=i.hasOwnProperty("$"+s[l].value),s[l].selected!==p&&(s[l].selected=p),p&&h&&(s[l].defaultSelected=!0)}else{for(l=""+Me(l),i=null,p=0;p<s.length;p++){if(s[p].value===l){s[p].selected=!0,h&&(s[p].defaultSelected=!0);return}i!==null||s[p].disabled||(i=s[p])}i!==null&&(i.selected=!0)}}function Pa(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function ka(s,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(t(92));if(ut(l)){if(1<l.length)throw Error(t(93));l=l[0]}i=l}i==null&&(i=""),l=i}s._wrapperState={initialValue:Me(l)}}function mu(s,i){var l=Me(i.value),h=Me(i.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),i.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),h!=null&&(s.defaultValue=""+h)}function ds(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function ba(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lo(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?ba(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var fs,gu=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,h,p){MSApp.execUnsafeLocalFunction(function(){return s(i,l,h,p)})}:s})(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(fs=fs||document.createElement("div"),fs.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=fs.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function gi(s,i){if(i){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=i;return}}s.textContent=i}var ps={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yu=["Webkit","ms","Moz","O"];Object.keys(ps).forEach(function(s){yu.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),ps[i]=ps[s]})});function ms(s,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||ps.hasOwnProperty(s)&&ps[s]?(""+i).trim():i+"px"}function uo(s,i){s=s.style;for(var l in i)if(i.hasOwnProperty(l)){var h=l.indexOf("--")===0,p=ms(l,i[l],h);l==="float"&&(l="cssFloat"),h?s.setProperty(l,p):s[l]=p}}var Na=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mn(s,i){if(i){if(Na[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function co(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gs=null;function ho(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Or=null,Vr=null,ot=null;function Da(s){if(s=ol(s)){if(typeof Or!="function")throw Error(t(280));var i=s.stateNode;i&&(i=qu(i),Or(s.stateNode,s.type,i))}}function ys(s){Vr?ot?ot.push(s):ot=[s]:Vr=s}function vs(){if(Vr){var s=Vr,i=ot;if(ot=Vr=null,Da(s),i)for(s=0;s<i.length;s++)Da(i[s])}}function vu(s,i){return s(i)}function _u(){}var tr=!1;function wu(s,i,l){if(tr)return s(i,l);tr=!0;try{return vu(s,i,l)}finally{tr=!1,(Vr!==null||ot!==null)&&(_u(),vs())}}function yi(s,i){var l=s.stateNode;if(l===null)return null;var h=qu(l);if(h===null)return null;l=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(t(231,i,typeof l));return l}var _s=!1;if(d)try{var ws={};Object.defineProperty(ws,"passive",{get:function(){_s=!0}}),window.addEventListener("test",ws,ws),window.removeEventListener("test",ws,ws)}catch{_s=!1}function Eu(s,i,l,h,p,g,E,D,F){var W=Array.prototype.slice.call(arguments,3);try{i.apply(l,W)}catch(te){this.onError(te)}}var Mr=!1,nr=null,fo=!1,Sn=null,Tu={onError:function(s){Mr=!0,nr=s}};function Iu(s,i,l,h,p,g,E,D,F){Mr=!1,nr=null,Eu.apply(Tu,arguments)}function Oa(s,i,l,h,p,g,E,D,F){if(Iu.apply(this,arguments),Mr){if(Mr){var W=nr;Mr=!1,nr=null}else throw Error(t(198));fo||(fo=!0,Sn=W)}}function Ln(s){var i=s,l=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(l=i.return),s=i.return;while(s)}return i.tag===3?l:null}function Va(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function Su(s){if(Ln(s)!==s)throw Error(t(188))}function Au(s){var i=s.alternate;if(!i){if(i=Ln(s),i===null)throw Error(t(188));return i!==s?null:s}for(var l=s,h=i;;){var p=l.return;if(p===null)break;var g=p.alternate;if(g===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===l)return Su(p),s;if(g===h)return Su(p),i;g=g.sibling}throw Error(t(188))}if(l.return!==h.return)l=p,h=g;else{for(var E=!1,D=p.child;D;){if(D===l){E=!0,l=p,h=g;break}if(D===h){E=!0,h=p,l=g;break}D=D.sibling}if(!E){for(D=g.child;D;){if(D===l){E=!0,l=g,h=p;break}if(D===h){E=!0,h=g,l=p;break}D=D.sibling}if(!E)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?s:i}function Cu(s){return s=Au(s),s!==null?vi(s):null}function vi(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=vi(s);if(i!==null)return i;s=s.sibling}return null}var Ma=e.unstable_scheduleCallback,po=e.unstable_cancelCallback,_i=e.unstable_shouldYield,Lr=e.unstable_requestPaint,Je=e.unstable_now,Ed=e.unstable_getCurrentPriorityLevel,mo=e.unstable_ImmediatePriority,La=e.unstable_UserBlockingPriority,wi=e.unstable_NormalPriority,Fa=e.unstable_LowPriority,go=e.unstable_IdlePriority,Ei=null,cn=null;function Ru(s){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(Ei,s,void 0,(s.current.flags&128)===128)}catch{}}var hn=Math.clz32?Math.clz32:Ti,rr=Math.log,An=Math.LN2;function Ti(s){return s>>>=0,s===0?32:31-(rr(s)/An|0)|0}var sr=64,Es=4194304;function He(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Fr(s,i){var l=s.pendingLanes;if(l===0)return 0;var h=0,p=s.suspendedLanes,g=s.pingedLanes,E=l&268435455;if(E!==0){var D=E&~p;D!==0?h=He(D):(g&=E,g!==0&&(h=He(g)))}else E=l&~p,E!==0?h=He(E):g!==0&&(h=He(g));if(h===0)return 0;if(i!==0&&i!==h&&(i&p)===0&&(p=h&-h,g=i&-i,p>=g||p===16&&(g&4194240)!==0))return i;if((h&4)!==0&&(h|=l&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=h;0<i;)l=31-hn(i),p=1<<l,h|=s[l],i&=~p;return h}function Ii(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Si(s,i){for(var l=s.suspendedLanes,h=s.pingedLanes,p=s.expirationTimes,g=s.pendingLanes;0<g;){var E=31-hn(g),D=1<<E,F=p[E];F===-1?((D&l)===0||(D&h)!==0)&&(p[E]=Ii(D,i)):F<=i&&(s.expiredLanes|=D),g&=~D}}function ja(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Ua(){var s=sr;return sr<<=1,(sr&4194240)===0&&(sr=64),s}function za(s){for(var i=[],l=0;31>l;l++)i.push(s);return i}function Ai(s,i,l){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-hn(i),s[i]=l}function Td(s,i){var l=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<l;){var p=31-hn(l),g=1<<p;i[p]=0,h[p]=-1,s[p]=-1,l&=~g}}function $a(s,i){var l=s.entangledLanes|=i;for(s=s.entanglements;l;){var h=31-hn(l),p=1<<h;p&i|s[h]&i&&(s[h]|=i),l&=~p}}var Ue=0;function ir(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Ba,yo,qa,Ha,Wa,or=!1,vo=[],ar=null,lr=null,kt=null,Ci=new Map,jr=new Map,dn=[],xu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ts(s,i){switch(s){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":kt=null;break;case"pointerover":case"pointerout":Ci.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":jr.delete(i.pointerId)}}function Fn(s,i,l,h,p,g){return s===null||s.nativeEvent!==g?(s={blockedOn:i,domEventName:l,eventSystemFlags:h,nativeEvent:g,targetContainers:[p]},i!==null&&(i=ol(i),i!==null&&yo(i)),s):(s.eventSystemFlags|=h,i=s.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),s)}function Pu(s,i,l,h,p){switch(i){case"focusin":return ar=Fn(ar,s,i,l,h,p),!0;case"dragenter":return lr=Fn(lr,s,i,l,h,p),!0;case"mouseover":return kt=Fn(kt,s,i,l,h,p),!0;case"pointerover":var g=p.pointerId;return Ci.set(g,Fn(Ci.get(g)||null,s,i,l,h,p)),!0;case"gotpointercapture":return g=p.pointerId,jr.set(g,Fn(jr.get(g)||null,s,i,l,h,p)),!0}return!1}function _o(s){var i=ki(s.target);if(i!==null){var l=Ln(i);if(l!==null){if(i=l.tag,i===13){if(i=Va(l),i!==null){s.blockedOn=i,Wa(s.priority,function(){qa(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Qe(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var l=wo(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var h=new l.constructor(l.type,l);gs=h,l.target.dispatchEvent(h),gs=null}else return i=ol(l),i!==null&&yo(i),s.blockedOn=l,!1;i.shift()}return!0}function ku(s,i,l){Qe(s)&&l.delete(i)}function Id(){or=!1,ar!==null&&Qe(ar)&&(ar=null),lr!==null&&Qe(lr)&&(lr=null),kt!==null&&Qe(kt)&&(kt=null),Ci.forEach(ku),jr.forEach(ku)}function Is(s,i){s.blockedOn===i&&(s.blockedOn=null,or||(or=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Id)))}function Ss(s){function i(p){return Is(p,s)}if(0<vo.length){Is(vo[0],s);for(var l=1;l<vo.length;l++){var h=vo[l];h.blockedOn===s&&(h.blockedOn=null)}}for(ar!==null&&Is(ar,s),lr!==null&&Is(lr,s),kt!==null&&Is(kt,s),Ci.forEach(i),jr.forEach(i),l=0;l<dn.length;l++)h=dn[l],h.blockedOn===s&&(h.blockedOn=null);for(;0<dn.length&&(l=dn[0],l.blockedOn===null);)_o(l),l.blockedOn===null&&dn.shift()}var Ur=X.ReactCurrentBatchConfig,zr=!0;function ur(s,i,l,h){var p=Ue,g=Ur.transition;Ur.transition=null;try{Ue=1,Ga(s,i,l,h)}finally{Ue=p,Ur.transition=g}}function bu(s,i,l,h){var p=Ue,g=Ur.transition;Ur.transition=null;try{Ue=4,Ga(s,i,l,h)}finally{Ue=p,Ur.transition=g}}function Ga(s,i,l,h){if(zr){var p=wo(s,i,l,h);if(p===null)Od(s,i,h,cr,l),Ts(s,h);else if(Pu(p,s,i,l,h))h.stopPropagation();else if(Ts(s,h),i&4&&-1<xu.indexOf(s)){for(;p!==null;){var g=ol(p);if(g!==null&&Ba(g),g=wo(s,i,l,h),g===null&&Od(s,i,h,cr,l),g===p)break;p=g}p!==null&&h.stopPropagation()}else Od(s,i,h,null,l)}}var cr=null;function wo(s,i,l,h){if(cr=null,s=ho(h),s=ki(s),s!==null)if(i=Ln(s),i===null)s=null;else if(l=i.tag,l===13){if(s=Va(i),s!==null)return s;s=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return cr=s,null}function Eo(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ed()){case mo:return 1;case La:return 4;case wi:case Fa:return 16;case go:return 536870912;default:return 16}default:return 16}}var fn=null,To=null,$r=null;function Nu(){if($r)return $r;var s,i=To,l=i.length,h,p="value"in fn?fn.value:fn.textContent,g=p.length;for(s=0;s<l&&i[s]===p[s];s++);var E=l-s;for(h=1;h<=E&&i[l-h]===p[g-h];h++);return $r=p.slice(s,1<h?1-h:void 0)}function Ri(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function hr(){return!0}function Ka(){return!1}function Lt(s){function i(l,h,p,g,E){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var D in s)s.hasOwnProperty(D)&&(l=s[D],this[D]=l?l(g):g[D]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?hr:Ka,this.isPropagationStopped=Ka,this}return ae(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=hr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=hr)},persist:function(){},isPersistent:hr}),i}var dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xi=Lt(dr),As=ae({},dr,{view:0,detail:0}),Io=Lt(As),So,Ao,pn,Pi=ae({},As,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pe,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==pn&&(pn&&s.type==="mousemove"?(So=s.screenX-pn.screenX,Ao=s.screenY-pn.screenY):Ao=So=0,pn=s),So)},movementY:function(s){return"movementY"in s?s.movementY:Ao}}),Qa=Lt(Pi),Du=ae({},Pi,{dataTransfer:0}),Ou=Lt(Du),Co=ae({},As,{relatedTarget:0}),bt=Lt(Co),Vu=ae({},dr,{animationName:0,elapsedTime:0,pseudoElement:0}),Mu=Lt(Vu),Cs=ae({},dr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),c=Lt(Cs),y=ae({},dr,{data:0}),_=Lt(y),I={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},B={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function le(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=G[s])?!!i[s]:!1}function Pe(){return le}var ct=ae({},As,{key:function(s){if(s.key){var i=I[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Ri(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?B[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pe,charCode:function(s){return s.type==="keypress"?Ri(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ri(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Ke=Lt(ct),mt=ae({},Pi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mn=Lt(mt),Br=ae({},As,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pe}),fr=Lt(Br),pr=ae({},dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ro=Lt(pr),Ya=ae({},Pi,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),aA=Lt(Ya),lA=[9,13,27,32],Sd=d&&"CompositionEvent"in window,Xa=null;d&&"documentMode"in document&&(Xa=document.documentMode);var uA=d&&"TextEvent"in window&&!Xa,Vg=d&&(!Sd||Xa&&8<Xa&&11>=Xa),Mg=" ",Lg=!1;function Fg(s,i){switch(s){case"keyup":return lA.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jg(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var xo=!1;function cA(s,i){switch(s){case"compositionend":return jg(i);case"keypress":return i.which!==32?null:(Lg=!0,Mg);case"textInput":return s=i.data,s===Mg&&Lg?null:s;default:return null}}function hA(s,i){if(xo)return s==="compositionend"||!Sd&&Fg(s,i)?(s=Nu(),$r=To=fn=null,xo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Vg&&i.locale!=="ko"?null:i.data;default:return null}}var dA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ug(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!dA[s.type]:i==="textarea"}function zg(s,i,l,h){ys(h),i=zu(i,"onChange"),0<i.length&&(l=new xi("onChange","change",null,l,h),s.push({event:l,listeners:i}))}var Ja=null,Za=null;function fA(s){iy(s,0)}function Lu(s){var i=Do(s);if(pi(i))return s}function pA(s,i){if(s==="change")return i}var $g=!1;if(d){var Ad;if(d){var Cd="oninput"in document;if(!Cd){var Bg=document.createElement("div");Bg.setAttribute("oninput","return;"),Cd=typeof Bg.oninput=="function"}Ad=Cd}else Ad=!1;$g=Ad&&(!document.documentMode||9<document.documentMode)}function qg(){Ja&&(Ja.detachEvent("onpropertychange",Hg),Za=Ja=null)}function Hg(s){if(s.propertyName==="value"&&Lu(Za)){var i=[];zg(i,Za,s,ho(s)),wu(fA,i)}}function mA(s,i,l){s==="focusin"?(qg(),Ja=i,Za=l,Ja.attachEvent("onpropertychange",Hg)):s==="focusout"&&qg()}function gA(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Lu(Za)}function yA(s,i){if(s==="click")return Lu(i)}function vA(s,i){if(s==="input"||s==="change")return Lu(i)}function _A(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var jn=typeof Object.is=="function"?Object.is:_A;function el(s,i){if(jn(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var l=Object.keys(s),h=Object.keys(i);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!f.call(i,p)||!jn(s[p],i[p]))return!1}return!0}function Wg(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Gg(s,i){var l=Wg(s);s=0;for(var h;l;){if(l.nodeType===3){if(h=s+l.textContent.length,s<=i&&h>=i)return{node:l,offset:i-s};s=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Wg(l)}}function Kg(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?Kg(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function Qg(){for(var s=window,i=un();i instanceof s.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)s=i.contentWindow;else break;i=un(s.document)}return i}function Rd(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function wA(s){var i=Qg(),l=s.focusedElem,h=s.selectionRange;if(i!==l&&l&&l.ownerDocument&&Kg(l.ownerDocument.documentElement,l)){if(h!==null&&Rd(l)){if(i=h.start,s=h.end,s===void 0&&(s=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(s,l.value.length);else if(s=(i=l.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var p=l.textContent.length,g=Math.min(h.start,p);h=h.end===void 0?g:Math.min(h.end,p),!s.extend&&g>h&&(p=h,h=g,g=p),p=Gg(l,g);var E=Gg(l,h);p&&E&&(s.rangeCount!==1||s.anchorNode!==p.node||s.anchorOffset!==p.offset||s.focusNode!==E.node||s.focusOffset!==E.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),s.removeAllRanges(),g>h?(s.addRange(i),s.extend(E.node,E.offset)):(i.setEnd(E.node,E.offset),s.addRange(i)))}}for(i=[],s=l;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)s=i[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var EA=d&&"documentMode"in document&&11>=document.documentMode,Po=null,xd=null,tl=null,Pd=!1;function Yg(s,i,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Pd||Po==null||Po!==un(h)||(h=Po,"selectionStart"in h&&Rd(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),tl&&el(tl,h)||(tl=h,h=zu(xd,"onSelect"),0<h.length&&(i=new xi("onSelect","select",null,i,l),s.push({event:i,listeners:h}),i.target=Po)))}function Fu(s,i){var l={};return l[s.toLowerCase()]=i.toLowerCase(),l["Webkit"+s]="webkit"+i,l["Moz"+s]="moz"+i,l}var ko={animationend:Fu("Animation","AnimationEnd"),animationiteration:Fu("Animation","AnimationIteration"),animationstart:Fu("Animation","AnimationStart"),transitionend:Fu("Transition","TransitionEnd")},kd={},Xg={};d&&(Xg=document.createElement("div").style,"AnimationEvent"in window||(delete ko.animationend.animation,delete ko.animationiteration.animation,delete ko.animationstart.animation),"TransitionEvent"in window||delete ko.transitionend.transition);function ju(s){if(kd[s])return kd[s];if(!ko[s])return s;var i=ko[s],l;for(l in i)if(i.hasOwnProperty(l)&&l in Xg)return kd[s]=i[l];return s}var Jg=ju("animationend"),Zg=ju("animationiteration"),ey=ju("animationstart"),ty=ju("transitionend"),ny=new Map,ry="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rs(s,i){ny.set(s,i),a(i,[s])}for(var bd=0;bd<ry.length;bd++){var Nd=ry[bd],TA=Nd.toLowerCase(),IA=Nd[0].toUpperCase()+Nd.slice(1);Rs(TA,"on"+IA)}Rs(Jg,"onAnimationEnd"),Rs(Zg,"onAnimationIteration"),Rs(ey,"onAnimationStart"),Rs("dblclick","onDoubleClick"),Rs("focusin","onFocus"),Rs("focusout","onBlur"),Rs(ty,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SA=new Set("cancel close invalid load scroll toggle".split(" ").concat(nl));function sy(s,i,l){var h=s.type||"unknown-event";s.currentTarget=l,Oa(h,i,void 0,s),s.currentTarget=null}function iy(s,i){i=(i&4)!==0;for(var l=0;l<s.length;l++){var h=s[l],p=h.event;h=h.listeners;e:{var g=void 0;if(i)for(var E=h.length-1;0<=E;E--){var D=h[E],F=D.instance,W=D.currentTarget;if(D=D.listener,F!==g&&p.isPropagationStopped())break e;sy(p,D,W),g=F}else for(E=0;E<h.length;E++){if(D=h[E],F=D.instance,W=D.currentTarget,D=D.listener,F!==g&&p.isPropagationStopped())break e;sy(p,D,W),g=F}}}if(fo)throw s=Sn,fo=!1,Sn=null,s}function Ze(s,i){var l=i[Ud];l===void 0&&(l=i[Ud]=new Set);var h=s+"__bubble";l.has(h)||(oy(i,s,2,!1),l.add(h))}function Dd(s,i,l){var h=0;i&&(h|=4),oy(l,s,h,i)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function rl(s){if(!s[Uu]){s[Uu]=!0,r.forEach(function(l){l!=="selectionchange"&&(SA.has(l)||Dd(l,!1,s),Dd(l,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[Uu]||(i[Uu]=!0,Dd("selectionchange",!1,i))}}function oy(s,i,l,h){switch(Eo(i)){case 1:var p=ur;break;case 4:p=bu;break;default:p=Ga}l=p.bind(null,i,l,s),p=void 0,!_s||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),h?p!==void 0?s.addEventListener(i,l,{capture:!0,passive:p}):s.addEventListener(i,l,!0):p!==void 0?s.addEventListener(i,l,{passive:p}):s.addEventListener(i,l,!1)}function Od(s,i,l,h,p){var g=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var D=h.stateNode.containerInfo;if(D===p||D.nodeType===8&&D.parentNode===p)break;if(E===4)for(E=h.return;E!==null;){var F=E.tag;if((F===3||F===4)&&(F=E.stateNode.containerInfo,F===p||F.nodeType===8&&F.parentNode===p))return;E=E.return}for(;D!==null;){if(E=ki(D),E===null)return;if(F=E.tag,F===5||F===6){h=g=E;continue e}D=D.parentNode}}h=h.return}wu(function(){var W=g,te=ho(l),re=[];e:{var ee=ny.get(s);if(ee!==void 0){var he=xi,pe=s;switch(s){case"keypress":if(Ri(l)===0)break e;case"keydown":case"keyup":he=Ke;break;case"focusin":pe="focus",he=bt;break;case"focusout":pe="blur",he=bt;break;case"beforeblur":case"afterblur":he=bt;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=Qa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=Ou;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=fr;break;case Jg:case Zg:case ey:he=Mu;break;case ty:he=Ro;break;case"scroll":he=Io;break;case"wheel":he=aA;break;case"copy":case"cut":case"paste":he=c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=mn}var me=(i&4)!==0,ht=!me&&s==="scroll",$=me?ee!==null?ee+"Capture":null:ee;me=[];for(var j=W,q;j!==null;){q=j;var ie=q.stateNode;if(q.tag===5&&ie!==null&&(q=ie,$!==null&&(ie=yi(j,$),ie!=null&&me.push(sl(j,ie,q)))),ht)break;j=j.return}0<me.length&&(ee=new he(ee,pe,null,l,te),re.push({event:ee,listeners:me}))}}if((i&7)===0){e:{if(ee=s==="mouseover"||s==="pointerover",he=s==="mouseout"||s==="pointerout",ee&&l!==gs&&(pe=l.relatedTarget||l.fromElement)&&(ki(pe)||pe[qr]))break e;if((he||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,he?(pe=l.relatedTarget||l.toElement,he=W,pe=pe?ki(pe):null,pe!==null&&(ht=Ln(pe),pe!==ht||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(he=null,pe=W),he!==pe)){if(me=Qa,ie="onMouseLeave",$="onMouseEnter",j="mouse",(s==="pointerout"||s==="pointerover")&&(me=mn,ie="onPointerLeave",$="onPointerEnter",j="pointer"),ht=he==null?ee:Do(he),q=pe==null?ee:Do(pe),ee=new me(ie,j+"leave",he,l,te),ee.target=ht,ee.relatedTarget=q,ie=null,ki(te)===W&&(me=new me($,j+"enter",pe,l,te),me.target=q,me.relatedTarget=ht,ie=me),ht=ie,he&&pe)t:{for(me=he,$=pe,j=0,q=me;q;q=bo(q))j++;for(q=0,ie=$;ie;ie=bo(ie))q++;for(;0<j-q;)me=bo(me),j--;for(;0<q-j;)$=bo($),q--;for(;j--;){if(me===$||$!==null&&me===$.alternate)break t;me=bo(me),$=bo($)}me=null}else me=null;he!==null&&ay(re,ee,he,me,!1),pe!==null&&ht!==null&&ay(re,ht,pe,me,!0)}}e:{if(ee=W?Do(W):window,he=ee.nodeName&&ee.nodeName.toLowerCase(),he==="select"||he==="input"&&ee.type==="file")var ge=pA;else if(Ug(ee))if($g)ge=vA;else{ge=gA;var _e=mA}else(he=ee.nodeName)&&he.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(ge=yA);if(ge&&(ge=ge(s,W))){zg(re,ge,l,te);break e}_e&&_e(s,ee,W),s==="focusout"&&(_e=ee._wrapperState)&&_e.controlled&&ee.type==="number"&&pt(ee,"number",ee.value)}switch(_e=W?Do(W):window,s){case"focusin":(Ug(_e)||_e.contentEditable==="true")&&(Po=_e,xd=W,tl=null);break;case"focusout":tl=xd=Po=null;break;case"mousedown":Pd=!0;break;case"contextmenu":case"mouseup":case"dragend":Pd=!1,Yg(re,l,te);break;case"selectionchange":if(EA)break;case"keydown":case"keyup":Yg(re,l,te)}var we;if(Sd)e:{switch(s){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else xo?Fg(s,l)&&(Ae="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Ae="onCompositionStart");Ae&&(Vg&&l.locale!=="ko"&&(xo||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&xo&&(we=Nu()):(fn=te,To="value"in fn?fn.value:fn.textContent,xo=!0)),_e=zu(W,Ae),0<_e.length&&(Ae=new _(Ae,s,null,l,te),re.push({event:Ae,listeners:_e}),we?Ae.data=we:(we=jg(l),we!==null&&(Ae.data=we)))),(we=uA?cA(s,l):hA(s,l))&&(W=zu(W,"onBeforeInput"),0<W.length&&(te=new _("onBeforeInput","beforeinput",null,l,te),re.push({event:te,listeners:W}),te.data=we))}iy(re,i)})}function sl(s,i,l){return{instance:s,listener:i,currentTarget:l}}function zu(s,i){for(var l=i+"Capture",h=[];s!==null;){var p=s,g=p.stateNode;p.tag===5&&g!==null&&(p=g,g=yi(s,l),g!=null&&h.unshift(sl(s,g,p)),g=yi(s,i),g!=null&&h.push(sl(s,g,p))),s=s.return}return h}function bo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function ay(s,i,l,h,p){for(var g=i._reactName,E=[];l!==null&&l!==h;){var D=l,F=D.alternate,W=D.stateNode;if(F!==null&&F===h)break;D.tag===5&&W!==null&&(D=W,p?(F=yi(l,g),F!=null&&E.unshift(sl(l,F,D))):p||(F=yi(l,g),F!=null&&E.push(sl(l,F,D)))),l=l.return}E.length!==0&&s.push({event:i,listeners:E})}var AA=/\r\n?/g,CA=/\u0000|\uFFFD/g;function ly(s){return(typeof s=="string"?s:""+s).replace(AA,`
`).replace(CA,"")}function $u(s,i,l){if(i=ly(i),ly(s)!==i&&l)throw Error(t(425))}function Bu(){}var Vd=null,Md=null;function Ld(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Fd=typeof setTimeout=="function"?setTimeout:void 0,RA=typeof clearTimeout=="function"?clearTimeout:void 0,uy=typeof Promise=="function"?Promise:void 0,xA=typeof queueMicrotask=="function"?queueMicrotask:typeof uy<"u"?function(s){return uy.resolve(null).then(s).catch(PA)}:Fd;function PA(s){setTimeout(function(){throw s})}function jd(s,i){var l=i,h=0;do{var p=l.nextSibling;if(s.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(h===0){s.removeChild(p),Ss(i);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=p}while(l);Ss(i)}function xs(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function cy(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return s;i--}else l==="/$"&&i++}s=s.previousSibling}return null}var No=Math.random().toString(36).slice(2),mr="__reactFiber$"+No,il="__reactProps$"+No,qr="__reactContainer$"+No,Ud="__reactEvents$"+No,kA="__reactListeners$"+No,bA="__reactHandles$"+No;function ki(s){var i=s[mr];if(i)return i;for(var l=s.parentNode;l;){if(i=l[qr]||l[mr]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(s=cy(s);s!==null;){if(l=s[mr])return l;s=cy(s)}return i}s=l,l=s.parentNode}return null}function ol(s){return s=s[mr]||s[qr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Do(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function qu(s){return s[il]||null}var zd=[],Oo=-1;function Ps(s){return{current:s}}function et(s){0>Oo||(s.current=zd[Oo],zd[Oo]=null,Oo--)}function Xe(s,i){Oo++,zd[Oo]=s.current,s.current=i}var ks={},Ft=Ps(ks),Zt=Ps(!1),bi=ks;function Vo(s,i){var l=s.type.contextTypes;if(!l)return ks;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===i)return h.__reactInternalMemoizedMaskedChildContext;var p={},g;for(g in l)p[g]=i[g];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=p),p}function en(s){return s=s.childContextTypes,s!=null}function Hu(){et(Zt),et(Ft)}function hy(s,i,l){if(Ft.current!==ks)throw Error(t(168));Xe(Ft,i),Xe(Zt,l)}function dy(s,i,l){var h=s.stateNode;if(i=i.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var p in h)if(!(p in i))throw Error(t(108,Ve(s)||"Unknown",p));return ae({},l,h)}function Wu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ks,bi=Ft.current,Xe(Ft,s),Xe(Zt,Zt.current),!0}function fy(s,i,l){var h=s.stateNode;if(!h)throw Error(t(169));l?(s=dy(s,i,bi),h.__reactInternalMemoizedMergedChildContext=s,et(Zt),et(Ft),Xe(Ft,s)):et(Zt),Xe(Zt,l)}var Hr=null,Gu=!1,$d=!1;function py(s){Hr===null?Hr=[s]:Hr.push(s)}function NA(s){Gu=!0,py(s)}function bs(){if(!$d&&Hr!==null){$d=!0;var s=0,i=Ue;try{var l=Hr;for(Ue=1;s<l.length;s++){var h=l[s];do h=h(!0);while(h!==null)}Hr=null,Gu=!1}catch(p){throw Hr!==null&&(Hr=Hr.slice(s+1)),Ma(mo,bs),p}finally{Ue=i,$d=!1}}return null}var Mo=[],Lo=0,Ku=null,Qu=0,Cn=[],Rn=0,Ni=null,Wr=1,Gr="";function Di(s,i){Mo[Lo++]=Qu,Mo[Lo++]=Ku,Ku=s,Qu=i}function my(s,i,l){Cn[Rn++]=Wr,Cn[Rn++]=Gr,Cn[Rn++]=Ni,Ni=s;var h=Wr;s=Gr;var p=32-hn(h)-1;h&=~(1<<p),l+=1;var g=32-hn(i)+p;if(30<g){var E=p-p%5;g=(h&(1<<E)-1).toString(32),h>>=E,p-=E,Wr=1<<32-hn(i)+p|l<<p|h,Gr=g+s}else Wr=1<<g|l<<p|h,Gr=s}function Bd(s){s.return!==null&&(Di(s,1),my(s,1,0))}function qd(s){for(;s===Ku;)Ku=Mo[--Lo],Mo[Lo]=null,Qu=Mo[--Lo],Mo[Lo]=null;for(;s===Ni;)Ni=Cn[--Rn],Cn[Rn]=null,Gr=Cn[--Rn],Cn[Rn]=null,Wr=Cn[--Rn],Cn[Rn]=null}var gn=null,yn=null,nt=!1,Un=null;function gy(s,i){var l=bn(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=s,i=s.deletions,i===null?(s.deletions=[l],s.flags|=16):i.push(l)}function yy(s,i){switch(s.tag){case 5:var l=s.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,gn=s,yn=xs(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,gn=s,yn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=Ni!==null?{id:Wr,overflow:Gr}:null,s.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=bn(18,null,null,0),l.stateNode=i,l.return=s,s.child=l,gn=s,yn=null,!0):!1;default:return!1}}function Hd(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Wd(s){if(nt){var i=yn;if(i){var l=i;if(!yy(s,i)){if(Hd(s))throw Error(t(418));i=xs(l.nextSibling);var h=gn;i&&yy(s,i)?gy(h,l):(s.flags=s.flags&-4097|2,nt=!1,gn=s)}}else{if(Hd(s))throw Error(t(418));s.flags=s.flags&-4097|2,nt=!1,gn=s}}}function vy(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;gn=s}function Yu(s){if(s!==gn)return!1;if(!nt)return vy(s),nt=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!Ld(s.type,s.memoizedProps)),i&&(i=yn)){if(Hd(s))throw _y(),Error(t(418));for(;i;)gy(s,i),i=xs(i.nextSibling)}if(vy(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(i===0){yn=xs(s.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}s=s.nextSibling}yn=null}}else yn=gn?xs(s.stateNode.nextSibling):null;return!0}function _y(){for(var s=yn;s;)s=xs(s.nextSibling)}function Fo(){yn=gn=null,nt=!1}function Gd(s){Un===null?Un=[s]:Un.push(s)}var DA=X.ReactCurrentBatchConfig;function al(s,i,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,s));var p=h,g=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===g?i.ref:(i=function(E){var D=p.refs;E===null?delete D[g]:D[g]=E},i._stringRef=g,i)}if(typeof s!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,s))}return s}function Xu(s,i){throw s=Object.prototype.toString.call(i),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function wy(s){var i=s._init;return i(s._payload)}function Ey(s){function i($,j){if(s){var q=$.deletions;q===null?($.deletions=[j],$.flags|=16):q.push(j)}}function l($,j){if(!s)return null;for(;j!==null;)i($,j),j=j.sibling;return null}function h($,j){for($=new Map;j!==null;)j.key!==null?$.set(j.key,j):$.set(j.index,j),j=j.sibling;return $}function p($,j){return $=js($,j),$.index=0,$.sibling=null,$}function g($,j,q){return $.index=q,s?(q=$.alternate,q!==null?(q=q.index,q<j?($.flags|=2,j):q):($.flags|=2,j)):($.flags|=1048576,j)}function E($){return s&&$.alternate===null&&($.flags|=2),$}function D($,j,q,ie){return j===null||j.tag!==6?(j=jf(q,$.mode,ie),j.return=$,j):(j=p(j,q),j.return=$,j)}function F($,j,q,ie){var ge=q.type;return ge===b?te($,j,q.props.children,ie,q.key):j!==null&&(j.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Ee&&wy(ge)===j.type)?(ie=p(j,q.props),ie.ref=al($,j,q),ie.return=$,ie):(ie=Ec(q.type,q.key,q.props,null,$.mode,ie),ie.ref=al($,j,q),ie.return=$,ie)}function W($,j,q,ie){return j===null||j.tag!==4||j.stateNode.containerInfo!==q.containerInfo||j.stateNode.implementation!==q.implementation?(j=Uf(q,$.mode,ie),j.return=$,j):(j=p(j,q.children||[]),j.return=$,j)}function te($,j,q,ie,ge){return j===null||j.tag!==7?(j=zi(q,$.mode,ie,ge),j.return=$,j):(j=p(j,q),j.return=$,j)}function re($,j,q){if(typeof j=="string"&&j!==""||typeof j=="number")return j=jf(""+j,$.mode,q),j.return=$,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ne:return q=Ec(j.type,j.key,j.props,null,$.mode,q),q.ref=al($,null,j),q.return=$,q;case se:return j=Uf(j,$.mode,q),j.return=$,j;case Ee:var ie=j._init;return re($,ie(j._payload),q)}if(ut(j)||ce(j))return j=zi(j,$.mode,q,null),j.return=$,j;Xu($,j)}return null}function ee($,j,q,ie){var ge=j!==null?j.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return ge!==null?null:D($,j,""+q,ie);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case ne:return q.key===ge?F($,j,q,ie):null;case se:return q.key===ge?W($,j,q,ie):null;case Ee:return ge=q._init,ee($,j,ge(q._payload),ie)}if(ut(q)||ce(q))return ge!==null?null:te($,j,q,ie,null);Xu($,q)}return null}function he($,j,q,ie,ge){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return $=$.get(q)||null,D(j,$,""+ie,ge);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case ne:return $=$.get(ie.key===null?q:ie.key)||null,F(j,$,ie,ge);case se:return $=$.get(ie.key===null?q:ie.key)||null,W(j,$,ie,ge);case Ee:var _e=ie._init;return he($,j,q,_e(ie._payload),ge)}if(ut(ie)||ce(ie))return $=$.get(q)||null,te(j,$,ie,ge,null);Xu(j,ie)}return null}function pe($,j,q,ie){for(var ge=null,_e=null,we=j,Ae=j=0,Ct=null;we!==null&&Ae<q.length;Ae++){we.index>Ae?(Ct=we,we=null):Ct=we.sibling;var Be=ee($,we,q[Ae],ie);if(Be===null){we===null&&(we=Ct);break}s&&we&&Be.alternate===null&&i($,we),j=g(Be,j,Ae),_e===null?ge=Be:_e.sibling=Be,_e=Be,we=Ct}if(Ae===q.length)return l($,we),nt&&Di($,Ae),ge;if(we===null){for(;Ae<q.length;Ae++)we=re($,q[Ae],ie),we!==null&&(j=g(we,j,Ae),_e===null?ge=we:_e.sibling=we,_e=we);return nt&&Di($,Ae),ge}for(we=h($,we);Ae<q.length;Ae++)Ct=he(we,$,Ae,q[Ae],ie),Ct!==null&&(s&&Ct.alternate!==null&&we.delete(Ct.key===null?Ae:Ct.key),j=g(Ct,j,Ae),_e===null?ge=Ct:_e.sibling=Ct,_e=Ct);return s&&we.forEach(function(Us){return i($,Us)}),nt&&Di($,Ae),ge}function me($,j,q,ie){var ge=ce(q);if(typeof ge!="function")throw Error(t(150));if(q=ge.call(q),q==null)throw Error(t(151));for(var _e=ge=null,we=j,Ae=j=0,Ct=null,Be=q.next();we!==null&&!Be.done;Ae++,Be=q.next()){we.index>Ae?(Ct=we,we=null):Ct=we.sibling;var Us=ee($,we,Be.value,ie);if(Us===null){we===null&&(we=Ct);break}s&&we&&Us.alternate===null&&i($,we),j=g(Us,j,Ae),_e===null?ge=Us:_e.sibling=Us,_e=Us,we=Ct}if(Be.done)return l($,we),nt&&Di($,Ae),ge;if(we===null){for(;!Be.done;Ae++,Be=q.next())Be=re($,Be.value,ie),Be!==null&&(j=g(Be,j,Ae),_e===null?ge=Be:_e.sibling=Be,_e=Be);return nt&&Di($,Ae),ge}for(we=h($,we);!Be.done;Ae++,Be=q.next())Be=he(we,$,Ae,Be.value,ie),Be!==null&&(s&&Be.alternate!==null&&we.delete(Be.key===null?Ae:Be.key),j=g(Be,j,Ae),_e===null?ge=Be:_e.sibling=Be,_e=Be);return s&&we.forEach(function(dC){return i($,dC)}),nt&&Di($,Ae),ge}function ht($,j,q,ie){if(typeof q=="object"&&q!==null&&q.type===b&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case ne:e:{for(var ge=q.key,_e=j;_e!==null;){if(_e.key===ge){if(ge=q.type,ge===b){if(_e.tag===7){l($,_e.sibling),j=p(_e,q.props.children),j.return=$,$=j;break e}}else if(_e.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Ee&&wy(ge)===_e.type){l($,_e.sibling),j=p(_e,q.props),j.ref=al($,_e,q),j.return=$,$=j;break e}l($,_e);break}else i($,_e);_e=_e.sibling}q.type===b?(j=zi(q.props.children,$.mode,ie,q.key),j.return=$,$=j):(ie=Ec(q.type,q.key,q.props,null,$.mode,ie),ie.ref=al($,j,q),ie.return=$,$=ie)}return E($);case se:e:{for(_e=q.key;j!==null;){if(j.key===_e)if(j.tag===4&&j.stateNode.containerInfo===q.containerInfo&&j.stateNode.implementation===q.implementation){l($,j.sibling),j=p(j,q.children||[]),j.return=$,$=j;break e}else{l($,j);break}else i($,j);j=j.sibling}j=Uf(q,$.mode,ie),j.return=$,$=j}return E($);case Ee:return _e=q._init,ht($,j,_e(q._payload),ie)}if(ut(q))return pe($,j,q,ie);if(ce(q))return me($,j,q,ie);Xu($,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,j!==null&&j.tag===6?(l($,j.sibling),j=p(j,q),j.return=$,$=j):(l($,j),j=jf(q,$.mode,ie),j.return=$,$=j),E($)):l($,j)}return ht}var jo=Ey(!0),Ty=Ey(!1),Ju=Ps(null),Zu=null,Uo=null,Kd=null;function Qd(){Kd=Uo=Zu=null}function Yd(s){var i=Ju.current;et(Ju),s._currentValue=i}function Xd(s,i,l){for(;s!==null;){var h=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),s===l)break;s=s.return}}function zo(s,i){Zu=s,Kd=Uo=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&i)!==0&&(tn=!0),s.firstContext=null)}function xn(s){var i=s._currentValue;if(Kd!==s)if(s={context:s,memoizedValue:i,next:null},Uo===null){if(Zu===null)throw Error(t(308));Uo=s,Zu.dependencies={lanes:0,firstContext:s}}else Uo=Uo.next=s;return i}var Oi=null;function Jd(s){Oi===null?Oi=[s]:Oi.push(s)}function Iy(s,i,l,h){var p=i.interleaved;return p===null?(l.next=l,Jd(i)):(l.next=p.next,p.next=l),i.interleaved=l,Kr(s,h)}function Kr(s,i){s.lanes|=i;var l=s.alternate;for(l!==null&&(l.lanes|=i),l=s,s=s.return;s!==null;)s.childLanes|=i,l=s.alternate,l!==null&&(l.childLanes|=i),l=s,s=s.return;return l.tag===3?l.stateNode:null}var Ns=!1;function Zd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sy(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Qr(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function Ds(s,i,l){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,($e&2)!==0){var p=h.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),h.pending=i,Kr(s,l)}return p=h.interleaved,p===null?(i.next=i,Jd(h)):(i.next=p.next,p.next=i),h.interleaved=i,Kr(s,l)}function ec(s,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var h=i.lanes;h&=s.pendingLanes,l|=h,i.lanes=l,$a(s,l)}}function Ay(s,i){var l=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};g===null?p=g=E:g=g.next=E,l=l.next}while(l!==null);g===null?p=g=i:g=g.next=i}else p=g=i;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:h.shared,effects:h.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=i:s.next=i,l.lastBaseUpdate=i}function tc(s,i,l,h){var p=s.updateQueue;Ns=!1;var g=p.firstBaseUpdate,E=p.lastBaseUpdate,D=p.shared.pending;if(D!==null){p.shared.pending=null;var F=D,W=F.next;F.next=null,E===null?g=W:E.next=W,E=F;var te=s.alternate;te!==null&&(te=te.updateQueue,D=te.lastBaseUpdate,D!==E&&(D===null?te.firstBaseUpdate=W:D.next=W,te.lastBaseUpdate=F))}if(g!==null){var re=p.baseState;E=0,te=W=F=null,D=g;do{var ee=D.lane,he=D.eventTime;if((h&ee)===ee){te!==null&&(te=te.next={eventTime:he,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var pe=s,me=D;switch(ee=i,he=l,me.tag){case 1:if(pe=me.payload,typeof pe=="function"){re=pe.call(he,re,ee);break e}re=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=me.payload,ee=typeof pe=="function"?pe.call(he,re,ee):pe,ee==null)break e;re=ae({},re,ee);break e;case 2:Ns=!0}}D.callback!==null&&D.lane!==0&&(s.flags|=64,ee=p.effects,ee===null?p.effects=[D]:ee.push(D))}else he={eventTime:he,lane:ee,tag:D.tag,payload:D.payload,callback:D.callback,next:null},te===null?(W=te=he,F=re):te=te.next=he,E|=ee;if(D=D.next,D===null){if(D=p.shared.pending,D===null)break;ee=D,D=ee.next,ee.next=null,p.lastBaseUpdate=ee,p.shared.pending=null}}while(!0);if(te===null&&(F=re),p.baseState=F,p.firstBaseUpdate=W,p.lastBaseUpdate=te,i=p.shared.interleaved,i!==null){p=i;do E|=p.lane,p=p.next;while(p!==i)}else g===null&&(p.shared.lanes=0);Li|=E,s.lanes=E,s.memoizedState=re}}function Cy(s,i,l){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var h=s[i],p=h.callback;if(p!==null){if(h.callback=null,h=l,typeof p!="function")throw Error(t(191,p));p.call(h)}}}var ll={},gr=Ps(ll),ul=Ps(ll),cl=Ps(ll);function Vi(s){if(s===ll)throw Error(t(174));return s}function ef(s,i){switch(Xe(cl,i),Xe(ul,s),Xe(gr,ll),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:lo(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=lo(i,s)}et(gr),Xe(gr,i)}function $o(){et(gr),et(ul),et(cl)}function Ry(s){Vi(cl.current);var i=Vi(gr.current),l=lo(i,s.type);i!==l&&(Xe(ul,s),Xe(gr,l))}function tf(s){ul.current===s&&(et(gr),et(ul))}var rt=Ps(0);function nc(s){for(var i=s;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var nf=[];function rf(){for(var s=0;s<nf.length;s++)nf[s]._workInProgressVersionPrimary=null;nf.length=0}var rc=X.ReactCurrentDispatcher,sf=X.ReactCurrentBatchConfig,Mi=0,st=null,wt=null,St=null,sc=!1,hl=!1,dl=0,OA=0;function jt(){throw Error(t(321))}function of(s,i){if(i===null)return!1;for(var l=0;l<i.length&&l<s.length;l++)if(!jn(s[l],i[l]))return!1;return!0}function af(s,i,l,h,p,g){if(Mi=g,st=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,rc.current=s===null||s.memoizedState===null?FA:jA,s=l(h,p),hl){g=0;do{if(hl=!1,dl=0,25<=g)throw Error(t(301));g+=1,St=wt=null,i.updateQueue=null,rc.current=UA,s=l(h,p)}while(hl)}if(rc.current=ac,i=wt!==null&&wt.next!==null,Mi=0,St=wt=st=null,sc=!1,i)throw Error(t(300));return s}function lf(){var s=dl!==0;return dl=0,s}function yr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?st.memoizedState=St=s:St=St.next=s,St}function Pn(){if(wt===null){var s=st.alternate;s=s!==null?s.memoizedState:null}else s=wt.next;var i=St===null?st.memoizedState:St.next;if(i!==null)St=i,wt=s;else{if(s===null)throw Error(t(310));wt=s,s={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},St===null?st.memoizedState=St=s:St=St.next=s}return St}function fl(s,i){return typeof i=="function"?i(s):i}function uf(s){var i=Pn(),l=i.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var h=wt,p=h.baseQueue,g=l.pending;if(g!==null){if(p!==null){var E=p.next;p.next=g.next,g.next=E}h.baseQueue=p=g,l.pending=null}if(p!==null){g=p.next,h=h.baseState;var D=E=null,F=null,W=g;do{var te=W.lane;if((Mi&te)===te)F!==null&&(F=F.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),h=W.hasEagerState?W.eagerState:s(h,W.action);else{var re={lane:te,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};F===null?(D=F=re,E=h):F=F.next=re,st.lanes|=te,Li|=te}W=W.next}while(W!==null&&W!==g);F===null?E=h:F.next=D,jn(h,i.memoizedState)||(tn=!0),i.memoizedState=h,i.baseState=E,i.baseQueue=F,l.lastRenderedState=h}if(s=l.interleaved,s!==null){p=s;do g=p.lane,st.lanes|=g,Li|=g,p=p.next;while(p!==s)}else p===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function cf(s){var i=Pn(),l=i.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var h=l.dispatch,p=l.pending,g=i.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do g=s(g,E.action),E=E.next;while(E!==p);jn(g,i.memoizedState)||(tn=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),l.lastRenderedState=g}return[g,h]}function xy(){}function Py(s,i){var l=st,h=Pn(),p=i(),g=!jn(h.memoizedState,p);if(g&&(h.memoizedState=p,tn=!0),h=h.queue,hf(Ny.bind(null,l,h,s),[s]),h.getSnapshot!==i||g||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,pl(9,by.bind(null,l,h,p,i),void 0,null),At===null)throw Error(t(349));(Mi&30)!==0||ky(l,i,p)}return p}function ky(s,i,l){s.flags|=16384,s={getSnapshot:i,value:l},i=st.updateQueue,i===null?(i={lastEffect:null,stores:null},st.updateQueue=i,i.stores=[s]):(l=i.stores,l===null?i.stores=[s]:l.push(s))}function by(s,i,l,h){i.value=l,i.getSnapshot=h,Dy(i)&&Oy(s)}function Ny(s,i,l){return l(function(){Dy(i)&&Oy(s)})}function Dy(s){var i=s.getSnapshot;s=s.value;try{var l=i();return!jn(s,l)}catch{return!0}}function Oy(s){var i=Kr(s,1);i!==null&&qn(i,s,1,-1)}function Vy(s){var i=yr();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fl,lastRenderedState:s},i.queue=s,s=s.dispatch=LA.bind(null,st,s),[i.memoizedState,s]}function pl(s,i,l,h){return s={tag:s,create:i,destroy:l,deps:h,next:null},i=st.updateQueue,i===null?(i={lastEffect:null,stores:null},st.updateQueue=i,i.lastEffect=s.next=s):(l=i.lastEffect,l===null?i.lastEffect=s.next=s:(h=l.next,l.next=s,s.next=h,i.lastEffect=s)),s}function My(){return Pn().memoizedState}function ic(s,i,l,h){var p=yr();st.flags|=s,p.memoizedState=pl(1|i,l,void 0,h===void 0?null:h)}function oc(s,i,l,h){var p=Pn();h=h===void 0?null:h;var g=void 0;if(wt!==null){var E=wt.memoizedState;if(g=E.destroy,h!==null&&of(h,E.deps)){p.memoizedState=pl(i,l,g,h);return}}st.flags|=s,p.memoizedState=pl(1|i,l,g,h)}function Ly(s,i){return ic(8390656,8,s,i)}function hf(s,i){return oc(2048,8,s,i)}function Fy(s,i){return oc(4,2,s,i)}function jy(s,i){return oc(4,4,s,i)}function Uy(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function zy(s,i,l){return l=l!=null?l.concat([s]):null,oc(4,4,Uy.bind(null,i,s),l)}function df(){}function $y(s,i){var l=Pn();i=i===void 0?null:i;var h=l.memoizedState;return h!==null&&i!==null&&of(i,h[1])?h[0]:(l.memoizedState=[s,i],s)}function By(s,i){var l=Pn();i=i===void 0?null:i;var h=l.memoizedState;return h!==null&&i!==null&&of(i,h[1])?h[0]:(s=s(),l.memoizedState=[s,i],s)}function qy(s,i,l){return(Mi&21)===0?(s.baseState&&(s.baseState=!1,tn=!0),s.memoizedState=l):(jn(l,i)||(l=Ua(),st.lanes|=l,Li|=l,s.baseState=!0),i)}function VA(s,i){var l=Ue;Ue=l!==0&&4>l?l:4,s(!0);var h=sf.transition;sf.transition={};try{s(!1),i()}finally{Ue=l,sf.transition=h}}function Hy(){return Pn().memoizedState}function MA(s,i,l){var h=Ls(s);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Wy(s))Gy(i,l);else if(l=Iy(s,i,l,h),l!==null){var p=Qt();qn(l,s,h,p),Ky(l,i,h)}}function LA(s,i,l){var h=Ls(s),p={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Wy(s))Gy(i,p);else{var g=s.alternate;if(s.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var E=i.lastRenderedState,D=g(E,l);if(p.hasEagerState=!0,p.eagerState=D,jn(D,E)){var F=i.interleaved;F===null?(p.next=p,Jd(i)):(p.next=F.next,F.next=p),i.interleaved=p;return}}catch{}finally{}l=Iy(s,i,p,h),l!==null&&(p=Qt(),qn(l,s,h,p),Ky(l,i,h))}}function Wy(s){var i=s.alternate;return s===st||i!==null&&i===st}function Gy(s,i){hl=sc=!0;var l=s.pending;l===null?i.next=i:(i.next=l.next,l.next=i),s.pending=i}function Ky(s,i,l){if((l&4194240)!==0){var h=i.lanes;h&=s.pendingLanes,l|=h,i.lanes=l,$a(s,l)}}var ac={readContext:xn,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},FA={readContext:xn,useCallback:function(s,i){return yr().memoizedState=[s,i===void 0?null:i],s},useContext:xn,useEffect:Ly,useImperativeHandle:function(s,i,l){return l=l!=null?l.concat([s]):null,ic(4194308,4,Uy.bind(null,i,s),l)},useLayoutEffect:function(s,i){return ic(4194308,4,s,i)},useInsertionEffect:function(s,i){return ic(4,2,s,i)},useMemo:function(s,i){var l=yr();return i=i===void 0?null:i,s=s(),l.memoizedState=[s,i],s},useReducer:function(s,i,l){var h=yr();return i=l!==void 0?l(i):i,h.memoizedState=h.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},h.queue=s,s=s.dispatch=MA.bind(null,st,s),[h.memoizedState,s]},useRef:function(s){var i=yr();return s={current:s},i.memoizedState=s},useState:Vy,useDebugValue:df,useDeferredValue:function(s){return yr().memoizedState=s},useTransition:function(){var s=Vy(!1),i=s[0];return s=VA.bind(null,s[1]),yr().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,l){var h=st,p=yr();if(nt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=i(),At===null)throw Error(t(349));(Mi&30)!==0||ky(h,i,l)}p.memoizedState=l;var g={value:l,getSnapshot:i};return p.queue=g,Ly(Ny.bind(null,h,g,s),[s]),h.flags|=2048,pl(9,by.bind(null,h,g,l,i),void 0,null),l},useId:function(){var s=yr(),i=At.identifierPrefix;if(nt){var l=Gr,h=Wr;l=(h&~(1<<32-hn(h)-1)).toString(32)+l,i=":"+i+"R"+l,l=dl++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=OA++,i=":"+i+"r"+l.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},jA={readContext:xn,useCallback:$y,useContext:xn,useEffect:hf,useImperativeHandle:zy,useInsertionEffect:Fy,useLayoutEffect:jy,useMemo:By,useReducer:uf,useRef:My,useState:function(){return uf(fl)},useDebugValue:df,useDeferredValue:function(s){var i=Pn();return qy(i,wt.memoizedState,s)},useTransition:function(){var s=uf(fl)[0],i=Pn().memoizedState;return[s,i]},useMutableSource:xy,useSyncExternalStore:Py,useId:Hy,unstable_isNewReconciler:!1},UA={readContext:xn,useCallback:$y,useContext:xn,useEffect:hf,useImperativeHandle:zy,useInsertionEffect:Fy,useLayoutEffect:jy,useMemo:By,useReducer:cf,useRef:My,useState:function(){return cf(fl)},useDebugValue:df,useDeferredValue:function(s){var i=Pn();return wt===null?i.memoizedState=s:qy(i,wt.memoizedState,s)},useTransition:function(){var s=cf(fl)[0],i=Pn().memoizedState;return[s,i]},useMutableSource:xy,useSyncExternalStore:Py,useId:Hy,unstable_isNewReconciler:!1};function zn(s,i){if(s&&s.defaultProps){i=ae({},i),s=s.defaultProps;for(var l in s)i[l]===void 0&&(i[l]=s[l]);return i}return i}function ff(s,i,l,h){i=s.memoizedState,l=l(h,i),l=l==null?i:ae({},i,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var lc={isMounted:function(s){return(s=s._reactInternals)?Ln(s)===s:!1},enqueueSetState:function(s,i,l){s=s._reactInternals;var h=Qt(),p=Ls(s),g=Qr(h,p);g.payload=i,l!=null&&(g.callback=l),i=Ds(s,g,p),i!==null&&(qn(i,s,p,h),ec(i,s,p))},enqueueReplaceState:function(s,i,l){s=s._reactInternals;var h=Qt(),p=Ls(s),g=Qr(h,p);g.tag=1,g.payload=i,l!=null&&(g.callback=l),i=Ds(s,g,p),i!==null&&(qn(i,s,p,h),ec(i,s,p))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var l=Qt(),h=Ls(s),p=Qr(l,h);p.tag=2,i!=null&&(p.callback=i),i=Ds(s,p,h),i!==null&&(qn(i,s,h,l),ec(i,s,h))}};function Qy(s,i,l,h,p,g,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,g,E):i.prototype&&i.prototype.isPureReactComponent?!el(l,h)||!el(p,g):!0}function Yy(s,i,l){var h=!1,p=ks,g=i.contextType;return typeof g=="object"&&g!==null?g=xn(g):(p=en(i)?bi:Ft.current,h=i.contextTypes,g=(h=h!=null)?Vo(s,p):ks),i=new i(l,g),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=lc,s.stateNode=i,i._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=p,s.__reactInternalMemoizedMaskedChildContext=g),i}function Xy(s,i,l,h){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,h),i.state!==s&&lc.enqueueReplaceState(i,i.state,null)}function pf(s,i,l,h){var p=s.stateNode;p.props=l,p.state=s.memoizedState,p.refs={},Zd(s);var g=i.contextType;typeof g=="object"&&g!==null?p.context=xn(g):(g=en(i)?bi:Ft.current,p.context=Vo(s,g)),p.state=s.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(ff(s,i,g,l),p.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(i=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),i!==p.state&&lc.enqueueReplaceState(p,p.state,null),tc(s,l,p,h),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308)}function Bo(s,i){try{var l="",h=i;do l+=Ne(h),h=h.return;while(h);var p=l}catch(g){p=`
Error generating stack: `+g.message+`
`+g.stack}return{value:s,source:i,stack:p,digest:null}}function mf(s,i,l){return{value:s,source:null,stack:l??null,digest:i??null}}function gf(s,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var zA=typeof WeakMap=="function"?WeakMap:Map;function Jy(s,i,l){l=Qr(-1,l),l.tag=3,l.payload={element:null};var h=i.value;return l.callback=function(){mc||(mc=!0,bf=h),gf(s,i)},l}function Zy(s,i,l){l=Qr(-1,l),l.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var p=i.value;l.payload=function(){return h(p)},l.callback=function(){gf(s,i)}}var g=s.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(l.callback=function(){gf(s,i),typeof h!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var E=i.stack;this.componentDidCatch(i.value,{componentStack:E!==null?E:""})}),l}function ev(s,i,l){var h=s.pingCache;if(h===null){h=s.pingCache=new zA;var p=new Set;h.set(i,p)}else p=h.get(i),p===void 0&&(p=new Set,h.set(i,p));p.has(l)||(p.add(l),s=tC.bind(null,s,i,l),i.then(s,s))}function tv(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function nv(s,i,l,h,p){return(s.mode&1)===0?(s===i?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=Qr(-1,1),i.tag=2,Ds(l,i,1))),l.lanes|=1),s):(s.flags|=65536,s.lanes=p,s)}var $A=X.ReactCurrentOwner,tn=!1;function Kt(s,i,l,h){i.child=s===null?Ty(i,null,l,h):jo(i,s.child,l,h)}function rv(s,i,l,h,p){l=l.render;var g=i.ref;return zo(i,p),h=af(s,i,l,h,g,p),l=lf(),s!==null&&!tn?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~p,Yr(s,i,p)):(nt&&l&&Bd(i),i.flags|=1,Kt(s,i,h,p),i.child)}function sv(s,i,l,h,p){if(s===null){var g=l.type;return typeof g=="function"&&!Ff(g)&&g.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=g,iv(s,i,g,h,p)):(s=Ec(l.type,null,h,i,i.mode,p),s.ref=i.ref,s.return=i,i.child=s)}if(g=s.child,(s.lanes&p)===0){var E=g.memoizedProps;if(l=l.compare,l=l!==null?l:el,l(E,h)&&s.ref===i.ref)return Yr(s,i,p)}return i.flags|=1,s=js(g,h),s.ref=i.ref,s.return=i,i.child=s}function iv(s,i,l,h,p){if(s!==null){var g=s.memoizedProps;if(el(g,h)&&s.ref===i.ref)if(tn=!1,i.pendingProps=h=g,(s.lanes&p)!==0)(s.flags&131072)!==0&&(tn=!0);else return i.lanes=s.lanes,Yr(s,i,p)}return yf(s,i,l,h,p)}function ov(s,i,l){var h=i.pendingProps,p=h.children,g=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(Ho,vn),vn|=l;else{if((l&1073741824)===0)return s=g!==null?g.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,Xe(Ho,vn),vn|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:l,Xe(Ho,vn),vn|=h}else g!==null?(h=g.baseLanes|l,i.memoizedState=null):h=l,Xe(Ho,vn),vn|=h;return Kt(s,i,p,l),i.child}function av(s,i){var l=i.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function yf(s,i,l,h,p){var g=en(l)?bi:Ft.current;return g=Vo(i,g),zo(i,p),l=af(s,i,l,h,g,p),h=lf(),s!==null&&!tn?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~p,Yr(s,i,p)):(nt&&h&&Bd(i),i.flags|=1,Kt(s,i,l,p),i.child)}function lv(s,i,l,h,p){if(en(l)){var g=!0;Wu(i)}else g=!1;if(zo(i,p),i.stateNode===null)cc(s,i),Yy(i,l,h),pf(i,l,h,p),h=!0;else if(s===null){var E=i.stateNode,D=i.memoizedProps;E.props=D;var F=E.context,W=l.contextType;typeof W=="object"&&W!==null?W=xn(W):(W=en(l)?bi:Ft.current,W=Vo(i,W));var te=l.getDerivedStateFromProps,re=typeof te=="function"||typeof E.getSnapshotBeforeUpdate=="function";re||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(D!==h||F!==W)&&Xy(i,E,h,W),Ns=!1;var ee=i.memoizedState;E.state=ee,tc(i,h,E,p),F=i.memoizedState,D!==h||ee!==F||Zt.current||Ns?(typeof te=="function"&&(ff(i,l,te,h),F=i.memoizedState),(D=Ns||Qy(i,l,D,h,ee,F,W))?(re||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(i.flags|=4194308)):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=F),E.props=h,E.state=F,E.context=W,h=D):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{E=i.stateNode,Sy(s,i),D=i.memoizedProps,W=i.type===i.elementType?D:zn(i.type,D),E.props=W,re=i.pendingProps,ee=E.context,F=l.contextType,typeof F=="object"&&F!==null?F=xn(F):(F=en(l)?bi:Ft.current,F=Vo(i,F));var he=l.getDerivedStateFromProps;(te=typeof he=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(D!==re||ee!==F)&&Xy(i,E,h,F),Ns=!1,ee=i.memoizedState,E.state=ee,tc(i,h,E,p);var pe=i.memoizedState;D!==re||ee!==pe||Zt.current||Ns?(typeof he=="function"&&(ff(i,l,he,h),pe=i.memoizedState),(W=Ns||Qy(i,l,W,h,ee,pe,F)||!1)?(te||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,pe,F),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,pe,F)),typeof E.componentDidUpdate=="function"&&(i.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof E.componentDidUpdate!="function"||D===s.memoizedProps&&ee===s.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&ee===s.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=pe),E.props=h,E.state=pe,E.context=F,h=W):(typeof E.componentDidUpdate!="function"||D===s.memoizedProps&&ee===s.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&ee===s.memoizedState||(i.flags|=1024),h=!1)}return vf(s,i,l,h,g,p)}function vf(s,i,l,h,p,g){av(s,i);var E=(i.flags&128)!==0;if(!h&&!E)return p&&fy(i,l,!1),Yr(s,i,g);h=i.stateNode,$A.current=i;var D=E&&typeof l.getDerivedStateFromError!="function"?null:h.render();return i.flags|=1,s!==null&&E?(i.child=jo(i,s.child,null,g),i.child=jo(i,null,D,g)):Kt(s,i,D,g),i.memoizedState=h.state,p&&fy(i,l,!0),i.child}function uv(s){var i=s.stateNode;i.pendingContext?hy(s,i.pendingContext,i.pendingContext!==i.context):i.context&&hy(s,i.context,!1),ef(s,i.containerInfo)}function cv(s,i,l,h,p){return Fo(),Gd(p),i.flags|=256,Kt(s,i,l,h),i.child}var _f={dehydrated:null,treeContext:null,retryLane:0};function wf(s){return{baseLanes:s,cachePool:null,transitions:null}}function hv(s,i,l){var h=i.pendingProps,p=rt.current,g=!1,E=(i.flags&128)!==0,D;if((D=E)||(D=s!==null&&s.memoizedState===null?!1:(p&2)!==0),D?(g=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(p|=1),Xe(rt,p&1),s===null)return Wd(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((i.mode&1)===0?i.lanes=1:s.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(E=h.children,s=h.fallback,g?(h=i.mode,g=i.child,E={mode:"hidden",children:E},(h&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=E):g=Tc(E,h,0,null),s=zi(s,h,l,null),g.return=i,s.return=i,g.sibling=s,i.child=g,i.child.memoizedState=wf(l),i.memoizedState=_f,s):Ef(i,E));if(p=s.memoizedState,p!==null&&(D=p.dehydrated,D!==null))return BA(s,i,E,h,D,p,l);if(g){g=h.fallback,E=i.mode,p=s.child,D=p.sibling;var F={mode:"hidden",children:h.children};return(E&1)===0&&i.child!==p?(h=i.child,h.childLanes=0,h.pendingProps=F,i.deletions=null):(h=js(p,F),h.subtreeFlags=p.subtreeFlags&14680064),D!==null?g=js(D,g):(g=zi(g,E,l,null),g.flags|=2),g.return=i,h.return=i,h.sibling=g,i.child=h,h=g,g=i.child,E=s.child.memoizedState,E=E===null?wf(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},g.memoizedState=E,g.childLanes=s.childLanes&~l,i.memoizedState=_f,h}return g=s.child,s=g.sibling,h=js(g,{mode:"visible",children:h.children}),(i.mode&1)===0&&(h.lanes=l),h.return=i,h.sibling=null,s!==null&&(l=i.deletions,l===null?(i.deletions=[s],i.flags|=16):l.push(s)),i.child=h,i.memoizedState=null,h}function Ef(s,i){return i=Tc({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function uc(s,i,l,h){return h!==null&&Gd(h),jo(i,s.child,null,l),s=Ef(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function BA(s,i,l,h,p,g,E){if(l)return i.flags&256?(i.flags&=-257,h=mf(Error(t(422))),uc(s,i,E,h)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(g=h.fallback,p=i.mode,h=Tc({mode:"visible",children:h.children},p,0,null),g=zi(g,p,E,null),g.flags|=2,h.return=i,g.return=i,h.sibling=g,i.child=h,(i.mode&1)!==0&&jo(i,s.child,null,E),i.child.memoizedState=wf(E),i.memoizedState=_f,g);if((i.mode&1)===0)return uc(s,i,E,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var D=h.dgst;return h=D,g=Error(t(419)),h=mf(g,h,void 0),uc(s,i,E,h)}if(D=(E&s.childLanes)!==0,tn||D){if(h=At,h!==null){switch(E&-E){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(h.suspendedLanes|E))!==0?0:p,p!==0&&p!==g.retryLane&&(g.retryLane=p,Kr(s,p),qn(h,s,p,-1))}return Lf(),h=mf(Error(t(421))),uc(s,i,E,h)}return p.data==="$?"?(i.flags|=128,i.child=s.child,i=nC.bind(null,s),p._reactRetry=i,null):(s=g.treeContext,yn=xs(p.nextSibling),gn=i,nt=!0,Un=null,s!==null&&(Cn[Rn++]=Wr,Cn[Rn++]=Gr,Cn[Rn++]=Ni,Wr=s.id,Gr=s.overflow,Ni=i),i=Ef(i,h.children),i.flags|=4096,i)}function dv(s,i,l){s.lanes|=i;var h=s.alternate;h!==null&&(h.lanes|=i),Xd(s.return,i,l)}function Tf(s,i,l,h,p){var g=s.memoizedState;g===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=l,g.tailMode=p)}function fv(s,i,l){var h=i.pendingProps,p=h.revealOrder,g=h.tail;if(Kt(s,i,h.children,l),h=rt.current,(h&2)!==0)h=h&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&dv(s,l,i);else if(s.tag===19)dv(s,l,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(Xe(rt,h),(i.mode&1)===0)i.memoizedState=null;else switch(p){case"forwards":for(l=i.child,p=null;l!==null;)s=l.alternate,s!==null&&nc(s)===null&&(p=l),l=l.sibling;l=p,l===null?(p=i.child,i.child=null):(p=l.sibling,l.sibling=null),Tf(i,!1,p,l,g);break;case"backwards":for(l=null,p=i.child,i.child=null;p!==null;){if(s=p.alternate,s!==null&&nc(s)===null){i.child=p;break}s=p.sibling,p.sibling=l,l=p,p=s}Tf(i,!0,l,null,g);break;case"together":Tf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function cc(s,i){(i.mode&1)===0&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function Yr(s,i,l){if(s!==null&&(i.dependencies=s.dependencies),Li|=i.lanes,(l&i.childLanes)===0)return null;if(s!==null&&i.child!==s.child)throw Error(t(153));if(i.child!==null){for(s=i.child,l=js(s,s.pendingProps),i.child=l,l.return=i;s.sibling!==null;)s=s.sibling,l=l.sibling=js(s,s.pendingProps),l.return=i;l.sibling=null}return i.child}function qA(s,i,l){switch(i.tag){case 3:uv(i),Fo();break;case 5:Ry(i);break;case 1:en(i.type)&&Wu(i);break;case 4:ef(i,i.stateNode.containerInfo);break;case 10:var h=i.type._context,p=i.memoizedProps.value;Xe(Ju,h._currentValue),h._currentValue=p;break;case 13:if(h=i.memoizedState,h!==null)return h.dehydrated!==null?(Xe(rt,rt.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?hv(s,i,l):(Xe(rt,rt.current&1),s=Yr(s,i,l),s!==null?s.sibling:null);Xe(rt,rt.current&1);break;case 19:if(h=(l&i.childLanes)!==0,(s.flags&128)!==0){if(h)return fv(s,i,l);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Xe(rt,rt.current),h)break;return null;case 22:case 23:return i.lanes=0,ov(s,i,l)}return Yr(s,i,l)}var pv,If,mv,gv;pv=function(s,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},If=function(){},mv=function(s,i,l,h){var p=s.memoizedProps;if(p!==h){s=i.stateNode,Vi(gr.current);var g=null;switch(l){case"input":p=oo(s,p),h=oo(s,h),g=[];break;case"select":p=ae({},p,{value:void 0}),h=ae({},h,{value:void 0}),g=[];break;case"textarea":p=Pa(s,p),h=Pa(s,h),g=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=Bu)}Mn(l,h);var E;l=null;for(W in p)if(!h.hasOwnProperty(W)&&p.hasOwnProperty(W)&&p[W]!=null)if(W==="style"){var D=p[W];for(E in D)D.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(o.hasOwnProperty(W)?g||(g=[]):(g=g||[]).push(W,null));for(W in h){var F=h[W];if(D=p?.[W],h.hasOwnProperty(W)&&F!==D&&(F!=null||D!=null))if(W==="style")if(D){for(E in D)!D.hasOwnProperty(E)||F&&F.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in F)F.hasOwnProperty(E)&&D[E]!==F[E]&&(l||(l={}),l[E]=F[E])}else l||(g||(g=[]),g.push(W,l)),l=F;else W==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,D=D?D.__html:void 0,F!=null&&D!==F&&(g=g||[]).push(W,F)):W==="children"?typeof F!="string"&&typeof F!="number"||(g=g||[]).push(W,""+F):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(o.hasOwnProperty(W)?(F!=null&&W==="onScroll"&&Ze("scroll",s),g||D===F||(g=[])):(g=g||[]).push(W,F))}l&&(g=g||[]).push("style",l);var W=g;(i.updateQueue=W)&&(i.flags|=4)}},gv=function(s,i,l,h){l!==h&&(i.flags|=4)};function ml(s,i){if(!nt)switch(s.tailMode){case"hidden":i=s.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function Ut(s){var i=s.alternate!==null&&s.alternate.child===s.child,l=0,h=0;if(i)for(var p=s.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=h,s.childLanes=l,i}function HA(s,i,l){var h=i.pendingProps;switch(qd(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(i),null;case 1:return en(i.type)&&Hu(),Ut(i),null;case 3:return h=i.stateNode,$o(),et(Zt),et(Ft),rf(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(Yu(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Un!==null&&(Of(Un),Un=null))),If(s,i),Ut(i),null;case 5:tf(i);var p=Vi(cl.current);if(l=i.type,s!==null&&i.stateNode!=null)mv(s,i,l,h,p),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!h){if(i.stateNode===null)throw Error(t(166));return Ut(i),null}if(s=Vi(gr.current),Yu(i)){h=i.stateNode,l=i.type;var g=i.memoizedProps;switch(h[mr]=i,h[il]=g,s=(i.mode&1)!==0,l){case"dialog":Ze("cancel",h),Ze("close",h);break;case"iframe":case"object":case"embed":Ze("load",h);break;case"video":case"audio":for(p=0;p<nl.length;p++)Ze(nl[p],h);break;case"source":Ze("error",h);break;case"img":case"image":case"link":Ze("error",h),Ze("load",h);break;case"details":Ze("toggle",h);break;case"input":pu(h,g),Ze("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},Ze("invalid",h);break;case"textarea":ka(h,g),Ze("invalid",h)}Mn(l,g),p=null;for(var E in g)if(g.hasOwnProperty(E)){var D=g[E];E==="children"?typeof D=="string"?h.textContent!==D&&(g.suppressHydrationWarning!==!0&&$u(h.textContent,D,s),p=["children",D]):typeof D=="number"&&h.textContent!==""+D&&(g.suppressHydrationWarning!==!0&&$u(h.textContent,D,s),p=["children",""+D]):o.hasOwnProperty(E)&&D!=null&&E==="onScroll"&&Ze("scroll",h)}switch(l){case"input":hs(h),xa(h,g,!0);break;case"textarea":hs(h),ds(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=Bu)}h=p,i.updateQueue=h,h!==null&&(i.flags|=4)}else{E=p.nodeType===9?p:p.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=ba(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=E.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=E.createElement(l,{is:h.is}):(s=E.createElement(l),l==="select"&&(E=s,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):s=E.createElementNS(s,l),s[mr]=i,s[il]=h,pv(s,i,!1,!1),i.stateNode=s;e:{switch(E=co(l,h),l){case"dialog":Ze("cancel",s),Ze("close",s),p=h;break;case"iframe":case"object":case"embed":Ze("load",s),p=h;break;case"video":case"audio":for(p=0;p<nl.length;p++)Ze(nl[p],s);p=h;break;case"source":Ze("error",s),p=h;break;case"img":case"image":case"link":Ze("error",s),Ze("load",s),p=h;break;case"details":Ze("toggle",s),p=h;break;case"input":pu(s,h),p=oo(s,h),Ze("invalid",s);break;case"option":p=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},p=ae({},h,{value:void 0}),Ze("invalid",s);break;case"textarea":ka(s,h),p=Pa(s,h),Ze("invalid",s);break;default:p=h}Mn(l,p),D=p;for(g in D)if(D.hasOwnProperty(g)){var F=D[g];g==="style"?uo(s,F):g==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&gu(s,F)):g==="children"?typeof F=="string"?(l!=="textarea"||F!=="")&&gi(s,F):typeof F=="number"&&gi(s,""+F):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?F!=null&&g==="onScroll"&&Ze("scroll",s):F!=null&&K(s,g,F,E))}switch(l){case"input":hs(s),xa(s,h,!1);break;case"textarea":hs(s),ds(s);break;case"option":h.value!=null&&s.setAttribute("value",""+Me(h.value));break;case"select":s.multiple=!!h.multiple,g=h.value,g!=null?Vn(s,!!h.multiple,g,!1):h.defaultValue!=null&&Vn(s,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(s.onclick=Bu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Ut(i),null;case 6:if(s&&i.stateNode!=null)gv(s,i,s.memoizedProps,h);else{if(typeof h!="string"&&i.stateNode===null)throw Error(t(166));if(l=Vi(cl.current),Vi(gr.current),Yu(i)){if(h=i.stateNode,l=i.memoizedProps,h[mr]=i,(g=h.nodeValue!==l)&&(s=gn,s!==null))switch(s.tag){case 3:$u(h.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&$u(h.nodeValue,l,(s.mode&1)!==0)}g&&(i.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[mr]=i,i.stateNode=h}return Ut(i),null;case 13:if(et(rt),h=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(nt&&yn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)_y(),Fo(),i.flags|=98560,g=!1;else if(g=Yu(i),h!==null&&h.dehydrated!==null){if(s===null){if(!g)throw Error(t(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[mr]=i}else Fo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ut(i),g=!1}else Un!==null&&(Of(Un),Un=null),g=!0;if(!g)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(i.child.flags|=8192,(i.mode&1)!==0&&(s===null||(rt.current&1)!==0?Et===0&&(Et=3):Lf())),i.updateQueue!==null&&(i.flags|=4),Ut(i),null);case 4:return $o(),If(s,i),s===null&&rl(i.stateNode.containerInfo),Ut(i),null;case 10:return Yd(i.type._context),Ut(i),null;case 17:return en(i.type)&&Hu(),Ut(i),null;case 19:if(et(rt),g=i.memoizedState,g===null)return Ut(i),null;if(h=(i.flags&128)!==0,E=g.rendering,E===null)if(h)ml(g,!1);else{if(Et!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(E=nc(s),E!==null){for(i.flags|=128,ml(g,!1),h=E.updateQueue,h!==null&&(i.updateQueue=h,i.flags|=4),i.subtreeFlags=0,h=l,l=i.child;l!==null;)g=l,s=h,g.flags&=14680066,E=g.alternate,E===null?(g.childLanes=0,g.lanes=s,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=E.childLanes,g.lanes=E.lanes,g.child=E.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=E.memoizedProps,g.memoizedState=E.memoizedState,g.updateQueue=E.updateQueue,g.type=E.type,s=E.dependencies,g.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return Xe(rt,rt.current&1|2),i.child}s=s.sibling}g.tail!==null&&Je()>Wo&&(i.flags|=128,h=!0,ml(g,!1),i.lanes=4194304)}else{if(!h)if(s=nc(E),s!==null){if(i.flags|=128,h=!0,l=s.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),ml(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!nt)return Ut(i),null}else 2*Je()-g.renderingStartTime>Wo&&l!==1073741824&&(i.flags|=128,h=!0,ml(g,!1),i.lanes=4194304);g.isBackwards?(E.sibling=i.child,i.child=E):(l=g.last,l!==null?l.sibling=E:i.child=E,g.last=E)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=Je(),i.sibling=null,l=rt.current,Xe(rt,h?l&1|2:l&1),i):(Ut(i),null);case 22:case 23:return Mf(),h=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(i.flags|=8192),h&&(i.mode&1)!==0?(vn&1073741824)!==0&&(Ut(i),i.subtreeFlags&6&&(i.flags|=8192)):Ut(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function WA(s,i){switch(qd(i),i.tag){case 1:return en(i.type)&&Hu(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return $o(),et(Zt),et(Ft),rf(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 5:return tf(i),null;case 13:if(et(rt),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(t(340));Fo()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return et(rt),null;case 4:return $o(),null;case 10:return Yd(i.type._context),null;case 22:case 23:return Mf(),null;case 24:return null;default:return null}}var hc=!1,zt=!1,GA=typeof WeakSet=="function"?WeakSet:Set,fe=null;function qo(s,i){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){at(s,i,h)}else l.current=null}function Sf(s,i,l){try{l()}catch(h){at(s,i,h)}}var yv=!1;function KA(s,i){if(Vd=zr,s=Qg(),Rd(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var E=0,D=-1,F=-1,W=0,te=0,re=s,ee=null;t:for(;;){for(var he;re!==l||p!==0&&re.nodeType!==3||(D=E+p),re!==g||h!==0&&re.nodeType!==3||(F=E+h),re.nodeType===3&&(E+=re.nodeValue.length),(he=re.firstChild)!==null;)ee=re,re=he;for(;;){if(re===s)break t;if(ee===l&&++W===p&&(D=E),ee===g&&++te===h&&(F=E),(he=re.nextSibling)!==null)break;re=ee,ee=re.parentNode}re=he}l=D===-1||F===-1?null:{start:D,end:F}}else l=null}l=l||{start:0,end:0}}else l=null;for(Md={focusedElem:s,selectionRange:l},zr=!1,fe=i;fe!==null;)if(i=fe,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,fe=s;else for(;fe!==null;){i=fe;try{var pe=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var me=pe.memoizedProps,ht=pe.memoizedState,$=i.stateNode,j=$.getSnapshotBeforeUpdate(i.elementType===i.type?me:zn(i.type,me),ht);$.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var q=i.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ie){at(i,i.return,ie)}if(s=i.sibling,s!==null){s.return=i.return,fe=s;break}fe=i.return}return pe=yv,yv=!1,pe}function gl(s,i,l){var h=i.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&s)===s){var g=p.destroy;p.destroy=void 0,g!==void 0&&Sf(i,l,g)}p=p.next}while(p!==h)}}function dc(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&s)===s){var h=l.create;l.destroy=h()}l=l.next}while(l!==i)}}function Af(s){var i=s.ref;if(i!==null){var l=s.stateNode;switch(s.tag){case 5:s=l;break;default:s=l}typeof i=="function"?i(s):i.current=s}}function vv(s){var i=s.alternate;i!==null&&(s.alternate=null,vv(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[mr],delete i[il],delete i[Ud],delete i[kA],delete i[bA])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function _v(s){return s.tag===5||s.tag===3||s.tag===4}function wv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||_v(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Cf(s,i,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(s,i):l.insertBefore(s,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(s,l)):(i=l,i.appendChild(s)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Bu));else if(h!==4&&(s=s.child,s!==null))for(Cf(s,i,l),s=s.sibling;s!==null;)Cf(s,i,l),s=s.sibling}function Rf(s,i,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,i?l.insertBefore(s,i):l.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(Rf(s,i,l),s=s.sibling;s!==null;)Rf(s,i,l),s=s.sibling}var Nt=null,$n=!1;function Os(s,i,l){for(l=l.child;l!==null;)Ev(s,i,l),l=l.sibling}function Ev(s,i,l){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(Ei,l)}catch{}switch(l.tag){case 5:zt||qo(l,i);case 6:var h=Nt,p=$n;Nt=null,Os(s,i,l),Nt=h,$n=p,Nt!==null&&($n?(s=Nt,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):Nt.removeChild(l.stateNode));break;case 18:Nt!==null&&($n?(s=Nt,l=l.stateNode,s.nodeType===8?jd(s.parentNode,l):s.nodeType===1&&jd(s,l),Ss(s)):jd(Nt,l.stateNode));break;case 4:h=Nt,p=$n,Nt=l.stateNode.containerInfo,$n=!0,Os(s,i,l),Nt=h,$n=p;break;case 0:case 11:case 14:case 15:if(!zt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var g=p,E=g.destroy;g=g.tag,E!==void 0&&((g&2)!==0||(g&4)!==0)&&Sf(l,i,E),p=p.next}while(p!==h)}Os(s,i,l);break;case 1:if(!zt&&(qo(l,i),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(D){at(l,i,D)}Os(s,i,l);break;case 21:Os(s,i,l);break;case 22:l.mode&1?(zt=(h=zt)||l.memoizedState!==null,Os(s,i,l),zt=h):Os(s,i,l);break;default:Os(s,i,l)}}function Tv(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new GA),i.forEach(function(h){var p=rC.bind(null,s,h);l.has(h)||(l.add(h),h.then(p,p))})}}function Bn(s,i){var l=i.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h];try{var g=s,E=i,D=E;e:for(;D!==null;){switch(D.tag){case 5:Nt=D.stateNode,$n=!1;break e;case 3:Nt=D.stateNode.containerInfo,$n=!0;break e;case 4:Nt=D.stateNode.containerInfo,$n=!0;break e}D=D.return}if(Nt===null)throw Error(t(160));Ev(g,E,p),Nt=null,$n=!1;var F=p.alternate;F!==null&&(F.return=null),p.return=null}catch(W){at(p,i,W)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Iv(i,s),i=i.sibling}function Iv(s,i){var l=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Bn(i,s),vr(s),h&4){try{gl(3,s,s.return),dc(3,s)}catch(me){at(s,s.return,me)}try{gl(5,s,s.return)}catch(me){at(s,s.return,me)}}break;case 1:Bn(i,s),vr(s),h&512&&l!==null&&qo(l,l.return);break;case 5:if(Bn(i,s),vr(s),h&512&&l!==null&&qo(l,l.return),s.flags&32){var p=s.stateNode;try{gi(p,"")}catch(me){at(s,s.return,me)}}if(h&4&&(p=s.stateNode,p!=null)){var g=s.memoizedProps,E=l!==null?l.memoizedProps:g,D=s.type,F=s.updateQueue;if(s.updateQueue=null,F!==null)try{D==="input"&&g.type==="radio"&&g.name!=null&&ao(p,g),co(D,E);var W=co(D,g);for(E=0;E<F.length;E+=2){var te=F[E],re=F[E+1];te==="style"?uo(p,re):te==="dangerouslySetInnerHTML"?gu(p,re):te==="children"?gi(p,re):K(p,te,re,W)}switch(D){case"input":mi(p,g);break;case"textarea":mu(p,g);break;case"select":var ee=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!g.multiple;var he=g.value;he!=null?Vn(p,!!g.multiple,he,!1):ee!==!!g.multiple&&(g.defaultValue!=null?Vn(p,!!g.multiple,g.defaultValue,!0):Vn(p,!!g.multiple,g.multiple?[]:"",!1))}p[il]=g}catch(me){at(s,s.return,me)}}break;case 6:if(Bn(i,s),vr(s),h&4){if(s.stateNode===null)throw Error(t(162));p=s.stateNode,g=s.memoizedProps;try{p.nodeValue=g}catch(me){at(s,s.return,me)}}break;case 3:if(Bn(i,s),vr(s),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Ss(i.containerInfo)}catch(me){at(s,s.return,me)}break;case 4:Bn(i,s),vr(s);break;case 13:Bn(i,s),vr(s),p=s.child,p.flags&8192&&(g=p.memoizedState!==null,p.stateNode.isHidden=g,!g||p.alternate!==null&&p.alternate.memoizedState!==null||(kf=Je())),h&4&&Tv(s);break;case 22:if(te=l!==null&&l.memoizedState!==null,s.mode&1?(zt=(W=zt)||te,Bn(i,s),zt=W):Bn(i,s),vr(s),h&8192){if(W=s.memoizedState!==null,(s.stateNode.isHidden=W)&&!te&&(s.mode&1)!==0)for(fe=s,te=s.child;te!==null;){for(re=fe=te;fe!==null;){switch(ee=fe,he=ee.child,ee.tag){case 0:case 11:case 14:case 15:gl(4,ee,ee.return);break;case 1:qo(ee,ee.return);var pe=ee.stateNode;if(typeof pe.componentWillUnmount=="function"){h=ee,l=ee.return;try{i=h,pe.props=i.memoizedProps,pe.state=i.memoizedState,pe.componentWillUnmount()}catch(me){at(h,l,me)}}break;case 5:qo(ee,ee.return);break;case 22:if(ee.memoizedState!==null){Cv(re);continue}}he!==null?(he.return=ee,fe=he):Cv(re)}te=te.sibling}e:for(te=null,re=s;;){if(re.tag===5){if(te===null){te=re;try{p=re.stateNode,W?(g=p.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(D=re.stateNode,F=re.memoizedProps.style,E=F!=null&&F.hasOwnProperty("display")?F.display:null,D.style.display=ms("display",E))}catch(me){at(s,s.return,me)}}}else if(re.tag===6){if(te===null)try{re.stateNode.nodeValue=W?"":re.memoizedProps}catch(me){at(s,s.return,me)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===s)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===s)break e;for(;re.sibling===null;){if(re.return===null||re.return===s)break e;te===re&&(te=null),re=re.return}te===re&&(te=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:Bn(i,s),vr(s),h&4&&Tv(s);break;case 21:break;default:Bn(i,s),vr(s)}}function vr(s){var i=s.flags;if(i&2){try{e:{for(var l=s.return;l!==null;){if(_v(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(gi(p,""),h.flags&=-33);var g=wv(s);Rf(s,g,p);break;case 3:case 4:var E=h.stateNode.containerInfo,D=wv(s);Cf(s,D,E);break;default:throw Error(t(161))}}catch(F){at(s,s.return,F)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function QA(s,i,l){fe=s,Sv(s)}function Sv(s,i,l){for(var h=(s.mode&1)!==0;fe!==null;){var p=fe,g=p.child;if(p.tag===22&&h){var E=p.memoizedState!==null||hc;if(!E){var D=p.alternate,F=D!==null&&D.memoizedState!==null||zt;D=hc;var W=zt;if(hc=E,(zt=F)&&!W)for(fe=p;fe!==null;)E=fe,F=E.child,E.tag===22&&E.memoizedState!==null?Rv(p):F!==null?(F.return=E,fe=F):Rv(p);for(;g!==null;)fe=g,Sv(g),g=g.sibling;fe=p,hc=D,zt=W}Av(s)}else(p.subtreeFlags&8772)!==0&&g!==null?(g.return=p,fe=g):Av(s)}}function Av(s){for(;fe!==null;){var i=fe;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:zt||dc(5,i);break;case 1:var h=i.stateNode;if(i.flags&4&&!zt)if(l===null)h.componentDidMount();else{var p=i.elementType===i.type?l.memoizedProps:zn(i.type,l.memoizedProps);h.componentDidUpdate(p,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=i.updateQueue;g!==null&&Cy(i,g,h);break;case 3:var E=i.updateQueue;if(E!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}Cy(i,E,l)}break;case 5:var D=i.stateNode;if(l===null&&i.flags&4){l=D;var F=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&l.focus();break;case"img":F.src&&(l.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var W=i.alternate;if(W!==null){var te=W.memoizedState;if(te!==null){var re=te.dehydrated;re!==null&&Ss(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}zt||i.flags&512&&Af(i)}catch(ee){at(i,i.return,ee)}}if(i===s){fe=null;break}if(l=i.sibling,l!==null){l.return=i.return,fe=l;break}fe=i.return}}function Cv(s){for(;fe!==null;){var i=fe;if(i===s){fe=null;break}var l=i.sibling;if(l!==null){l.return=i.return,fe=l;break}fe=i.return}}function Rv(s){for(;fe!==null;){var i=fe;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{dc(4,i)}catch(F){at(i,l,F)}break;case 1:var h=i.stateNode;if(typeof h.componentDidMount=="function"){var p=i.return;try{h.componentDidMount()}catch(F){at(i,p,F)}}var g=i.return;try{Af(i)}catch(F){at(i,g,F)}break;case 5:var E=i.return;try{Af(i)}catch(F){at(i,E,F)}}}catch(F){at(i,i.return,F)}if(i===s){fe=null;break}var D=i.sibling;if(D!==null){D.return=i.return,fe=D;break}fe=i.return}}var YA=Math.ceil,fc=X.ReactCurrentDispatcher,xf=X.ReactCurrentOwner,kn=X.ReactCurrentBatchConfig,$e=0,At=null,gt=null,Dt=0,vn=0,Ho=Ps(0),Et=0,yl=null,Li=0,pc=0,Pf=0,vl=null,nn=null,kf=0,Wo=1/0,Xr=null,mc=!1,bf=null,Vs=null,gc=!1,Ms=null,yc=0,_l=0,Nf=null,vc=-1,_c=0;function Qt(){return($e&6)!==0?Je():vc!==-1?vc:vc=Je()}function Ls(s){return(s.mode&1)===0?1:($e&2)!==0&&Dt!==0?Dt&-Dt:DA.transition!==null?(_c===0&&(_c=Ua()),_c):(s=Ue,s!==0||(s=window.event,s=s===void 0?16:Eo(s.type)),s)}function qn(s,i,l,h){if(50<_l)throw _l=0,Nf=null,Error(t(185));Ai(s,l,h),(($e&2)===0||s!==At)&&(s===At&&(($e&2)===0&&(pc|=l),Et===4&&Fs(s,Dt)),rn(s,h),l===1&&$e===0&&(i.mode&1)===0&&(Wo=Je()+500,Gu&&bs()))}function rn(s,i){var l=s.callbackNode;Si(s,i);var h=Fr(s,s===At?Dt:0);if(h===0)l!==null&&po(l),s.callbackNode=null,s.callbackPriority=0;else if(i=h&-h,s.callbackPriority!==i){if(l!=null&&po(l),i===1)s.tag===0?NA(Pv.bind(null,s)):py(Pv.bind(null,s)),xA(function(){($e&6)===0&&bs()}),l=null;else{switch(ir(h)){case 1:l=mo;break;case 4:l=La;break;case 16:l=wi;break;case 536870912:l=go;break;default:l=wi}l=Lv(l,xv.bind(null,s))}s.callbackPriority=i,s.callbackNode=l}}function xv(s,i){if(vc=-1,_c=0,($e&6)!==0)throw Error(t(327));var l=s.callbackNode;if(Go()&&s.callbackNode!==l)return null;var h=Fr(s,s===At?Dt:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||i)i=wc(s,h);else{i=h;var p=$e;$e|=2;var g=bv();(At!==s||Dt!==i)&&(Xr=null,Wo=Je()+500,ji(s,i));do try{ZA();break}catch(D){kv(s,D)}while(!0);Qd(),fc.current=g,$e=p,gt!==null?i=0:(At=null,Dt=0,i=Et)}if(i!==0){if(i===2&&(p=ja(s),p!==0&&(h=p,i=Df(s,p))),i===1)throw l=yl,ji(s,0),Fs(s,h),rn(s,Je()),l;if(i===6)Fs(s,h);else{if(p=s.current.alternate,(h&30)===0&&!XA(p)&&(i=wc(s,h),i===2&&(g=ja(s),g!==0&&(h=g,i=Df(s,g))),i===1))throw l=yl,ji(s,0),Fs(s,h),rn(s,Je()),l;switch(s.finishedWork=p,s.finishedLanes=h,i){case 0:case 1:throw Error(t(345));case 2:Ui(s,nn,Xr);break;case 3:if(Fs(s,h),(h&130023424)===h&&(i=kf+500-Je(),10<i)){if(Fr(s,0)!==0)break;if(p=s.suspendedLanes,(p&h)!==h){Qt(),s.pingedLanes|=s.suspendedLanes&p;break}s.timeoutHandle=Fd(Ui.bind(null,s,nn,Xr),i);break}Ui(s,nn,Xr);break;case 4:if(Fs(s,h),(h&4194240)===h)break;for(i=s.eventTimes,p=-1;0<h;){var E=31-hn(h);g=1<<E,E=i[E],E>p&&(p=E),h&=~g}if(h=p,h=Je()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*YA(h/1960))-h,10<h){s.timeoutHandle=Fd(Ui.bind(null,s,nn,Xr),h);break}Ui(s,nn,Xr);break;case 5:Ui(s,nn,Xr);break;default:throw Error(t(329))}}}return rn(s,Je()),s.callbackNode===l?xv.bind(null,s):null}function Df(s,i){var l=vl;return s.current.memoizedState.isDehydrated&&(ji(s,i).flags|=256),s=wc(s,i),s!==2&&(i=nn,nn=l,i!==null&&Of(i)),s}function Of(s){nn===null?nn=s:nn.push.apply(nn,s)}function XA(s){for(var i=s;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var p=l[h],g=p.getSnapshot;p=p.value;try{if(!jn(g(),p))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Fs(s,i){for(i&=~Pf,i&=~pc,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var l=31-hn(i),h=1<<l;s[l]=-1,i&=~h}}function Pv(s){if(($e&6)!==0)throw Error(t(327));Go();var i=Fr(s,0);if((i&1)===0)return rn(s,Je()),null;var l=wc(s,i);if(s.tag!==0&&l===2){var h=ja(s);h!==0&&(i=h,l=Df(s,h))}if(l===1)throw l=yl,ji(s,0),Fs(s,i),rn(s,Je()),l;if(l===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,Ui(s,nn,Xr),rn(s,Je()),null}function Vf(s,i){var l=$e;$e|=1;try{return s(i)}finally{$e=l,$e===0&&(Wo=Je()+500,Gu&&bs())}}function Fi(s){Ms!==null&&Ms.tag===0&&($e&6)===0&&Go();var i=$e;$e|=1;var l=kn.transition,h=Ue;try{if(kn.transition=null,Ue=1,s)return s()}finally{Ue=h,kn.transition=l,$e=i,($e&6)===0&&bs()}}function Mf(){vn=Ho.current,et(Ho)}function ji(s,i){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,RA(l)),gt!==null)for(l=gt.return;l!==null;){var h=l;switch(qd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Hu();break;case 3:$o(),et(Zt),et(Ft),rf();break;case 5:tf(h);break;case 4:$o();break;case 13:et(rt);break;case 19:et(rt);break;case 10:Yd(h.type._context);break;case 22:case 23:Mf()}l=l.return}if(At=s,gt=s=js(s.current,null),Dt=vn=i,Et=0,yl=null,Pf=pc=Li=0,nn=vl=null,Oi!==null){for(i=0;i<Oi.length;i++)if(l=Oi[i],h=l.interleaved,h!==null){l.interleaved=null;var p=h.next,g=l.pending;if(g!==null){var E=g.next;g.next=p,h.next=E}l.pending=h}Oi=null}return s}function kv(s,i){do{var l=gt;try{if(Qd(),rc.current=ac,sc){for(var h=st.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}sc=!1}if(Mi=0,St=wt=st=null,hl=!1,dl=0,xf.current=null,l===null||l.return===null){Et=1,yl=i,gt=null;break}e:{var g=s,E=l.return,D=l,F=i;if(i=Dt,D.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var W=F,te=D,re=te.tag;if((te.mode&1)===0&&(re===0||re===11||re===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var he=tv(E);if(he!==null){he.flags&=-257,nv(he,E,D,g,i),he.mode&1&&ev(g,W,i),i=he,F=W;var pe=i.updateQueue;if(pe===null){var me=new Set;me.add(F),i.updateQueue=me}else pe.add(F);break e}else{if((i&1)===0){ev(g,W,i),Lf();break e}F=Error(t(426))}}else if(nt&&D.mode&1){var ht=tv(E);if(ht!==null){(ht.flags&65536)===0&&(ht.flags|=256),nv(ht,E,D,g,i),Gd(Bo(F,D));break e}}g=F=Bo(F,D),Et!==4&&(Et=2),vl===null?vl=[g]:vl.push(g),g=E;do{switch(g.tag){case 3:g.flags|=65536,i&=-i,g.lanes|=i;var $=Jy(g,F,i);Ay(g,$);break e;case 1:D=F;var j=g.type,q=g.stateNode;if((g.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(Vs===null||!Vs.has(q)))){g.flags|=65536,i&=-i,g.lanes|=i;var ie=Zy(g,D,i);Ay(g,ie);break e}}g=g.return}while(g!==null)}Dv(l)}catch(ge){i=ge,gt===l&&l!==null&&(gt=l=l.return);continue}break}while(!0)}function bv(){var s=fc.current;return fc.current=ac,s===null?ac:s}function Lf(){(Et===0||Et===3||Et===2)&&(Et=4),At===null||(Li&268435455)===0&&(pc&268435455)===0||Fs(At,Dt)}function wc(s,i){var l=$e;$e|=2;var h=bv();(At!==s||Dt!==i)&&(Xr=null,ji(s,i));do try{JA();break}catch(p){kv(s,p)}while(!0);if(Qd(),$e=l,fc.current=h,gt!==null)throw Error(t(261));return At=null,Dt=0,Et}function JA(){for(;gt!==null;)Nv(gt)}function ZA(){for(;gt!==null&&!_i();)Nv(gt)}function Nv(s){var i=Mv(s.alternate,s,vn);s.memoizedProps=s.pendingProps,i===null?Dv(s):gt=i,xf.current=null}function Dv(s){var i=s;do{var l=i.alternate;if(s=i.return,(i.flags&32768)===0){if(l=HA(l,i,vn),l!==null){gt=l;return}}else{if(l=WA(l,i),l!==null){l.flags&=32767,gt=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Et=6,gt=null;return}}if(i=i.sibling,i!==null){gt=i;return}gt=i=s}while(i!==null);Et===0&&(Et=5)}function Ui(s,i,l){var h=Ue,p=kn.transition;try{kn.transition=null,Ue=1,eC(s,i,l,h)}finally{kn.transition=p,Ue=h}return null}function eC(s,i,l,h){do Go();while(Ms!==null);if(($e&6)!==0)throw Error(t(327));l=s.finishedWork;var p=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var g=l.lanes|l.childLanes;if(Td(s,g),s===At&&(gt=At=null,Dt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||gc||(gc=!0,Lv(wi,function(){return Go(),null})),g=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||g){g=kn.transition,kn.transition=null;var E=Ue;Ue=1;var D=$e;$e|=4,xf.current=null,KA(s,l),Iv(l,s),wA(Md),zr=!!Vd,Md=Vd=null,s.current=l,QA(l),Lr(),$e=D,Ue=E,kn.transition=g}else s.current=l;if(gc&&(gc=!1,Ms=s,yc=p),g=s.pendingLanes,g===0&&(Vs=null),Ru(l.stateNode),rn(s,Je()),i!==null)for(h=s.onRecoverableError,l=0;l<i.length;l++)p=i[l],h(p.value,{componentStack:p.stack,digest:p.digest});if(mc)throw mc=!1,s=bf,bf=null,s;return(yc&1)!==0&&s.tag!==0&&Go(),g=s.pendingLanes,(g&1)!==0?s===Nf?_l++:(_l=0,Nf=s):_l=0,bs(),null}function Go(){if(Ms!==null){var s=ir(yc),i=kn.transition,l=Ue;try{if(kn.transition=null,Ue=16>s?16:s,Ms===null)var h=!1;else{if(s=Ms,Ms=null,yc=0,($e&6)!==0)throw Error(t(331));var p=$e;for($e|=4,fe=s.current;fe!==null;){var g=fe,E=g.child;if((fe.flags&16)!==0){var D=g.deletions;if(D!==null){for(var F=0;F<D.length;F++){var W=D[F];for(fe=W;fe!==null;){var te=fe;switch(te.tag){case 0:case 11:case 15:gl(8,te,g)}var re=te.child;if(re!==null)re.return=te,fe=re;else for(;fe!==null;){te=fe;var ee=te.sibling,he=te.return;if(vv(te),te===W){fe=null;break}if(ee!==null){ee.return=he,fe=ee;break}fe=he}}}var pe=g.alternate;if(pe!==null){var me=pe.child;if(me!==null){pe.child=null;do{var ht=me.sibling;me.sibling=null,me=ht}while(me!==null)}}fe=g}}if((g.subtreeFlags&2064)!==0&&E!==null)E.return=g,fe=E;else e:for(;fe!==null;){if(g=fe,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:gl(9,g,g.return)}var $=g.sibling;if($!==null){$.return=g.return,fe=$;break e}fe=g.return}}var j=s.current;for(fe=j;fe!==null;){E=fe;var q=E.child;if((E.subtreeFlags&2064)!==0&&q!==null)q.return=E,fe=q;else e:for(E=j;fe!==null;){if(D=fe,(D.flags&2048)!==0)try{switch(D.tag){case 0:case 11:case 15:dc(9,D)}}catch(ge){at(D,D.return,ge)}if(D===E){fe=null;break e}var ie=D.sibling;if(ie!==null){ie.return=D.return,fe=ie;break e}fe=D.return}}if($e=p,bs(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(Ei,s)}catch{}h=!0}return h}finally{Ue=l,kn.transition=i}}return!1}function Ov(s,i,l){i=Bo(l,i),i=Jy(s,i,1),s=Ds(s,i,1),i=Qt(),s!==null&&(Ai(s,1,i),rn(s,i))}function at(s,i,l){if(s.tag===3)Ov(s,s,l);else for(;i!==null;){if(i.tag===3){Ov(i,s,l);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Vs===null||!Vs.has(h))){s=Bo(l,s),s=Zy(i,s,1),i=Ds(i,s,1),s=Qt(),i!==null&&(Ai(i,1,s),rn(i,s));break}}i=i.return}}function tC(s,i,l){var h=s.pingCache;h!==null&&h.delete(i),i=Qt(),s.pingedLanes|=s.suspendedLanes&l,At===s&&(Dt&l)===l&&(Et===4||Et===3&&(Dt&130023424)===Dt&&500>Je()-kf?ji(s,0):Pf|=l),rn(s,i)}function Vv(s,i){i===0&&((s.mode&1)===0?i=1:(i=Es,Es<<=1,(Es&130023424)===0&&(Es=4194304)));var l=Qt();s=Kr(s,i),s!==null&&(Ai(s,i,l),rn(s,l))}function nC(s){var i=s.memoizedState,l=0;i!==null&&(l=i.retryLane),Vv(s,l)}function rC(s,i){var l=0;switch(s.tag){case 13:var h=s.stateNode,p=s.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(i),Vv(s,l)}var Mv;Mv=function(s,i,l){if(s!==null)if(s.memoizedProps!==i.pendingProps||Zt.current)tn=!0;else{if((s.lanes&l)===0&&(i.flags&128)===0)return tn=!1,qA(s,i,l);tn=(s.flags&131072)!==0}else tn=!1,nt&&(i.flags&1048576)!==0&&my(i,Qu,i.index);switch(i.lanes=0,i.tag){case 2:var h=i.type;cc(s,i),s=i.pendingProps;var p=Vo(i,Ft.current);zo(i,l),p=af(null,i,h,s,p,l);var g=lf();return i.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,en(h)?(g=!0,Wu(i)):g=!1,i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Zd(i),p.updater=lc,i.stateNode=p,p._reactInternals=i,pf(i,h,s,l),i=vf(null,i,h,!0,g,l)):(i.tag=0,nt&&g&&Bd(i),Kt(null,i,p,l),i=i.child),i;case 16:h=i.elementType;e:{switch(cc(s,i),s=i.pendingProps,p=h._init,h=p(h._payload),i.type=h,p=i.tag=iC(h),s=zn(h,s),p){case 0:i=yf(null,i,h,s,l);break e;case 1:i=lv(null,i,h,s,l);break e;case 11:i=rv(null,i,h,s,l);break e;case 14:i=sv(null,i,h,zn(h.type,s),l);break e}throw Error(t(306,h,""))}return i;case 0:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:zn(h,p),yf(s,i,h,p,l);case 1:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:zn(h,p),lv(s,i,h,p,l);case 3:e:{if(uv(i),s===null)throw Error(t(387));h=i.pendingProps,g=i.memoizedState,p=g.element,Sy(s,i),tc(i,h,null,l);var E=i.memoizedState;if(h=E.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){p=Bo(Error(t(423)),i),i=cv(s,i,h,l,p);break e}else if(h!==p){p=Bo(Error(t(424)),i),i=cv(s,i,h,l,p);break e}else for(yn=xs(i.stateNode.containerInfo.firstChild),gn=i,nt=!0,Un=null,l=Ty(i,null,h,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Fo(),h===p){i=Yr(s,i,l);break e}Kt(s,i,h,l)}i=i.child}return i;case 5:return Ry(i),s===null&&Wd(i),h=i.type,p=i.pendingProps,g=s!==null?s.memoizedProps:null,E=p.children,Ld(h,p)?E=null:g!==null&&Ld(h,g)&&(i.flags|=32),av(s,i),Kt(s,i,E,l),i.child;case 6:return s===null&&Wd(i),null;case 13:return hv(s,i,l);case 4:return ef(i,i.stateNode.containerInfo),h=i.pendingProps,s===null?i.child=jo(i,null,h,l):Kt(s,i,h,l),i.child;case 11:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:zn(h,p),rv(s,i,h,p,l);case 7:return Kt(s,i,i.pendingProps,l),i.child;case 8:return Kt(s,i,i.pendingProps.children,l),i.child;case 12:return Kt(s,i,i.pendingProps.children,l),i.child;case 10:e:{if(h=i.type._context,p=i.pendingProps,g=i.memoizedProps,E=p.value,Xe(Ju,h._currentValue),h._currentValue=E,g!==null)if(jn(g.value,E)){if(g.children===p.children&&!Zt.current){i=Yr(s,i,l);break e}}else for(g=i.child,g!==null&&(g.return=i);g!==null;){var D=g.dependencies;if(D!==null){E=g.child;for(var F=D.firstContext;F!==null;){if(F.context===h){if(g.tag===1){F=Qr(-1,l&-l),F.tag=2;var W=g.updateQueue;if(W!==null){W=W.shared;var te=W.pending;te===null?F.next=F:(F.next=te.next,te.next=F),W.pending=F}}g.lanes|=l,F=g.alternate,F!==null&&(F.lanes|=l),Xd(g.return,l,i),D.lanes|=l;break}F=F.next}}else if(g.tag===10)E=g.type===i.type?null:g.child;else if(g.tag===18){if(E=g.return,E===null)throw Error(t(341));E.lanes|=l,D=E.alternate,D!==null&&(D.lanes|=l),Xd(E,l,i),E=g.sibling}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===i){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}Kt(s,i,p.children,l),i=i.child}return i;case 9:return p=i.type,h=i.pendingProps.children,zo(i,l),p=xn(p),h=h(p),i.flags|=1,Kt(s,i,h,l),i.child;case 14:return h=i.type,p=zn(h,i.pendingProps),p=zn(h.type,p),sv(s,i,h,p,l);case 15:return iv(s,i,i.type,i.pendingProps,l);case 17:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:zn(h,p),cc(s,i),i.tag=1,en(h)?(s=!0,Wu(i)):s=!1,zo(i,l),Yy(i,h,p),pf(i,h,p,l),vf(null,i,h,!0,s,l);case 19:return fv(s,i,l);case 22:return ov(s,i,l)}throw Error(t(156,i.tag))};function Lv(s,i){return Ma(s,i)}function sC(s,i,l,h){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(s,i,l,h){return new sC(s,i,l,h)}function Ff(s){return s=s.prototype,!(!s||!s.isReactComponent)}function iC(s){if(typeof s=="function")return Ff(s)?1:0;if(s!=null){if(s=s.$$typeof,s===L)return 11;if(s===Re)return 14}return 2}function js(s,i){var l=s.alternate;return l===null?(l=bn(s.tag,i,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=i,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,i=s.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function Ec(s,i,l,h,p,g){var E=2;if(h=s,typeof s=="function")Ff(s)&&(E=1);else if(typeof s=="string")E=5;else e:switch(s){case b:return zi(l.children,p,g,i);case P:E=8,p|=8;break;case N:return s=bn(12,l,i,p|2),s.elementType=N,s.lanes=g,s;case k:return s=bn(13,l,i,p),s.elementType=k,s.lanes=g,s;case oe:return s=bn(19,l,i,p),s.elementType=oe,s.lanes=g,s;case ve:return Tc(l,p,g,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case M:E=10;break e;case V:E=9;break e;case L:E=11;break e;case Re:E=14;break e;case Ee:E=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return i=bn(E,l,i,p),i.elementType=s,i.type=h,i.lanes=g,i}function zi(s,i,l,h){return s=bn(7,s,h,i),s.lanes=l,s}function Tc(s,i,l,h){return s=bn(22,s,h,i),s.elementType=ve,s.lanes=l,s.stateNode={isHidden:!1},s}function jf(s,i,l){return s=bn(6,s,null,i),s.lanes=l,s}function Uf(s,i,l){return i=bn(4,s.children!==null?s.children:[],s.key,i),i.lanes=l,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function oC(s,i,l,h,p){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=za(0),this.expirationTimes=za(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=za(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function zf(s,i,l,h,p,g,E,D,F){return s=new oC(s,i,l,D,F),i===1?(i=1,g===!0&&(i|=8)):i=0,g=bn(3,null,null,i),s.current=g,g.stateNode=s,g.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zd(g),s}function aC(s,i,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:se,key:h==null?null:""+h,children:s,containerInfo:i,implementation:l}}function Fv(s){if(!s)return ks;s=s._reactInternals;e:{if(Ln(s)!==s||s.tag!==1)throw Error(t(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(en(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(s.tag===1){var l=s.type;if(en(l))return dy(s,l,i)}return i}function jv(s,i,l,h,p,g,E,D,F){return s=zf(l,h,!0,s,p,g,E,D,F),s.context=Fv(null),l=s.current,h=Qt(),p=Ls(l),g=Qr(h,p),g.callback=i??null,Ds(l,g,p),s.current.lanes=p,Ai(s,p,h),rn(s,h),s}function Ic(s,i,l,h){var p=i.current,g=Qt(),E=Ls(p);return l=Fv(l),i.context===null?i.context=l:i.pendingContext=l,i=Qr(g,E),i.payload={element:s},h=h===void 0?null:h,h!==null&&(i.callback=h),s=Ds(p,i,E),s!==null&&(qn(s,p,E,g),ec(s,p,E)),E}function Sc(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Uv(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<i?l:i}}function $f(s,i){Uv(s,i),(s=s.alternate)&&Uv(s,i)}function lC(){return null}var zv=typeof reportError=="function"?reportError:function(s){console.error(s)};function Bf(s){this._internalRoot=s}Ac.prototype.render=Bf.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(t(409));Ic(s,i,null,null)},Ac.prototype.unmount=Bf.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;Fi(function(){Ic(null,s,null,null)}),i[qr]=null}};function Ac(s){this._internalRoot=s}Ac.prototype.unstable_scheduleHydration=function(s){if(s){var i=Ha();s={blockedOn:null,target:s,priority:i};for(var l=0;l<dn.length&&i!==0&&i<dn[l].priority;l++);dn.splice(l,0,s),l===0&&_o(s)}};function qf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Cc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function $v(){}function uC(s,i,l,h,p){if(p){if(typeof h=="function"){var g=h;h=function(){var W=Sc(E);g.call(W)}}var E=jv(i,h,s,0,null,!1,!1,"",$v);return s._reactRootContainer=E,s[qr]=E.current,rl(s.nodeType===8?s.parentNode:s),Fi(),E}for(;p=s.lastChild;)s.removeChild(p);if(typeof h=="function"){var D=h;h=function(){var W=Sc(F);D.call(W)}}var F=zf(s,0,!1,null,null,!1,!1,"",$v);return s._reactRootContainer=F,s[qr]=F.current,rl(s.nodeType===8?s.parentNode:s),Fi(function(){Ic(i,F,l,h)}),F}function Rc(s,i,l,h,p){var g=l._reactRootContainer;if(g){var E=g;if(typeof p=="function"){var D=p;p=function(){var F=Sc(E);D.call(F)}}Ic(i,E,s,p)}else E=uC(l,i,s,p,h);return Sc(E)}Ba=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var l=He(i.pendingLanes);l!==0&&($a(i,l|1),rn(i,Je()),($e&6)===0&&(Wo=Je()+500,bs()))}break;case 13:Fi(function(){var h=Kr(s,1);if(h!==null){var p=Qt();qn(h,s,1,p)}}),$f(s,1)}},yo=function(s){if(s.tag===13){var i=Kr(s,134217728);if(i!==null){var l=Qt();qn(i,s,134217728,l)}$f(s,134217728)}},qa=function(s){if(s.tag===13){var i=Ls(s),l=Kr(s,i);if(l!==null){var h=Qt();qn(l,s,i,h)}$f(s,i)}},Ha=function(){return Ue},Wa=function(s,i){var l=Ue;try{return Ue=s,i()}finally{Ue=l}},Or=function(s,i,l){switch(i){case"input":if(mi(s,l),i=l.name,l.type==="radio"&&i!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var h=l[i];if(h!==s&&h.form===s.form){var p=qu(h);if(!p)throw Error(t(90));pi(h),mi(h,p)}}}break;case"textarea":mu(s,l);break;case"select":i=l.value,i!=null&&Vn(s,!!l.multiple,i,!1)}},vu=Vf,_u=Fi;var cC={usingClientEntryPoint:!1,Events:[ol,Do,qu,ys,vs,Vf]},wl={findFiberByHostInstance:ki,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hC={bundleType:wl.bundleType,version:wl.version,rendererPackageName:wl.rendererPackageName,rendererConfig:wl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Cu(s),s===null?null:s.stateNode},findFiberByHostInstance:wl.findFiberByHostInstance||lC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{Ei=xc.inject(hC),cn=xc}catch{}}return sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cC,sn.createPortal=function(s,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qf(i))throw Error(t(200));return aC(s,i,null,l)},sn.createRoot=function(s,i){if(!qf(s))throw Error(t(299));var l=!1,h="",p=zv;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=zf(s,1,!1,null,null,l,!1,h,p),s[qr]=i.current,rl(s.nodeType===8?s.parentNode:s),new Bf(i)},sn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Cu(i),s=s===null?null:s.stateNode,s},sn.flushSync=function(s){return Fi(s)},sn.hydrate=function(s,i,l){if(!Cc(i))throw Error(t(200));return Rc(null,s,i,!0,l)},sn.hydrateRoot=function(s,i,l){if(!qf(s))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,p=!1,g="",E=zv;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),i=jv(i,null,s,1,l??null,p,!1,g,E),s[qr]=i.current,rl(s),h)for(s=0;s<h.length;s++)l=h[s],p=l._getVersion,p=p(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,p]:i.mutableSourceEagerHydrationData.push(l,p);return new Ac(i)},sn.render=function(s,i,l){if(!Cc(i))throw Error(t(200));return Rc(null,s,i,!1,l)},sn.unmountComponentAtNode=function(s){if(!Cc(s))throw Error(t(40));return s._reactRootContainer?(Fi(function(){Rc(null,null,s,!1,function(){s._reactRootContainer=null,s[qr]=null})}),!0):!1},sn.unstable_batchedUpdates=Vf,sn.unstable_renderSubtreeIntoContainer=function(s,i,l,h){if(!Cc(l))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Rc(s,i,l,!1,h)},sn.version="18.3.1-next-f1338f8080-20240426",sn}var Yv;function EE(){if(Yv)return Gf.exports;Yv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Gf.exports=_C(),Gf.exports}var Xv;function wC(){if(Xv)return Pc;Xv=1;var n=EE();return Pc.createRoot=n.createRoot,Pc.hydrateRoot=n.hydrateRoot,Pc}var EC=wC();const TC="modulepreload",IC=function(n){return"/"+n},Jv={},Gt=function(e,t,r){let o=Promise.resolve();if(t&&t.length>0){let f=function(m){return Promise.all(m.map(v=>Promise.resolve(v).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=u?.nonce||u?.getAttribute("nonce");o=f(t.map(m=>{if(m=IC(m),m in Jv)return;Jv[m]=!0;const v=m.endsWith(".css"),w=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${w}`))return;const T=document.createElement("link");if(T.rel=v?"stylesheet":TC,v||(T.as="script"),T.crossOrigin="",T.href=m,d&&T.setAttribute("nonce",d),document.head.appendChild(T),v)return new Promise((C,O)=>{T.addEventListener("load",C),T.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${m}`)))})}))}function a(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return o.then(u=>{for(const d of u||[])d.status==="rejected"&&a(d.reason);return e().catch(a)})};function SC(n,e){if(n instanceof RegExp)return{keys:!1,pattern:n};var t,r,o,a,u=[],d="",f=n.split("/");for(f[0]||f.shift();o=f.shift();)t=o[0],t==="*"?(u.push(t),d+=o[1]==="?"?"(?:/(.*))?":"/(.*)"):t===":"?(r=o.indexOf("?",1),a=o.indexOf(".",1),u.push(o.substring(1,~r?r:~a?a:o.length)),d+=~r&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(d+=(~r?"?":"")+"\\"+o.substring(a))):d+="/"+o;return{keys:u,pattern:new RegExp("^"+d+(e?"(?=$|/)":"/?$"),"i")}}var A=kh();const qs=wE(A),hm=fC({__proto__:null,default:qs},[A]);var Yf={exports:{}},Xf={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zv;function AC(){if(Zv)return Xf;Zv=1;var n=kh();function e(w,T){return w===T&&(w!==0||1/w===1/T)||w!==w&&T!==T}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,o=n.useEffect,a=n.useLayoutEffect,u=n.useDebugValue;function d(w,T){var C=T(),O=r({inst:{value:C,getSnapshot:T}}),x=O[0].inst,S=O[1];return a(function(){x.value=C,x.getSnapshot=T,f(x)&&S({inst:x})},[w,C,T]),o(function(){return f(x)&&S({inst:x}),w(function(){f(x)&&S({inst:x})})},[w]),u(C),C}function f(w){var T=w.getSnapshot;w=w.value;try{var C=T();return!t(w,C)}catch{return!0}}function m(w,T){return T()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return Xf.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:v,Xf}var e_;function CC(){return e_||(e_=1,Yf.exports=AC()),Yf.exports}var RC=CC();const xC=hm.useInsertionEffect,PC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kC=PC?A.useLayoutEffect:A.useEffect,bC=xC||kC,TE=n=>{const e=A.useRef([n,(...t)=>e[0](...t)]).current;return bC(()=>{e[0]=n}),e[1]},NC="popstate",dm="pushState",fm="replaceState",DC="hashchange",t_=[NC,dm,fm,DC],OC=n=>{for(const e of t_)addEventListener(e,n);return()=>{for(const e of t_)removeEventListener(e,n)}},IE=(n,e)=>RC.useSyncExternalStore(OC,n,e),VC=()=>location.search,MC=({ssrSearch:n=""}={})=>IE(VC,()=>n),n_=()=>location.pathname,LC=({ssrPath:n}={})=>IE(n_,n?()=>n:n_),FC=(n,{replace:e=!1,state:t=null}={})=>history[e?fm:dm](t,"",n),jC=(n={})=>[LC(n),FC],r_=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[r_]>"u"){for(const n of[dm,fm]){const e=history[n];history[n]=function(){const t=e.apply(this,arguments),r=new Event(n);return r.arguments=arguments,dispatchEvent(r),t}}Object.defineProperty(window,r_,{value:!0})}const UC=(n,e)=>e.toLowerCase().indexOf(n.toLowerCase())?"~"+e:e.slice(n.length)||"/",SE=(n="")=>n==="/"?"":n,zC=(n,e)=>n[0]==="~"?n.slice(1):SE(e)+n,$C=(n="",e)=>UC(s_(SE(n)),s_(e)),s_=n=>{try{return decodeURI(n)}catch{return n}},AE={hook:jC,searchHook:MC,parser:SC,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:n=>n},CE=A.createContext(AE),Jl=()=>A.useContext(CE),RE={},xE=A.createContext(RE),BC=()=>A.useContext(xE),bh=n=>{const[e,t]=n.hook(n);return[$C(n.base,e),TE((r,o)=>t(zC(r,n.base),o))]},qC=()=>bh(Jl()),PE=(n,e,t,r)=>{const{pattern:o,keys:a}=e instanceof RegExp?{keys:!1,pattern:e}:n(e||"*",r),u=o.exec(t)||[],[d,...f]=u;return d!==void 0?[!0,(()=>{const m=a!==!1?Object.fromEntries(a.map((w,T)=>[w,f[T]])):u.groups;let v={...f};return m&&Object.assign(v,m),v})(),...r?[d]:[]]:[!1,null]},HC=({children:n,...e})=>{const t=Jl(),r=e.hook?AE:t;let o=r;const[a,u]=e.ssrPath?.split("?")??[];u&&(e.ssrSearch=u,e.ssrPath=a),e.hrefs=e.hrefs??e.hook?.hrefs;let d=A.useRef({}),f=d.current,m=f;for(let v in r){const w=v==="base"?r[v]+(e[v]||""):e[v]||r[v];f===m&&w!==m[v]&&(d.current=m={...m}),m[v]=w,(w!==r[v]||w!==o[v])&&(o=m)}return A.createElement(CE.Provider,{value:o,children:n})},i_=({children:n,component:e},t)=>e?A.createElement(e,{params:t}):typeof n=="function"?n(t):n,WC=n=>{let e=A.useRef(RE);const t=e.current;return e.current=Object.keys(n).length!==Object.keys(t).length||Object.entries(n).some(([r,o])=>o!==t[r])?n:t},$t=({path:n,nest:e,match:t,...r})=>{const o=Jl(),[a]=bh(o),[u,d,f]=t??PE(o.parser,n,a,e),m=WC({...BC(),...d});if(!u)return null;const v=f?A.createElement(HC,{base:f},i_(r,m)):i_(r,m);return A.createElement(xE.Provider,{value:m,children:v})},fF=A.forwardRef((n,e)=>{const t=Jl(),[r,o]=bh(t),{to:a="",href:u=a,onClick:d,asChild:f,children:m,className:v,replace:w,state:T,...C}=n,O=TE(S=>{S.ctrlKey||S.metaKey||S.altKey||S.shiftKey||S.button!==0||(d?.(S),S.defaultPrevented||(S.preventDefault(),o(u,n)))}),x=t.hrefs(u[0]==="~"?u.slice(1):t.base+u,t);return f&&A.isValidElement(m)?A.cloneElement(m,{onClick:O,href:x}):A.createElement("a",{...C,onClick:O,href:x,className:v?.call?v(r===u):v,children:m,ref:e})}),kE=n=>Array.isArray(n)?n.flatMap(e=>kE(e&&e.type===A.Fragment?e.props.children:e)):[n],o_=({children:n,location:e})=>{const t=Jl(),[r]=bh(t);for(const o of kE(n)){let a=0;if(A.isValidElement(o)&&(a=PE(t.parser,o.props.path,e||r,o.props.nest))[0])return A.cloneElement(o,{match:a})}return null};var Nh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},GC={setTimeout:(n,e)=>setTimeout(n,e),clearTimeout:n=>clearTimeout(n),setInterval:(n,e)=>setInterval(n,e),clearInterval:n=>clearInterval(n)},KC=class{#e=GC;#t=!1;setTimeoutProvider(n){this.#e=n}setTimeout(n,e){return this.#e.setTimeout(n,e)}clearTimeout(n){this.#e.clearTimeout(n)}setInterval(n,e){return this.#e.setInterval(n,e)}clearInterval(n){this.#e.clearInterval(n)}},Tp=new KC;function QC(n){setTimeout(n,0)}var Dh=typeof window>"u"||"Deno"in globalThis;function Hn(){}function YC(n,e){return typeof n=="function"?n(e):n}function XC(n){return typeof n=="number"&&n>=0&&n!==1/0}function JC(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Ip(n,e){return typeof n=="function"?n(e):n}function ZC(n,e){return typeof n=="function"?n(e):n}function a_(n,e){const{type:t="all",exact:r,fetchStatus:o,predicate:a,queryKey:u,stale:d}=n;if(u){if(r){if(e.queryHash!==pm(u,e.options))return!1}else if(!Fl(e.queryKey,u))return!1}if(t!=="all"){const f=e.isActive();if(t==="active"&&!f||t==="inactive"&&f)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||o&&o!==e.state.fetchStatus||a&&!a(e))}function l_(n,e){const{exact:t,status:r,predicate:o,mutationKey:a}=n;if(a){if(!e.options.mutationKey)return!1;if(t){if(Ll(e.options.mutationKey)!==Ll(a))return!1}else if(!Fl(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||o&&!o(e))}function pm(n,e){return(e?.queryKeyHashFn||Ll)(n)}function Ll(n){return JSON.stringify(n,(e,t)=>Sp(t)?Object.keys(t).sort().reduce((r,o)=>(r[o]=t[o],r),{}):t)}function Fl(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>Fl(n[t],e[t])):!1}var eR=Object.prototype.hasOwnProperty;function bE(n,e){if(n===e)return n;const t=u_(n)&&u_(e);if(!t&&!(Sp(n)&&Sp(e)))return e;const o=(t?n:Object.keys(n)).length,a=t?e:Object.keys(e),u=a.length,d=t?new Array(u):{};let f=0;for(let m=0;m<u;m++){const v=t?m:a[m],w=n[v],T=e[v];if(w===T){d[v]=w,(t?m<o:eR.call(n,v))&&f++;continue}if(w===null||T===null||typeof w!="object"||typeof T!="object"){d[v]=T;continue}const C=bE(w,T);d[v]=C,C===w&&f++}return o===u&&f===o?n:d}function pF(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function u_(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function Sp(n){if(!c_(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!c_(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function c_(n){return Object.prototype.toString.call(n)==="[object Object]"}function tR(n){return new Promise(e=>{Tp.setTimeout(e,n)})}function nR(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?bE(n,e):e}function rR(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function sR(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var mm=Symbol();function NE(n,e){return!n.queryFn&&e?.initialPromise?()=>e.initialPromise:!n.queryFn||n.queryFn===mm?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function mF(n,e){return typeof n=="function"?n(...e):!!n}var iR=class extends Nh{#e;#t;#n;constructor(){super(),this.#n=n=>{if(!Dh&&window.addEventListener){const e=()=>n();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(n){this.#n=n,this.#t?.(),this.#t=n(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(n){this.#e!==n&&(this.#e=n,this.onFocus())}onFocus(){const n=this.isFocused();this.listeners.forEach(e=>{e(n)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},DE=new iR;function oR(){let n,e;const t=new Promise((o,a)=>{n=o,e=a});t.status="pending",t.catch(()=>{});function r(o){Object.assign(t,o),delete t.resolve,delete t.reject}return t.resolve=o=>{r({status:"fulfilled",value:o}),n(o)},t.reject=o=>{r({status:"rejected",reason:o}),e(o)},t}var aR=QC;function lR(){let n=[],e=0,t=d=>{d()},r=d=>{d()},o=aR;const a=d=>{e?n.push(d):o(()=>{t(d)})},u=()=>{const d=n;n=[],d.length&&o(()=>{r(()=>{d.forEach(f=>{t(f)})})})};return{batch:d=>{let f;e++;try{f=d()}finally{e--,e||u()}return f},batchCalls:d=>(...f)=>{a(()=>{d(...f)})},schedule:a,setNotifyFunction:d=>{t=d},setBatchNotifyFunction:d=>{r=d},setScheduler:d=>{o=d}}}var Xt=lR(),uR=class extends Nh{#e=!0;#t;#n;constructor(){super(),this.#n=n=>{if(!Dh&&window.addEventListener){const e=()=>n(!0),t=()=>n(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",t,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(n){this.#n=n,this.#t?.(),this.#t=n(this.setOnline.bind(this))}setOnline(n){this.#e!==n&&(this.#e=n,this.listeners.forEach(t=>{t(n)}))}isOnline(){return this.#e}},rh=new uR;function cR(n){return Math.min(1e3*2**n,3e4)}function OE(n){return(n??"online")==="online"?rh.isOnline():!0}var Ap=class extends Error{constructor(n){super("CancelledError"),this.revert=n?.revert,this.silent=n?.silent}};function VE(n){let e=!1,t=0,r;const o=oR(),a=()=>o.status!=="pending",u=x=>{if(!a()){const S=new Ap(x);T(S),n.onCancel?.(S)}},d=()=>{e=!0},f=()=>{e=!1},m=()=>DE.isFocused()&&(n.networkMode==="always"||rh.isOnline())&&n.canRun(),v=()=>OE(n.networkMode)&&n.canRun(),w=x=>{a()||(r?.(),o.resolve(x))},T=x=>{a()||(r?.(),o.reject(x))},C=()=>new Promise(x=>{r=S=>{(a()||m())&&x(S)},n.onPause?.()}).then(()=>{r=void 0,a()||n.onContinue?.()}),O=()=>{if(a())return;let x;const S=t===0?n.initialPromise:void 0;try{x=S??n.fn()}catch(z){x=Promise.reject(z)}Promise.resolve(x).then(w).catch(z=>{if(a())return;const H=n.retry??(Dh?0:3),K=n.retryDelay??cR,X=typeof K=="function"?K(t,z):K,ne=H===!0||typeof H=="number"&&t<H||typeof H=="function"&&H(t,z);if(e||!ne){T(z);return}t++,n.onFail?.(t,z),tR(X).then(()=>m()?void 0:C()).then(()=>{e?T(z):O()})})};return{promise:o,status:()=>o.status,cancel:u,continue:()=>(r?.(),o),cancelRetry:d,continueRetry:f,canStart:v,start:()=>(v()?O():C().then(O),o)}}var ME=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),XC(this.gcTime)&&(this.#e=Tp.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Dh?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Tp.clearTimeout(this.#e),this.#e=void 0)}},hR=class extends ME{#e;#t;#n;#s;#r;#o;#a;constructor(e){super(),this.#a=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=h_(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=h_(this.options);t.data!==void 0&&(this.setData(t.data,{updatedAt:t.dataUpdatedAt,manual:!0}),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const r=nR(this.state.data,e,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(Hn).catch(Hn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>ZC(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===mm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Ip(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!JC(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#a?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,o=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#a=!0,r.signal)})},a=()=>{const f=NE(this.options,t),v=(()=>{const w={client:this.#s,queryKey:this.queryKey,meta:this.meta};return o(w),w})();return this.#a=!1,this.options.persister?this.options.persister(f,v,this):f(v)},d=(()=>{const f={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:a};return o(f),f})();this.options.behavior?.onFetch(d,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==d.fetchOptions?.meta)&&this.#i({type:"fetch",meta:d.fetchOptions?.meta}),this.#r=VE({initialPromise:t?.initialPromise,fn:d.fetchFn,onCancel:f=>{f instanceof Ap&&f.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(f,m)=>{this.#i({type:"failed",failureCount:f,error:m})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0});try{const f=await this.#r.start();if(f===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(f),this.#n.config.onSuccess?.(f,this),this.#n.config.onSettled?.(f,this.state.error,this),f}catch(f){if(f instanceof Ap){if(f.silent)return this.#r.promise;if(f.revert){if(this.state.data===void 0)throw f;return this.state.data}}throw this.#i({type:"error",error:f}),this.#n.config.onError?.(f,this),this.#n.config.onSettled?.(this.state.data,f,this),f}finally{this.scheduleGc()}}#i(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...dR(r.data,this.options),fetchMeta:e.meta??null};case"success":const o={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?o:void 0,o;case"error":const a=e.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Xt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function dR(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:OE(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function h_(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}function d_(n){return{onFetch:(e,t)=>{const r=e.options,o=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],u=e.state.data?.pageParams||[];let d={pages:[],pageParams:[]},f=0;const m=async()=>{let v=!1;const w=O=>{Object.defineProperty(O,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},T=NE(e.options,e.fetchOptions),C=async(O,x,S)=>{if(v)return Promise.reject();if(x==null&&O.pages.length)return Promise.resolve(O);const H=(()=>{const se={client:e.client,queryKey:e.queryKey,pageParam:x,direction:S?"backward":"forward",meta:e.options.meta};return w(se),se})(),K=await T(H),{maxPages:X}=e.options,ne=S?sR:rR;return{pages:ne(O.pages,K,X),pageParams:ne(O.pageParams,x,X)}};if(o&&a.length){const O=o==="backward",x=O?fR:f_,S={pages:a,pageParams:u},z=x(r,S);d=await C(S,z,O)}else{const O=n??a.length;do{const x=f===0?u[0]??r.initialPageParam:f_(r,d);if(f>0&&x==null)break;d=await C(d,x),f++}while(f<O)}return d};e.options.persister?e.fetchFn=()=>e.options.persister?.(m,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t):e.fetchFn=m}}}function f_(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function fR(n,{pages:e,pageParams:t}){return e.length>0?n.getPreviousPageParam?.(e[0],e,t[0],t):void 0}var pR=class extends ME{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||mR(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=VE({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(u,d)=>{this.#r({type:"failed",failureCount:u,error:d})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const o=this.state.status==="pending",a=!this.#s.canStart();try{if(o)t();else{this.#r({type:"pending",variables:e,isPaused:a}),await this.#n.config.onMutate?.(e,this,r);const d=await this.options.onMutate?.(e,r);d!==this.state.context&&this.#r({type:"pending",context:d,variables:e,isPaused:a})}const u=await this.#s.start();return await this.#n.config.onSuccess?.(u,e,this.state.context,this,r),await this.options.onSuccess?.(u,e,this.state.context,r),await this.#n.config.onSettled?.(u,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(u,null,e,this.state.context,r),this.#r({type:"success",data:u}),u}catch(u){try{throw await this.#n.config.onError?.(u,e,this.state.context,this,r),await this.options.onError?.(u,e,this.state.context,r),await this.#n.config.onSettled?.(void 0,u,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,u,e,this.state.context,r),u}finally{this.#r({type:"error",error:u})}}finally{this.#n.runNext(this)}}#r(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Xt.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function mR(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var gR=class extends Nh{constructor(n={}){super(),this.config=n,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(n,e,t){const r=new pR({client:n,mutationCache:this,mutationId:++this.#n,options:n.defaultMutationOptions(e),state:t});return this.add(r),r}add(n){this.#e.add(n);const e=kc(n);if(typeof e=="string"){const t=this.#t.get(e);t?t.push(n):this.#t.set(e,[n])}this.notify({type:"added",mutation:n})}remove(n){if(this.#e.delete(n)){const e=kc(n);if(typeof e=="string"){const t=this.#t.get(e);if(t)if(t.length>1){const r=t.indexOf(n);r!==-1&&t.splice(r,1)}else t[0]===n&&this.#t.delete(e)}}this.notify({type:"removed",mutation:n})}canRun(n){const e=kc(n);if(typeof e=="string"){const r=this.#t.get(e)?.find(o=>o.state.status==="pending");return!r||r===n}else return!0}runNext(n){const e=kc(n);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==n&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Xt.batch(()=>{this.#e.forEach(n=>{this.notify({type:"removed",mutation:n})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(n){const e={exact:!0,...n};return this.getAll().find(t=>l_(e,t))}findAll(n={}){return this.getAll().filter(e=>l_(n,e))}notify(n){Xt.batch(()=>{this.listeners.forEach(e=>{e(n)})})}resumePausedMutations(){const n=this.getAll().filter(e=>e.state.isPaused);return Xt.batch(()=>Promise.all(n.map(e=>e.continue().catch(Hn))))}};function kc(n){return n.options.scope?.id}var yR=class extends Nh{constructor(n={}){super(),this.config=n,this.#e=new Map}#e;build(n,e,t){const r=e.queryKey,o=e.queryHash??pm(r,e);let a=this.get(o);return a||(a=new hR({client:n,queryKey:r,queryHash:o,options:n.defaultQueryOptions(e),state:t,defaultOptions:n.getQueryDefaults(r)}),this.add(a)),a}add(n){this.#e.has(n.queryHash)||(this.#e.set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const e=this.#e.get(n.queryHash);e&&(n.destroy(),e===n&&this.#e.delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){Xt.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return this.#e.get(n)}getAll(){return[...this.#e.values()]}find(n){const e={exact:!0,...n};return this.getAll().find(t=>a_(e,t))}findAll(n={}){const e=this.getAll();return Object.keys(n).length>0?e.filter(t=>a_(n,t)):e}notify(n){Xt.batch(()=>{this.listeners.forEach(e=>{e(n)})})}onFocus(){Xt.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){Xt.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},vR=class{#e;#t;#n;#s;#r;#o;#a;#i;constructor(n={}){this.#e=n.queryCache||new yR,this.#t=n.mutationCache||new gR,this.#n=n.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=DE.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=rh.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#i?.(),this.#i=void 0)}isFetching(n){return this.#e.findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return this.#t.findAll({...n,status:"pending"}).length}getQueryData(n){const e=this.defaultQueryOptions({queryKey:n});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=this.#e.build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(Ip(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return this.#e.findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),a=this.#e.get(r.queryHash)?.state.data,u=YC(e,a);if(u!==void 0)return this.#e.build(this,r).setData(u,{...t,manual:!0})}setQueriesData(n,e,t){return Xt.batch(()=>this.#e.findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){const e=this.defaultQueryOptions({queryKey:n});return this.#e.get(e.queryHash)?.state}removeQueries(n){const e=this.#e;Xt.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=this.#e;return Xt.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=Xt.batch(()=>this.#e.findAll(n).map(o=>o.cancel(t)));return Promise.all(r).then(Hn).catch(Hn)}invalidateQueries(n,e={}){return Xt.batch(()=>(this.#e.findAll(n).forEach(t=>{t.invalidate()}),n?.refetchType==="none"?Promise.resolve():this.refetchQueries({...n,type:n?.refetchType??n?.type??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=Xt.batch(()=>this.#e.findAll(n).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let a=o.fetch(void 0,t);return t.throwOnError||(a=a.catch(Hn)),o.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Hn)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=this.#e.build(this,e);return t.isStaleByTime(Ip(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Hn).catch(Hn)}fetchInfiniteQuery(n){return n.behavior=d_(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Hn).catch(Hn)}ensureInfiniteQueryData(n){return n.behavior=d_(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return rh.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(n){this.#n=n}setQueryDefaults(n,e){this.#s.set(Ll(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...this.#s.values()],t={};return e.forEach(r=>{Fl(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){this.#r.set(Ll(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...this.#r.values()],t={};return e.forEach(r=>{Fl(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...this.#n.queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=pm(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===mm&&(e.enabled=!1),e}defaultMutationOptions(n){return n?._defaulted?n:{...this.#n.mutations,...n?.mutationKey&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},LE=A.createContext(void 0),vF=n=>{const e=A.useContext(LE);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},_R=({client:n,children:e})=>(A.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),R.jsx(LE.Provider,{value:n,children:e}));class wR extends Error{constructor(e){super(e),this.name=this.constructor.name}}class ER extends wR{constructor(e,t){super(e),this.status=t,this.status=t}}const FE=n=>(n instanceof ER?console.error(`API Error (${n.status}): ${n.message}`):n instanceof Error&&console.error(`An unexpected error occurred: ${n.message}`),n);class Jo{static instance;constructor(){}static getInstance(){return Jo.instance||(Jo.instance=new Jo),Jo.instance}handleError(e,t={}){const{logToConsole:r=!0,reportToService:o=!1}=t;r&&console.error("Caught by ErrorHandler:",e),o&&console.log("Reporting error to service...",e)}}async function jE(n){if(!n.ok){const e=await n.text()||n.statusText,t={response:{status:n.status,data:{message:e}},request:null,message:e,config:{url:n.url,method:"GET"}};throw FE(t)}}async function _F(n,e,t){try{const r=await fetch(e,{method:n,headers:t?{"Content-Type":"application/json"}:{},body:t?JSON.stringify(t):void 0,credentials:"include"});return await jE(r),r}catch(r){throw r.code?r:FE(r)}}const TR=({on401:n})=>async({queryKey:e})=>{const t=await fetch(e.join("/"),{credentials:"include"});return await jE(t),await t.json()},IR=new vR({defaultOptions:{queries:{queryFn:TR({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),SR=1,AR=1e6;let Jf=0;function CR(){return Jf=(Jf+1)%Number.MAX_SAFE_INTEGER,Jf.toString()}const Zf=new Map,p_=n=>{if(Zf.has(n))return;const e=setTimeout(()=>{Zf.delete(n),kl({type:"REMOVE_TOAST",toastId:n})},AR);Zf.set(n,e)},RR=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,SR)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?p_(t):n.toasts.forEach(r=>{p_(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},qc=[];let Hc={toasts:[]};function kl(n){Hc=RR(Hc,n),qc.forEach(e=>{e(Hc)})}function xR({...n}){const e=CR(),t=o=>kl({type:"UPDATE_TOAST",toast:{...o,id:e}}),r=()=>kl({type:"DISMISS_TOAST",toastId:e});return kl({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:o=>{o||r()}}}),{id:e,dismiss:r,update:t}}function PR(){const[n,e]=A.useState(Hc);return A.useEffect(()=>(qc.push(e),()=>{const t=qc.indexOf(e);t>-1&&qc.splice(t,1)}),[n]),{...n,toast:xR,dismiss:t=>kl({type:"DISMISS_TOAST",toastId:t})}}var Oh=EE();const kR=wE(Oh);function Tt(n,e,{checkForDefaultPrevented:t=!0}={}){return function(o){if(n?.(o),t===!1||!o.defaultPrevented)return e?.(o)}}function m_(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function UE(...n){return e=>{let t=!1;const r=n.map(o=>{const a=m_(o,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let o=0;o<r.length;o++){const a=r[o];typeof a=="function"?a():m_(n[o],null)}}}}function Qn(...n){return A.useCallback(UE(...n),n)}function wF(n,e){const t=A.createContext(e),r=a=>{const{children:u,...d}=a,f=A.useMemo(()=>d,Object.values(d));return R.jsx(t.Provider,{value:f,children:u})};r.displayName=n+"Provider";function o(a){const u=A.useContext(t);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${n}\``)}return[r,o]}function Vh(n,e=[]){let t=[];function r(a,u){const d=A.createContext(u),f=t.length;t=[...t,u];const m=w=>{const{scope:T,children:C,...O}=w,x=T?.[n]?.[f]||d,S=A.useMemo(()=>O,Object.values(O));return R.jsx(x.Provider,{value:S,children:C})};m.displayName=a+"Provider";function v(w,T){const C=T?.[n]?.[f]||d,O=A.useContext(C);if(O)return O;if(u!==void 0)return u;throw new Error(`\`${w}\` must be used within \`${a}\``)}return[m,v]}const o=()=>{const a=t.map(u=>A.createContext(u));return function(d){const f=d?.[n]||a;return A.useMemo(()=>({[`__scope${n}`]:{...d,[n]:f}}),[d,f])}};return o.scopeName=n,[r,bR(o,...e)]}function bR(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const u=r.reduce((d,{useScope:f,scopeName:m})=>{const w=f(a)[`__scope${m}`];return{...d,...w}},{});return A.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}function sh(n){const e=DR(n),t=A.forwardRef((r,o)=>{const{children:a,...u}=r,d=A.Children.toArray(a),f=d.find(VR);if(f){const m=f.props.children,v=d.map(w=>w===f?A.Children.count(m)>1?A.Children.only(null):A.isValidElement(m)?m.props.children:null:w);return R.jsx(e,{...u,ref:o,children:A.isValidElement(m)?A.cloneElement(m,void 0,v):null})}return R.jsx(e,{...u,ref:o,children:a})});return t.displayName=`${n}.Slot`,t}var NR=sh("Slot");function DR(n){const e=A.forwardRef((t,r)=>{const{children:o,...a}=t;if(A.isValidElement(o)){const u=LR(o),d=MR(a,o.props);return o.type!==A.Fragment&&(d.ref=r?UE(r,u):u),A.cloneElement(o,d)}return A.Children.count(o)>1?A.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var zE=Symbol("radix.slottable");function OR(n){const e=({children:t})=>R.jsx(R.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=zE,e}function VR(n){return A.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===zE}function MR(n,e){const t={...e};for(const r in e){const o=n[r],a=e[r];/^on[A-Z]/.test(r)?o&&a?t[r]=(...d)=>{const f=a(...d);return o(...d),f}:o&&(t[r]=o):r==="style"?t[r]={...o,...a}:r==="className"&&(t[r]=[o,a].filter(Boolean).join(" "))}return{...n,...t}}function LR(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function FR(n){const e=n+"CollectionProvider",[t,r]=Vh(e),[o,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),u=x=>{const{scope:S,children:z}=x,H=qs.useRef(null),K=qs.useRef(new Map).current;return R.jsx(o,{scope:S,itemMap:K,collectionRef:H,children:z})};u.displayName=e;const d=n+"CollectionSlot",f=sh(d),m=qs.forwardRef((x,S)=>{const{scope:z,children:H}=x,K=a(d,z),X=Qn(S,K.collectionRef);return R.jsx(f,{ref:X,children:H})});m.displayName=d;const v=n+"CollectionItemSlot",w="data-radix-collection-item",T=sh(v),C=qs.forwardRef((x,S)=>{const{scope:z,children:H,...K}=x,X=qs.useRef(null),ne=Qn(S,X),se=a(v,z);return qs.useEffect(()=>(se.itemMap.set(X,{ref:X,...K}),()=>void se.itemMap.delete(X))),R.jsx(T,{[w]:"",ref:ne,children:H})});C.displayName=v;function O(x){const S=a(n+"CollectionConsumer",x);return qs.useCallback(()=>{const H=S.collectionRef.current;if(!H)return[];const K=Array.from(H.querySelectorAll(`[${w}]`));return Array.from(S.itemMap.values()).sort((se,b)=>K.indexOf(se.ref.current)-K.indexOf(b.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:u,Slot:m,ItemSlot:C},O,r]}var jR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Jt=jR.reduce((n,e)=>{const t=sh(`Primitive.${e}`),r=A.forwardRef((o,a)=>{const{asChild:u,...d}=o,f=u?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),R.jsx(f,{...d,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function $E(n,e){n&&Oh.flushSync(()=>n.dispatchEvent(e))}function ti(n){const e=A.useRef(n);return A.useEffect(()=>{e.current=n}),A.useMemo(()=>(...t)=>e.current?.(...t),[])}function UR(n,e=globalThis?.document){const t=ti(n);A.useEffect(()=>{const r=o=>{o.key==="Escape"&&t(o)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var zR="DismissableLayer",Cp="dismissableLayer.update",$R="dismissableLayer.pointerDownOutside",BR="dismissableLayer.focusOutside",g_,BE=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gm=A.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:u,onDismiss:d,...f}=n,m=A.useContext(BE),[v,w]=A.useState(null),T=v?.ownerDocument??globalThis?.document,[,C]=A.useState({}),O=Qn(e,b=>w(b)),x=Array.from(m.layers),[S]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),z=x.indexOf(S),H=v?x.indexOf(v):-1,K=m.layersWithOutsidePointerEventsDisabled.size>0,X=H>=z,ne=HR(b=>{const P=b.target,N=[...m.branches].some(M=>M.contains(P));!X||N||(o?.(b),u?.(b),b.defaultPrevented||d?.())},T),se=WR(b=>{const P=b.target;[...m.branches].some(M=>M.contains(P))||(a?.(b),u?.(b),b.defaultPrevented||d?.())},T);return UR(b=>{H===m.layers.size-1&&(r?.(b),!b.defaultPrevented&&d&&(b.preventDefault(),d()))},T),A.useEffect(()=>{if(v)return t&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(g_=T.body.style.pointerEvents,T.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(v)),m.layers.add(v),y_(),()=>{t&&m.layersWithOutsidePointerEventsDisabled.size===1&&(T.body.style.pointerEvents=g_)}},[v,T,t,m]),A.useEffect(()=>()=>{v&&(m.layers.delete(v),m.layersWithOutsidePointerEventsDisabled.delete(v),y_())},[v,m]),A.useEffect(()=>{const b=()=>C({});return document.addEventListener(Cp,b),()=>document.removeEventListener(Cp,b)},[]),R.jsx(Jt.div,{...f,ref:O,style:{pointerEvents:K?X?"auto":"none":void 0,...n.style},onFocusCapture:Tt(n.onFocusCapture,se.onFocusCapture),onBlurCapture:Tt(n.onBlurCapture,se.onBlurCapture),onPointerDownCapture:Tt(n.onPointerDownCapture,ne.onPointerDownCapture)})});gm.displayName=zR;var qR="DismissableLayerBranch",qE=A.forwardRef((n,e)=>{const t=A.useContext(BE),r=A.useRef(null),o=Qn(e,r);return A.useEffect(()=>{const a=r.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),R.jsx(Jt.div,{...n,ref:o})});qE.displayName=qR;function HR(n,e=globalThis?.document){const t=ti(n),r=A.useRef(!1),o=A.useRef(()=>{});return A.useEffect(()=>{const a=d=>{if(d.target&&!r.current){let f=function(){HE($R,t,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=f,e.addEventListener("click",o.current,{once:!0})):f()}else e.removeEventListener("click",o.current);r.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",a),e.removeEventListener("click",o.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function WR(n,e=globalThis?.document){const t=ti(n),r=A.useRef(!1);return A.useEffect(()=>{const o=a=>{a.target&&!r.current&&HE(BR,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function y_(){const n=new CustomEvent(Cp);document.dispatchEvent(n)}function HE(n,e,t,{discrete:r}){const o=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&o.addEventListener(n,e,{once:!0}),r?$E(o,a):o.dispatchEvent(a)}var GR=gm,KR=qE,rs=globalThis?.document?A.useLayoutEffect:()=>{},QR="Portal",WE=A.forwardRef((n,e)=>{const{container:t,...r}=n,[o,a]=A.useState(!1);rs(()=>a(!0),[]);const u=t||o&&globalThis?.document?.body;return u?kR.createPortal(R.jsx(Jt.div,{...r,ref:e}),u):null});WE.displayName=QR;function YR(n,e){return A.useReducer((t,r)=>e[t][r]??t,n)}var ym=n=>{const{present:e,children:t}=n,r=XR(e),o=typeof t=="function"?t({present:r.isPresent}):A.Children.only(t),a=Qn(r.ref,JR(o));return typeof t=="function"||r.isPresent?A.cloneElement(o,{ref:a}):null};ym.displayName="Presence";function XR(n){const[e,t]=A.useState(),r=A.useRef(null),o=A.useRef(n),a=A.useRef("none"),u=n?"mounted":"unmounted",[d,f]=YR(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const m=bc(r.current);a.current=d==="mounted"?m:"none"},[d]),rs(()=>{const m=r.current,v=o.current;if(v!==n){const T=a.current,C=bc(m);n?f("MOUNT"):C==="none"||m?.display==="none"?f("UNMOUNT"):f(v&&T!==C?"ANIMATION_OUT":"UNMOUNT"),o.current=n}},[n,f]),rs(()=>{if(e){let m;const v=e.ownerDocument.defaultView??window,w=C=>{const x=bc(r.current).includes(CSS.escape(C.animationName));if(C.target===e&&x&&(f("ANIMATION_END"),!o.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",m=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},T=C=>{C.target===e&&(a.current=bc(r.current))};return e.addEventListener("animationstart",T),e.addEventListener("animationcancel",w),e.addEventListener("animationend",w),()=>{v.clearTimeout(m),e.removeEventListener("animationstart",T),e.removeEventListener("animationcancel",w),e.removeEventListener("animationend",w)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:A.useCallback(m=>{r.current=m?getComputedStyle(m):null,t(m)},[])}}function bc(n){return n?.animationName||"none"}function JR(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var ZR=hm[" useInsertionEffect ".trim().toString()]||rs;function GE({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[o,a,u]=ex({defaultProp:e,onChange:t}),d=n!==void 0,f=d?n:o;{const v=A.useRef(n!==void 0);A.useEffect(()=>{const w=v.current;w!==d&&console.warn(`${r} is changing from ${w?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=d},[d,r])}const m=A.useCallback(v=>{if(d){const w=tx(v)?v(n):v;w!==n&&u.current?.(w)}else a(v)},[d,n,a,u]);return[f,m]}function ex({defaultProp:n,onChange:e}){const[t,r]=A.useState(n),o=A.useRef(t),a=A.useRef(e);return ZR(()=>{a.current=e},[e]),A.useEffect(()=>{o.current!==t&&(a.current?.(t),o.current=t)},[t,o]),[t,r,a]}function tx(n){return typeof n=="function"}var nx=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),rx="VisuallyHidden",Mh=A.forwardRef((n,e)=>R.jsx(Jt.span,{...n,ref:e,style:{...nx,...n.style}}));Mh.displayName=rx;var sx=Mh,vm="ToastProvider",[_m,ix,ox]=FR("Toast"),[KE]=Vh("Toast",[ox]),[ax,Lh]=KE(vm),QE=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:o="right",swipeThreshold:a=50,children:u}=n,[d,f]=A.useState(null),[m,v]=A.useState(0),w=A.useRef(!1),T=A.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${vm}\`. Expected non-empty \`string\`.`),R.jsx(_m.Provider,{scope:e,children:R.jsx(ax,{scope:e,label:t,duration:r,swipeDirection:o,swipeThreshold:a,toastCount:m,viewport:d,onViewportChange:f,onToastAdd:A.useCallback(()=>v(C=>C+1),[]),onToastRemove:A.useCallback(()=>v(C=>C-1),[]),isFocusedToastEscapeKeyDownRef:w,isClosePausedRef:T,children:u})})};QE.displayName=vm;var YE="ToastViewport",lx=["F8"],Rp="toast.viewportPause",xp="toast.viewportResume",XE=A.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=lx,label:o="Notifications ({hotkey})",...a}=n,u=Lh(YE,t),d=ix(t),f=A.useRef(null),m=A.useRef(null),v=A.useRef(null),w=A.useRef(null),T=Qn(e,w,u.onViewportChange),C=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=u.toastCount>0;A.useEffect(()=>{const S=z=>{r.length!==0&&r.every(K=>z[K]||z.code===K)&&w.current?.focus()};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[r]),A.useEffect(()=>{const S=f.current,z=w.current;if(O&&S&&z){const H=()=>{if(!u.isClosePausedRef.current){const se=new CustomEvent(Rp);z.dispatchEvent(se),u.isClosePausedRef.current=!0}},K=()=>{if(u.isClosePausedRef.current){const se=new CustomEvent(xp);z.dispatchEvent(se),u.isClosePausedRef.current=!1}},X=se=>{!S.contains(se.relatedTarget)&&K()},ne=()=>{S.contains(document.activeElement)||K()};return S.addEventListener("focusin",H),S.addEventListener("focusout",X),S.addEventListener("pointermove",H),S.addEventListener("pointerleave",ne),window.addEventListener("blur",H),window.addEventListener("focus",K),()=>{S.removeEventListener("focusin",H),S.removeEventListener("focusout",X),S.removeEventListener("pointermove",H),S.removeEventListener("pointerleave",ne),window.removeEventListener("blur",H),window.removeEventListener("focus",K)}}},[O,u.isClosePausedRef]);const x=A.useCallback(({tabbingDirection:S})=>{const H=d().map(K=>{const X=K.ref.current,ne=[X,...Ex(X)];return S==="forwards"?ne:ne.reverse()});return(S==="forwards"?H.reverse():H).flat()},[d]);return A.useEffect(()=>{const S=w.current;if(S){const z=H=>{const K=H.altKey||H.ctrlKey||H.metaKey;if(H.key==="Tab"&&!K){const ne=document.activeElement,se=H.shiftKey;if(H.target===S&&se){m.current?.focus();return}const N=x({tabbingDirection:se?"backwards":"forwards"}),M=N.findIndex(V=>V===ne);ep(N.slice(M+1))?H.preventDefault():se?m.current?.focus():v.current?.focus()}};return S.addEventListener("keydown",z),()=>S.removeEventListener("keydown",z)}},[d,x]),R.jsxs(KR,{ref:f,role:"region","aria-label":o.replace("{hotkey}",C),tabIndex:-1,style:{pointerEvents:O?void 0:"none"},children:[O&&R.jsx(Pp,{ref:m,onFocusFromOutsideViewport:()=>{const S=x({tabbingDirection:"forwards"});ep(S)}}),R.jsx(_m.Slot,{scope:t,children:R.jsx(Jt.ol,{tabIndex:-1,...a,ref:T})}),O&&R.jsx(Pp,{ref:v,onFocusFromOutsideViewport:()=>{const S=x({tabbingDirection:"backwards"});ep(S)}})]})});XE.displayName=YE;var JE="ToastFocusProxy",Pp=A.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...o}=n,a=Lh(JE,t);return R.jsx(Mh,{tabIndex:0,...o,ref:e,style:{position:"fixed"},onFocus:u=>{const d=u.relatedTarget;!a.viewport?.contains(d)&&r()}})});Pp.displayName=JE;var Zl="Toast",ux="toast.swipeStart",cx="toast.swipeMove",hx="toast.swipeCancel",dx="toast.swipeEnd",ZE=A.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:o,onOpenChange:a,...u}=n,[d,f]=GE({prop:r,defaultProp:o??!0,onChange:a,caller:Zl});return R.jsx(ym,{present:t||d,children:R.jsx(mx,{open:d,...u,ref:e,onClose:()=>f(!1),onPause:ti(n.onPause),onResume:ti(n.onResume),onSwipeStart:Tt(n.onSwipeStart,m=>{m.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Tt(n.onSwipeMove,m=>{const{x:v,y:w}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","move"),m.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${v}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${w}px`)}),onSwipeCancel:Tt(n.onSwipeCancel,m=>{m.currentTarget.setAttribute("data-swipe","cancel"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Tt(n.onSwipeEnd,m=>{const{x:v,y:w}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","end"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${v}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${w}px`),f(!1)})})})});ZE.displayName=Zl;var[fx,px]=KE(Zl,{onClose(){}}),mx=A.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:o,open:a,onClose:u,onEscapeKeyDown:d,onPause:f,onResume:m,onSwipeStart:v,onSwipeMove:w,onSwipeCancel:T,onSwipeEnd:C,...O}=n,x=Lh(Zl,t),[S,z]=A.useState(null),H=Qn(e,oe=>z(oe)),K=A.useRef(null),X=A.useRef(null),ne=o||x.duration,se=A.useRef(0),b=A.useRef(ne),P=A.useRef(0),{onToastAdd:N,onToastRemove:M}=x,V=ti(()=>{S?.contains(document.activeElement)&&x.viewport?.focus(),u()}),L=A.useCallback(oe=>{!oe||oe===1/0||(window.clearTimeout(P.current),se.current=new Date().getTime(),P.current=window.setTimeout(V,oe))},[V]);A.useEffect(()=>{const oe=x.viewport;if(oe){const Re=()=>{L(b.current),m?.()},Ee=()=>{const ve=new Date().getTime()-se.current;b.current=b.current-ve,window.clearTimeout(P.current),f?.()};return oe.addEventListener(Rp,Ee),oe.addEventListener(xp,Re),()=>{oe.removeEventListener(Rp,Ee),oe.removeEventListener(xp,Re)}}},[x.viewport,ne,f,m,L]),A.useEffect(()=>{a&&!x.isClosePausedRef.current&&L(ne)},[a,ne,x.isClosePausedRef,L]),A.useEffect(()=>(N(),()=>M()),[N,M]);const k=A.useMemo(()=>S?oT(S):null,[S]);return x.viewport?R.jsxs(R.Fragment,{children:[k&&R.jsx(gx,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:k}),R.jsx(fx,{scope:t,onClose:V,children:Oh.createPortal(R.jsx(_m.ItemSlot,{scope:t,children:R.jsx(GR,{asChild:!0,onEscapeKeyDown:Tt(d,()=>{x.isFocusedToastEscapeKeyDownRef.current||V(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:R.jsx(Jt.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":x.swipeDirection,...O,ref:H,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:Tt(n.onKeyDown,oe=>{oe.key==="Escape"&&(d?.(oe.nativeEvent),oe.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,V()))}),onPointerDown:Tt(n.onPointerDown,oe=>{oe.button===0&&(K.current={x:oe.clientX,y:oe.clientY})}),onPointerMove:Tt(n.onPointerMove,oe=>{if(!K.current)return;const Re=oe.clientX-K.current.x,Ee=oe.clientY-K.current.y,ve=!!X.current,Y=["left","right"].includes(x.swipeDirection),ce=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,ae=Y?ce(0,Re):0,U=Y?0:ce(0,Ee),Z=oe.pointerType==="touch"?10:2,Te={x:ae,y:U},Se={originalEvent:oe,delta:Te};ve?(X.current=Te,Nc(cx,w,Se,{discrete:!1})):v_(Te,x.swipeDirection,Z)?(X.current=Te,Nc(ux,v,Se,{discrete:!1}),oe.target.setPointerCapture(oe.pointerId)):(Math.abs(Re)>Z||Math.abs(Ee)>Z)&&(K.current=null)}),onPointerUp:Tt(n.onPointerUp,oe=>{const Re=X.current,Ee=oe.target;if(Ee.hasPointerCapture(oe.pointerId)&&Ee.releasePointerCapture(oe.pointerId),X.current=null,K.current=null,Re){const ve=oe.currentTarget,Y={originalEvent:oe,delta:Re};v_(Re,x.swipeDirection,x.swipeThreshold)?Nc(dx,C,Y,{discrete:!0}):Nc(hx,T,Y,{discrete:!0}),ve.addEventListener("click",ce=>ce.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),gx=n=>{const{__scopeToast:e,children:t,...r}=n,o=Lh(Zl,e),[a,u]=A.useState(!1),[d,f]=A.useState(!1);return _x(()=>u(!0)),A.useEffect(()=>{const m=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(m)},[]),d?null:R.jsx(WE,{asChild:!0,children:R.jsx(Mh,{...r,children:a&&R.jsxs(R.Fragment,{children:[o.label," ",t]})})})},yx="ToastTitle",eT=A.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return R.jsx(Jt.div,{...r,ref:e})});eT.displayName=yx;var vx="ToastDescription",tT=A.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return R.jsx(Jt.div,{...r,ref:e})});tT.displayName=vx;var nT="ToastAction",rT=A.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?R.jsx(iT,{altText:t,asChild:!0,children:R.jsx(wm,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${nT}\`. Expected non-empty \`string\`.`),null)});rT.displayName=nT;var sT="ToastClose",wm=A.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,o=px(sT,t);return R.jsx(iT,{asChild:!0,children:R.jsx(Jt.button,{type:"button",...r,ref:e,onClick:Tt(n.onClick,o.onClose)})})});wm.displayName=sT;var iT=A.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...o}=n;return R.jsx(Jt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...o,ref:e})});function oT(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),wx(r)){const o=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!o)if(a){const u=r.dataset.radixToastAnnounceAlt;u&&e.push(u)}else e.push(...oT(r))}}),e}function Nc(n,e,t,{discrete:r}){const o=t.originalEvent.currentTarget,a=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&o.addEventListener(n,e,{once:!0}),r?$E(o,a):o.dispatchEvent(a)}var v_=(n,e,t=0)=>{const r=Math.abs(n.x),o=Math.abs(n.y),a=r>o;return e==="left"||e==="right"?a&&r>t:!a&&o>t};function _x(n=()=>{}){const e=ti(n);rs(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function wx(n){return n.nodeType===n.ELEMENT_NODE}function Ex(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function ep(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var Tx=QE,aT=XE,lT=ZE,uT=eT,cT=tT,hT=rT,dT=wm;function fT(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=fT(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function pT(){for(var n,e,t=0,r="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=fT(n))&&(r&&(r+=" "),r+=e);return r}const __=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,w_=pT,Em=(n,e)=>t=>{var r;if(e?.variants==null)return w_(n,t?.class,t?.className);const{variants:o,defaultVariants:a}=e,u=Object.keys(o).map(m=>{const v=t?.[m],w=a?.[m];if(v===null)return null;const T=__(v)||__(w);return o[m][T]}),d=t&&Object.entries(t).reduce((m,v)=>{let[w,T]=v;return T===void 0||(m[w]=T),m},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((m,v)=>{let{class:w,className:T,...C}=v;return Object.entries(C).every(O=>{let[x,S]=O;return Array.isArray(S)?S.includes({...a,...d}[x]):{...a,...d}[x]===S})?[...m,w,T]:m},[]);return w_(n,u,f,t?.class,t?.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mT=(...n)=>n.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=A.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:o="",children:a,iconNode:u,...d},f)=>A.createElement("svg",{ref:f,...Sx,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:mT("lucide",o),...d},[...u.map(([m,v])=>A.createElement(m,v)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=(n,e)=>{const t=A.forwardRef(({className:r,...o},a)=>A.createElement(Ax,{ref:a,iconNode:e,className:mT(`lucide-${Ix(n)}`,r),...o}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=Fh("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=Fh("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=Fh("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=Fh("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Tm="-",Px=n=>{const e=bx(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:u=>{const d=u.split(Tm);return d[0]===""&&d.length!==1&&d.shift(),gT(d,e)||kx(u)},getConflictingClassGroupIds:(u,d)=>{const f=t[u]||[];return d&&r[u]?[...f,...r[u]]:f}}},gT=(n,e)=>{if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),o=r?gT(n.slice(1),r):void 0;if(o)return o;if(e.validators.length===0)return;const a=n.join(Tm);return e.validators.find(({validator:u})=>u(a))?.classGroupId},T_=/^\[(.+)\]$/,kx=n=>{if(T_.test(n)){const e=T_.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},bx=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return Dx(Object.entries(n.classGroups),t).forEach(([a,u])=>{kp(u,r,a,e)}),r},kp=(n,e,t,r)=>{n.forEach(o=>{if(typeof o=="string"){const a=o===""?e:I_(e,o);a.classGroupId=t;return}if(typeof o=="function"){if(Nx(o)){kp(o(r),e,t,r);return}e.validators.push({validator:o,classGroupId:t});return}Object.entries(o).forEach(([a,u])=>{kp(u,I_(e,a),t,r)})})},I_=(n,e)=>{let t=n;return e.split(Tm).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},Nx=n=>n.isThemeGetter,Dx=(n,e)=>e?n.map(([t,r])=>{const o=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([u,d])=>[e+u,d])):a);return[t,o]}):n,Ox=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const o=(a,u)=>{t.set(a,u),e++,e>n&&(e=0,r=t,t=new Map)};return{get(a){let u=t.get(a);if(u!==void 0)return u;if((u=r.get(a))!==void 0)return o(a,u),u},set(a,u){t.has(a)?t.set(a,u):o(a,u)}}},yT="!",Vx=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,o=e[0],a=e.length,u=d=>{const f=[];let m=0,v=0,w;for(let S=0;S<d.length;S++){let z=d[S];if(m===0){if(z===o&&(r||d.slice(S,S+a)===e)){f.push(d.slice(v,S)),v=S+a;continue}if(z==="/"){w=S;continue}}z==="["?m++:z==="]"&&m--}const T=f.length===0?d:d.substring(v),C=T.startsWith(yT),O=C?T.substring(1):T,x=w&&w>v?w-v:void 0;return{modifiers:f,hasImportantModifier:C,baseClassName:O,maybePostfixModifierPosition:x}};return t?d=>t({className:d,parseClassName:u}):u},Mx=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},Lx=n=>({cache:Ox(n.cacheSize),parseClassName:Vx(n),...Px(n)}),Fx=/\s+/,jx=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:o}=e,a=[],u=n.trim().split(Fx);let d="";for(let f=u.length-1;f>=0;f-=1){const m=u[f],{modifiers:v,hasImportantModifier:w,baseClassName:T,maybePostfixModifierPosition:C}=t(m);let O=!!C,x=r(O?T.substring(0,C):T);if(!x){if(!O){d=m+(d.length>0?" "+d:d);continue}if(x=r(T),!x){d=m+(d.length>0?" "+d:d);continue}O=!1}const S=Mx(v).join(":"),z=w?S+yT:S,H=z+x;if(a.includes(H))continue;a.push(H);const K=o(x,O);for(let X=0;X<K.length;++X){const ne=K[X];a.push(z+ne)}d=m+(d.length>0?" "+d:d)}return d};function Ux(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=vT(e))&&(r&&(r+=" "),r+=t);return r}const vT=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=vT(n[r]))&&(t&&(t+=" "),t+=e);return t};function zx(n,...e){let t,r,o,a=u;function u(f){const m=e.reduce((v,w)=>w(v),n());return t=Lx(m),r=t.cache.get,o=t.cache.set,a=d,d(f)}function d(f){const m=r(f);if(m)return m;const v=jx(f,t);return o(f,v),v}return function(){return a(Ux.apply(null,arguments))}}const tt=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},_T=/^\[(?:([a-z-]+):)?(.+)\]$/i,$x=/^\d+\/\d+$/,Bx=new Set(["px","full","screen"]),qx=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Hx=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Wx=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Gx=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Kx=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Jr=n=>Zo(n)||Bx.has(n)||$x.test(n),zs=n=>ga(n,"length",nP),Zo=n=>!!n&&!Number.isNaN(Number(n)),tp=n=>ga(n,"number",Zo),Tl=n=>!!n&&Number.isInteger(Number(n)),Qx=n=>n.endsWith("%")&&Zo(n.slice(0,-1)),be=n=>_T.test(n),$s=n=>qx.test(n),Yx=new Set(["length","size","percentage"]),Xx=n=>ga(n,Yx,wT),Jx=n=>ga(n,"position",wT),Zx=new Set(["image","url"]),eP=n=>ga(n,Zx,sP),tP=n=>ga(n,"",rP),Il=()=>!0,ga=(n,e,t)=>{const r=_T.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},nP=n=>Hx.test(n)&&!Wx.test(n),wT=()=>!1,rP=n=>Gx.test(n),sP=n=>Kx.test(n),iP=()=>{const n=tt("colors"),e=tt("spacing"),t=tt("blur"),r=tt("brightness"),o=tt("borderColor"),a=tt("borderRadius"),u=tt("borderSpacing"),d=tt("borderWidth"),f=tt("contrast"),m=tt("grayscale"),v=tt("hueRotate"),w=tt("invert"),T=tt("gap"),C=tt("gradientColorStops"),O=tt("gradientColorStopPositions"),x=tt("inset"),S=tt("margin"),z=tt("opacity"),H=tt("padding"),K=tt("saturate"),X=tt("scale"),ne=tt("sepia"),se=tt("skew"),b=tt("space"),P=tt("translate"),N=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto",be,e],L=()=>[be,e],k=()=>["",Jr,zs],oe=()=>["auto",Zo,be],Re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Ee=()=>["solid","dashed","dotted","double","none"],ve=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>["start","end","center","between","around","evenly","stretch"],ce=()=>["","0",be],ae=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[Zo,be];return{cacheSize:500,separator:":",theme:{colors:[Il],spacing:[Jr,zs],blur:["none","",$s,be],brightness:U(),borderColor:[n],borderRadius:["none","","full",$s,be],borderSpacing:L(),borderWidth:k(),contrast:U(),grayscale:ce(),hueRotate:U(),invert:ce(),gap:L(),gradientColorStops:[n],gradientColorStopPositions:[Qx,zs],inset:V(),margin:V(),opacity:U(),padding:L(),saturate:U(),scale:U(),sepia:ce(),skew:U(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",be]}],container:["container"],columns:[{columns:[$s]}],"break-after":[{"break-after":ae()}],"break-before":[{"break-before":ae()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Re(),be]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Tl,be]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",be]}],grow:[{grow:ce()}],shrink:[{shrink:ce()}],order:[{order:["first","last","none",Tl,be]}],"grid-cols":[{"grid-cols":[Il]}],"col-start-end":[{col:["auto",{span:["full",Tl,be]},be]}],"col-start":[{"col-start":oe()}],"col-end":[{"col-end":oe()}],"grid-rows":[{"grid-rows":[Il]}],"row-start-end":[{row:["auto",{span:[Tl,be]},be]}],"row-start":[{"row-start":oe()}],"row-end":[{"row-end":oe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",be]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",be]}],gap:[{gap:[T]}],"gap-x":[{"gap-x":[T]}],"gap-y":[{"gap-y":[T]}],"justify-content":[{justify:["normal",...Y()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Y(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Y(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[H]}],px:[{px:[H]}],py:[{py:[H]}],ps:[{ps:[H]}],pe:[{pe:[H]}],pt:[{pt:[H]}],pr:[{pr:[H]}],pb:[{pb:[H]}],pl:[{pl:[H]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[b]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[b]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",be,e]}],"min-w":[{"min-w":[be,e,"min","max","fit"]}],"max-w":[{"max-w":[be,e,"none","full","min","max","fit","prose",{screen:[$s]},$s]}],h:[{h:[be,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[be,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[be,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[be,e,"auto","min","max","fit"]}],"font-size":[{text:["base",$s,zs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",tp]}],"font-family":[{font:[Il]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",be]}],"line-clamp":[{"line-clamp":["none",Zo,tp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Jr,be]}],"list-image":[{"list-image":["none",be]}],"list-style-type":[{list:["none","disc","decimal",be]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[z]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[z]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ee(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Jr,zs]}],"underline-offset":[{"underline-offset":["auto",Jr,be]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[z]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Re(),Jx]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Xx]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},eP]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[O]}],"gradient-via-pos":[{via:[O]}],"gradient-to-pos":[{to:[O]}],"gradient-from":[{from:[C]}],"gradient-via":[{via:[C]}],"gradient-to":[{to:[C]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[z]}],"border-style":[{border:[...Ee(),"hidden"]}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[z]}],"divide-style":[{divide:Ee()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...Ee()]}],"outline-offset":[{"outline-offset":[Jr,be]}],"outline-w":[{outline:[Jr,zs]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[z]}],"ring-offset-w":[{"ring-offset":[Jr,zs]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",$s,tP]}],"shadow-color":[{shadow:[Il]}],opacity:[{opacity:[z]}],"mix-blend":[{"mix-blend":[...ve(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ve()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",$s,be]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[v]}],invert:[{invert:[w]}],saturate:[{saturate:[K]}],sepia:[{sepia:[ne]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[v]}],"backdrop-invert":[{"backdrop-invert":[w]}],"backdrop-opacity":[{"backdrop-opacity":[z]}],"backdrop-saturate":[{"backdrop-saturate":[K]}],"backdrop-sepia":[{"backdrop-sepia":[ne]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",be]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",be]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",be]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[X]}],"scale-x":[{"scale-x":[X]}],"scale-y":[{"scale-y":[X]}],rotate:[{rotate:[Tl,be]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[se]}],"skew-y":[{"skew-y":[se]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",be]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",be]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",be]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Jr,zs,tp]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},oP=zx(iP);function xt(...n){return oP(pT(n))}const aP=Tx,ET=A.forwardRef(({className:n,...e},t)=>R.jsx(aT,{ref:t,className:xt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));ET.displayName=aT.displayName;const lP=Em("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),TT=A.forwardRef(({className:n,variant:e,...t},r)=>R.jsx(lT,{ref:r,className:xt(lP({variant:e}),n),...t}));TT.displayName=lT.displayName;const uP=A.forwardRef(({className:n,...e},t)=>R.jsx(hT,{ref:t,className:xt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));uP.displayName=hT.displayName;const IT=A.forwardRef(({className:n,...e},t)=>R.jsx(dT,{ref:t,className:xt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:R.jsx(xx,{className:"h-4 w-4"})}));IT.displayName=dT.displayName;const ST=A.forwardRef(({className:n,...e},t)=>R.jsx(uT,{ref:t,className:xt("text-sm font-semibold",n),...e}));ST.displayName=uT.displayName;const AT=A.forwardRef(({className:n,...e},t)=>R.jsx(cT,{ref:t,className:xt("text-sm opacity-90",n),...e}));AT.displayName=cT.displayName;function cP(){const{toasts:n}=PR();return R.jsxs(aP,{children:[n.map(function({id:e,title:t,description:r,action:o,...a}){return R.jsxs(TT,{...a,children:[R.jsxs("div",{className:"grid gap-1",children:[t&&R.jsx(ST,{children:t}),r&&R.jsx(AT,{children:r})]}),o,R.jsx(IT,{})]},e)}),R.jsx(ET,{})]})}var hP=hm[" useId ".trim().toString()]||(()=>{}),dP=0;function fP(n){const[e,t]=A.useState(hP());return rs(()=>{t(r=>r??String(dP++))},[n]),n||(e?`radix-${e}`:"")}const pP=["top","right","bottom","left"],ni=Math.min,_n=Math.max,ih=Math.round,Dc=Math.floor,Tr=n=>({x:n,y:n}),mP={left:"right",right:"left",bottom:"top",top:"bottom"},gP={start:"end",end:"start"};function bp(n,e,t){return _n(n,ni(e,t))}function ss(n,e){return typeof n=="function"?n(e):n}function is(n){return n.split("-")[0]}function ya(n){return n.split("-")[1]}function Im(n){return n==="x"?"y":"x"}function Sm(n){return n==="y"?"height":"width"}const yP=new Set(["top","bottom"]);function Er(n){return yP.has(is(n))?"y":"x"}function Am(n){return Im(Er(n))}function vP(n,e,t){t===void 0&&(t=!1);const r=ya(n),o=Am(n),a=Sm(o);let u=o==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(u=oh(u)),[u,oh(u)]}function _P(n){const e=oh(n);return[Np(n),e,Np(e)]}function Np(n){return n.replace(/start|end/g,e=>gP[e])}const S_=["left","right"],A_=["right","left"],wP=["top","bottom"],EP=["bottom","top"];function TP(n,e,t){switch(n){case"top":case"bottom":return t?e?A_:S_:e?S_:A_;case"left":case"right":return e?wP:EP;default:return[]}}function IP(n,e,t,r){const o=ya(n);let a=TP(is(n),t==="start",r);return o&&(a=a.map(u=>u+"-"+o),e&&(a=a.concat(a.map(Np)))),a}function oh(n){return n.replace(/left|right|bottom|top/g,e=>mP[e])}function SP(n){return{top:0,right:0,bottom:0,left:0,...n}}function CT(n){return typeof n!="number"?SP(n):{top:n,right:n,bottom:n,left:n}}function ah(n){const{x:e,y:t,width:r,height:o}=n;return{width:r,height:o,top:t,left:e,right:e+r,bottom:t+o,x:e,y:t}}function C_(n,e,t){let{reference:r,floating:o}=n;const a=Er(e),u=Am(e),d=Sm(u),f=is(e),m=a==="y",v=r.x+r.width/2-o.width/2,w=r.y+r.height/2-o.height/2,T=r[d]/2-o[d]/2;let C;switch(f){case"top":C={x:v,y:r.y-o.height};break;case"bottom":C={x:v,y:r.y+r.height};break;case"right":C={x:r.x+r.width,y:w};break;case"left":C={x:r.x-o.width,y:w};break;default:C={x:r.x,y:r.y}}switch(ya(e)){case"start":C[u]-=T*(t&&m?-1:1);break;case"end":C[u]+=T*(t&&m?-1:1);break}return C}const AP=async(n,e,t)=>{const{placement:r="bottom",strategy:o="absolute",middleware:a=[],platform:u}=t,d=a.filter(Boolean),f=await(u.isRTL==null?void 0:u.isRTL(e));let m=await u.getElementRects({reference:n,floating:e,strategy:o}),{x:v,y:w}=C_(m,r,f),T=r,C={},O=0;for(let x=0;x<d.length;x++){const{name:S,fn:z}=d[x],{x:H,y:K,data:X,reset:ne}=await z({x:v,y:w,initialPlacement:r,placement:T,strategy:o,middlewareData:C,rects:m,platform:u,elements:{reference:n,floating:e}});v=H??v,w=K??w,C={...C,[S]:{...C[S],...X}},ne&&O<=50&&(O++,typeof ne=="object"&&(ne.placement&&(T=ne.placement),ne.rects&&(m=ne.rects===!0?await u.getElementRects({reference:n,floating:e,strategy:o}):ne.rects),{x:v,y:w}=C_(m,T,f)),x=-1)}return{x:v,y:w,placement:T,strategy:o,middlewareData:C}};async function jl(n,e){var t;e===void 0&&(e={});const{x:r,y:o,platform:a,rects:u,elements:d,strategy:f}=n,{boundary:m="clippingAncestors",rootBoundary:v="viewport",elementContext:w="floating",altBoundary:T=!1,padding:C=0}=ss(e,n),O=CT(C),S=d[T?w==="floating"?"reference":"floating":w],z=ah(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(S)))==null||t?S:S.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(d.floating)),boundary:m,rootBoundary:v,strategy:f})),H=w==="floating"?{x:r,y:o,width:u.floating.width,height:u.floating.height}:u.reference,K=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d.floating)),X=await(a.isElement==null?void 0:a.isElement(K))?await(a.getScale==null?void 0:a.getScale(K))||{x:1,y:1}:{x:1,y:1},ne=ah(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:H,offsetParent:K,strategy:f}):H);return{top:(z.top-ne.top+O.top)/X.y,bottom:(ne.bottom-z.bottom+O.bottom)/X.y,left:(z.left-ne.left+O.left)/X.x,right:(ne.right-z.right+O.right)/X.x}}const CP=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:o,rects:a,platform:u,elements:d,middlewareData:f}=e,{element:m,padding:v=0}=ss(n,e)||{};if(m==null)return{};const w=CT(v),T={x:t,y:r},C=Am(o),O=Sm(C),x=await u.getDimensions(m),S=C==="y",z=S?"top":"left",H=S?"bottom":"right",K=S?"clientHeight":"clientWidth",X=a.reference[O]+a.reference[C]-T[C]-a.floating[O],ne=T[C]-a.reference[C],se=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m));let b=se?se[K]:0;(!b||!await(u.isElement==null?void 0:u.isElement(se)))&&(b=d.floating[K]||a.floating[O]);const P=X/2-ne/2,N=b/2-x[O]/2-1,M=ni(w[z],N),V=ni(w[H],N),L=M,k=b-x[O]-V,oe=b/2-x[O]/2+P,Re=bp(L,oe,k),Ee=!f.arrow&&ya(o)!=null&&oe!==Re&&a.reference[O]/2-(oe<L?M:V)-x[O]/2<0,ve=Ee?oe<L?oe-L:oe-k:0;return{[C]:T[C]+ve,data:{[C]:Re,centerOffset:oe-Re-ve,...Ee&&{alignmentOffset:ve}},reset:Ee}}}),RP=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:o,middlewareData:a,rects:u,initialPlacement:d,platform:f,elements:m}=e,{mainAxis:v=!0,crossAxis:w=!0,fallbackPlacements:T,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:O="none",flipAlignment:x=!0,...S}=ss(n,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const z=is(o),H=Er(d),K=is(d)===d,X=await(f.isRTL==null?void 0:f.isRTL(m.floating)),ne=T||(K||!x?[oh(d)]:_P(d)),se=O!=="none";!T&&se&&ne.push(...IP(d,x,O,X));const b=[d,...ne],P=await jl(e,S),N=[];let M=((r=a.flip)==null?void 0:r.overflows)||[];if(v&&N.push(P[z]),w){const oe=vP(o,u,X);N.push(P[oe[0]],P[oe[1]])}if(M=[...M,{placement:o,overflows:N}],!N.every(oe=>oe<=0)){var V,L;const oe=(((V=a.flip)==null?void 0:V.index)||0)+1,Re=b[oe];if(Re&&(!(w==="alignment"?H!==Er(Re):!1)||M.every(Y=>Er(Y.placement)===H?Y.overflows[0]>0:!0)))return{data:{index:oe,overflows:M},reset:{placement:Re}};let Ee=(L=M.filter(ve=>ve.overflows[0]<=0).sort((ve,Y)=>ve.overflows[1]-Y.overflows[1])[0])==null?void 0:L.placement;if(!Ee)switch(C){case"bestFit":{var k;const ve=(k=M.filter(Y=>{if(se){const ce=Er(Y.placement);return ce===H||ce==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(ce=>ce>0).reduce((ce,ae)=>ce+ae,0)]).sort((Y,ce)=>Y[1]-ce[1])[0])==null?void 0:k[0];ve&&(Ee=ve);break}case"initialPlacement":Ee=d;break}if(o!==Ee)return{reset:{placement:Ee}}}return{}}}};function R_(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function x_(n){return pP.some(e=>n[e]>=0)}const xP=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...o}=ss(n,e);switch(r){case"referenceHidden":{const a=await jl(e,{...o,elementContext:"reference"}),u=R_(a,t.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:x_(u)}}}case"escaped":{const a=await jl(e,{...o,altBoundary:!0}),u=R_(a,t.floating);return{data:{escapedOffsets:u,escaped:x_(u)}}}default:return{}}}}},RT=new Set(["left","top"]);async function PP(n,e){const{placement:t,platform:r,elements:o}=n,a=await(r.isRTL==null?void 0:r.isRTL(o.floating)),u=is(t),d=ya(t),f=Er(t)==="y",m=RT.has(u)?-1:1,v=a&&f?-1:1,w=ss(e,n);let{mainAxis:T,crossAxis:C,alignmentAxis:O}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return d&&typeof O=="number"&&(C=d==="end"?O*-1:O),f?{x:C*v,y:T*m}:{x:T*m,y:C*v}}const kP=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:o,y:a,placement:u,middlewareData:d}=e,f=await PP(e,n);return u===((t=d.offset)==null?void 0:t.placement)&&(r=d.arrow)!=null&&r.alignmentOffset?{}:{x:o+f.x,y:a+f.y,data:{...f,placement:u}}}}},bP=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:o}=e,{mainAxis:a=!0,crossAxis:u=!1,limiter:d={fn:S=>{let{x:z,y:H}=S;return{x:z,y:H}}},...f}=ss(n,e),m={x:t,y:r},v=await jl(e,f),w=Er(is(o)),T=Im(w);let C=m[T],O=m[w];if(a){const S=T==="y"?"top":"left",z=T==="y"?"bottom":"right",H=C+v[S],K=C-v[z];C=bp(H,C,K)}if(u){const S=w==="y"?"top":"left",z=w==="y"?"bottom":"right",H=O+v[S],K=O-v[z];O=bp(H,O,K)}const x=d.fn({...e,[T]:C,[w]:O});return{...x,data:{x:x.x-t,y:x.y-r,enabled:{[T]:a,[w]:u}}}}}},NP=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:o,rects:a,middlewareData:u}=e,{offset:d=0,mainAxis:f=!0,crossAxis:m=!0}=ss(n,e),v={x:t,y:r},w=Er(o),T=Im(w);let C=v[T],O=v[w];const x=ss(d,e),S=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(f){const K=T==="y"?"height":"width",X=a.reference[T]-a.floating[K]+S.mainAxis,ne=a.reference[T]+a.reference[K]-S.mainAxis;C<X?C=X:C>ne&&(C=ne)}if(m){var z,H;const K=T==="y"?"width":"height",X=RT.has(is(o)),ne=a.reference[w]-a.floating[K]+(X&&((z=u.offset)==null?void 0:z[w])||0)+(X?0:S.crossAxis),se=a.reference[w]+a.reference[K]+(X?0:((H=u.offset)==null?void 0:H[w])||0)-(X?S.crossAxis:0);O<ne?O=ne:O>se&&(O=se)}return{[T]:C,[w]:O}}}},DP=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:o,rects:a,platform:u,elements:d}=e,{apply:f=()=>{},...m}=ss(n,e),v=await jl(e,m),w=is(o),T=ya(o),C=Er(o)==="y",{width:O,height:x}=a.floating;let S,z;w==="top"||w==="bottom"?(S=w,z=T===(await(u.isRTL==null?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(z=w,S=T==="end"?"top":"bottom");const H=x-v.top-v.bottom,K=O-v.left-v.right,X=ni(x-v[S],H),ne=ni(O-v[z],K),se=!e.middlewareData.shift;let b=X,P=ne;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(P=K),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(b=H),se&&!T){const M=_n(v.left,0),V=_n(v.right,0),L=_n(v.top,0),k=_n(v.bottom,0);C?P=O-2*(M!==0||V!==0?M+V:_n(v.left,v.right)):b=x-2*(L!==0||k!==0?L+k:_n(v.top,v.bottom))}await f({...e,availableWidth:P,availableHeight:b});const N=await u.getDimensions(d.floating);return O!==N.width||x!==N.height?{reset:{rects:!0}}:{}}}};function jh(){return typeof window<"u"}function va(n){return xT(n)?(n.nodeName||"").toLowerCase():"#document"}function En(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Dr(n){var e;return(e=(xT(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function xT(n){return jh()?n instanceof Node||n instanceof En(n).Node:!1}function Yn(n){return jh()?n instanceof Element||n instanceof En(n).Element:!1}function xr(n){return jh()?n instanceof HTMLElement||n instanceof En(n).HTMLElement:!1}function P_(n){return!jh()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof En(n).ShadowRoot}const OP=new Set(["inline","contents"]);function eu(n){const{overflow:e,overflowX:t,overflowY:r,display:o}=Xn(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!OP.has(o)}const VP=new Set(["table","td","th"]);function MP(n){return VP.has(va(n))}const LP=[":popover-open",":modal"];function Uh(n){return LP.some(e=>{try{return n.matches(e)}catch{return!1}})}const FP=["transform","translate","scale","rotate","perspective"],jP=["transform","translate","scale","rotate","perspective","filter"],UP=["paint","layout","strict","content"];function Cm(n){const e=Rm(),t=Yn(n)?Xn(n):n;return FP.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||jP.some(r=>(t.willChange||"").includes(r))||UP.some(r=>(t.contain||"").includes(r))}function zP(n){let e=ri(n);for(;xr(e)&&!aa(e);){if(Cm(e))return e;if(Uh(e))return null;e=ri(e)}return null}function Rm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const $P=new Set(["html","body","#document"]);function aa(n){return $P.has(va(n))}function Xn(n){return En(n).getComputedStyle(n)}function zh(n){return Yn(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function ri(n){if(va(n)==="html")return n;const e=n.assignedSlot||n.parentNode||P_(n)&&n.host||Dr(n);return P_(e)?e.host:e}function PT(n){const e=ri(n);return aa(e)?n.ownerDocument?n.ownerDocument.body:n.body:xr(e)&&eu(e)?e:PT(e)}function Ul(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const o=PT(n),a=o===((r=n.ownerDocument)==null?void 0:r.body),u=En(o);if(a){const d=Dp(u);return e.concat(u,u.visualViewport||[],eu(o)?o:[],d&&t?Ul(d):[])}return e.concat(o,Ul(o,[],t))}function Dp(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function kT(n){const e=Xn(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=xr(n),a=o?n.offsetWidth:t,u=o?n.offsetHeight:r,d=ih(t)!==a||ih(r)!==u;return d&&(t=a,r=u),{width:t,height:r,$:d}}function xm(n){return Yn(n)?n:n.contextElement}function ea(n){const e=xm(n);if(!xr(e))return Tr(1);const t=e.getBoundingClientRect(),{width:r,height:o,$:a}=kT(e);let u=(a?ih(t.width):t.width)/r,d=(a?ih(t.height):t.height)/o;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const BP=Tr(0);function bT(n){const e=En(n);return!Rm()||!e.visualViewport?BP:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function qP(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==En(n)?!1:e}function Qi(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const o=n.getBoundingClientRect(),a=xm(n);let u=Tr(1);e&&(r?Yn(r)&&(u=ea(r)):u=ea(n));const d=qP(a,t,r)?bT(a):Tr(0);let f=(o.left+d.x)/u.x,m=(o.top+d.y)/u.y,v=o.width/u.x,w=o.height/u.y;if(a){const T=En(a),C=r&&Yn(r)?En(r):r;let O=T,x=Dp(O);for(;x&&r&&C!==O;){const S=ea(x),z=x.getBoundingClientRect(),H=Xn(x),K=z.left+(x.clientLeft+parseFloat(H.paddingLeft))*S.x,X=z.top+(x.clientTop+parseFloat(H.paddingTop))*S.y;f*=S.x,m*=S.y,v*=S.x,w*=S.y,f+=K,m+=X,O=En(x),x=Dp(O)}}return ah({width:v,height:w,x:f,y:m})}function $h(n,e){const t=zh(n).scrollLeft;return e?e.left+t:Qi(Dr(n)).left+t}function NT(n,e){const t=n.getBoundingClientRect(),r=t.left+e.scrollLeft-$h(n,t),o=t.top+e.scrollTop;return{x:r,y:o}}function HP(n){let{elements:e,rect:t,offsetParent:r,strategy:o}=n;const a=o==="fixed",u=Dr(r),d=e?Uh(e.floating):!1;if(r===u||d&&a)return t;let f={scrollLeft:0,scrollTop:0},m=Tr(1);const v=Tr(0),w=xr(r);if((w||!w&&!a)&&((va(r)!=="body"||eu(u))&&(f=zh(r)),xr(r))){const C=Qi(r);m=ea(r),v.x=C.x+r.clientLeft,v.y=C.y+r.clientTop}const T=u&&!w&&!a?NT(u,f):Tr(0);return{width:t.width*m.x,height:t.height*m.y,x:t.x*m.x-f.scrollLeft*m.x+v.x+T.x,y:t.y*m.y-f.scrollTop*m.y+v.y+T.y}}function WP(n){return Array.from(n.getClientRects())}function GP(n){const e=Dr(n),t=zh(n),r=n.ownerDocument.body,o=_n(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=_n(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let u=-t.scrollLeft+$h(n);const d=-t.scrollTop;return Xn(r).direction==="rtl"&&(u+=_n(e.clientWidth,r.clientWidth)-o),{width:o,height:a,x:u,y:d}}const k_=25;function KP(n,e){const t=En(n),r=Dr(n),o=t.visualViewport;let a=r.clientWidth,u=r.clientHeight,d=0,f=0;if(o){a=o.width,u=o.height;const v=Rm();(!v||v&&e==="fixed")&&(d=o.offsetLeft,f=o.offsetTop)}const m=$h(r);if(m<=0){const v=r.ownerDocument,w=v.body,T=getComputedStyle(w),C=v.compatMode==="CSS1Compat"&&parseFloat(T.marginLeft)+parseFloat(T.marginRight)||0,O=Math.abs(r.clientWidth-w.clientWidth-C);O<=k_&&(a-=O)}else m<=k_&&(a+=m);return{width:a,height:u,x:d,y:f}}const QP=new Set(["absolute","fixed"]);function YP(n,e){const t=Qi(n,!0,e==="fixed"),r=t.top+n.clientTop,o=t.left+n.clientLeft,a=xr(n)?ea(n):Tr(1),u=n.clientWidth*a.x,d=n.clientHeight*a.y,f=o*a.x,m=r*a.y;return{width:u,height:d,x:f,y:m}}function b_(n,e,t){let r;if(e==="viewport")r=KP(n,t);else if(e==="document")r=GP(Dr(n));else if(Yn(e))r=YP(e,t);else{const o=bT(n);r={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return ah(r)}function DT(n,e){const t=ri(n);return t===e||!Yn(t)||aa(t)?!1:Xn(t).position==="fixed"||DT(t,e)}function XP(n,e){const t=e.get(n);if(t)return t;let r=Ul(n,[],!1).filter(d=>Yn(d)&&va(d)!=="body"),o=null;const a=Xn(n).position==="fixed";let u=a?ri(n):n;for(;Yn(u)&&!aa(u);){const d=Xn(u),f=Cm(u);!f&&d.position==="fixed"&&(o=null),(a?!f&&!o:!f&&d.position==="static"&&!!o&&QP.has(o.position)||eu(u)&&!f&&DT(n,u))?r=r.filter(v=>v!==u):o=d,u=ri(u)}return e.set(n,r),r}function JP(n){let{element:e,boundary:t,rootBoundary:r,strategy:o}=n;const u=[...t==="clippingAncestors"?Uh(e)?[]:XP(e,this._c):[].concat(t),r],d=u[0],f=u.reduce((m,v)=>{const w=b_(e,v,o);return m.top=_n(w.top,m.top),m.right=ni(w.right,m.right),m.bottom=ni(w.bottom,m.bottom),m.left=_n(w.left,m.left),m},b_(e,d,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function ZP(n){const{width:e,height:t}=kT(n);return{width:e,height:t}}function e1(n,e,t){const r=xr(e),o=Dr(e),a=t==="fixed",u=Qi(n,!0,a,e);let d={scrollLeft:0,scrollTop:0};const f=Tr(0);function m(){f.x=$h(o)}if(r||!r&&!a)if((va(e)!=="body"||eu(o))&&(d=zh(e)),r){const C=Qi(e,!0,a,e);f.x=C.x+e.clientLeft,f.y=C.y+e.clientTop}else o&&m();a&&!r&&o&&m();const v=o&&!r&&!a?NT(o,d):Tr(0),w=u.left+d.scrollLeft-f.x-v.x,T=u.top+d.scrollTop-f.y-v.y;return{x:w,y:T,width:u.width,height:u.height}}function np(n){return Xn(n).position==="static"}function N_(n,e){if(!xr(n)||Xn(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Dr(n)===t&&(t=t.ownerDocument.body),t}function OT(n,e){const t=En(n);if(Uh(n))return t;if(!xr(n)){let o=ri(n);for(;o&&!aa(o);){if(Yn(o)&&!np(o))return o;o=ri(o)}return t}let r=N_(n,e);for(;r&&MP(r)&&np(r);)r=N_(r,e);return r&&aa(r)&&np(r)&&!Cm(r)?t:r||zP(n)||t}const t1=async function(n){const e=this.getOffsetParent||OT,t=this.getDimensions,r=await t(n.floating);return{reference:e1(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function n1(n){return Xn(n).direction==="rtl"}const r1={convertOffsetParentRelativeRectToViewportRelativeRect:HP,getDocumentElement:Dr,getClippingRect:JP,getOffsetParent:OT,getElementRects:t1,getClientRects:WP,getDimensions:ZP,getScale:ea,isElement:Yn,isRTL:n1};function VT(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function s1(n,e){let t=null,r;const o=Dr(n);function a(){var d;clearTimeout(r),(d=t)==null||d.disconnect(),t=null}function u(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),a();const m=n.getBoundingClientRect(),{left:v,top:w,width:T,height:C}=m;if(d||e(),!T||!C)return;const O=Dc(w),x=Dc(o.clientWidth-(v+T)),S=Dc(o.clientHeight-(w+C)),z=Dc(v),K={rootMargin:-O+"px "+-x+"px "+-S+"px "+-z+"px",threshold:_n(0,ni(1,f))||1};let X=!0;function ne(se){const b=se[0].intersectionRatio;if(b!==f){if(!X)return u();b?u(!1,b):r=setTimeout(()=>{u(!1,1e-7)},1e3)}b===1&&!VT(m,n.getBoundingClientRect())&&u(),X=!1}try{t=new IntersectionObserver(ne,{...K,root:o.ownerDocument})}catch{t=new IntersectionObserver(ne,K)}t.observe(n)}return u(!0),a}function i1(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,m=xm(n),v=o||a?[...m?Ul(m):[],...Ul(e)]:[];v.forEach(z=>{o&&z.addEventListener("scroll",t,{passive:!0}),a&&z.addEventListener("resize",t)});const w=m&&d?s1(m,t):null;let T=-1,C=null;u&&(C=new ResizeObserver(z=>{let[H]=z;H&&H.target===m&&C&&(C.unobserve(e),cancelAnimationFrame(T),T=requestAnimationFrame(()=>{var K;(K=C)==null||K.observe(e)})),t()}),m&&!f&&C.observe(m),C.observe(e));let O,x=f?Qi(n):null;f&&S();function S(){const z=Qi(n);x&&!VT(x,z)&&t(),x=z,O=requestAnimationFrame(S)}return t(),()=>{var z;v.forEach(H=>{o&&H.removeEventListener("scroll",t),a&&H.removeEventListener("resize",t)}),w?.(),(z=C)==null||z.disconnect(),C=null,f&&cancelAnimationFrame(O)}}const o1=kP,a1=bP,l1=RP,u1=DP,c1=xP,D_=CP,h1=NP,d1=(n,e,t)=>{const r=new Map,o={platform:r1,...t},a={...o.platform,_c:r};return AP(n,e,{...o,platform:a})};var f1=typeof document<"u",p1=function(){},Wc=f1?A.useLayoutEffect:p1;function lh(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,o;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!lh(n[r],e[r]))return!1;return!0}if(o=Object.keys(n),t=o.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,o[r]))return!1;for(r=t;r--!==0;){const a=o[r];if(!(a==="_owner"&&n.$$typeof)&&!lh(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function MT(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function O_(n,e){const t=MT(n);return Math.round(e*t)/t}function rp(n){const e=A.useRef(n);return Wc(()=>{e.current=n}),e}function m1(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:o,elements:{reference:a,floating:u}={},transform:d=!0,whileElementsMounted:f,open:m}=n,[v,w]=A.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[T,C]=A.useState(r);lh(T,r)||C(r);const[O,x]=A.useState(null),[S,z]=A.useState(null),H=A.useCallback(Y=>{Y!==se.current&&(se.current=Y,x(Y))},[]),K=A.useCallback(Y=>{Y!==b.current&&(b.current=Y,z(Y))},[]),X=a||O,ne=u||S,se=A.useRef(null),b=A.useRef(null),P=A.useRef(v),N=f!=null,M=rp(f),V=rp(o),L=rp(m),k=A.useCallback(()=>{if(!se.current||!b.current)return;const Y={placement:e,strategy:t,middleware:T};V.current&&(Y.platform=V.current),d1(se.current,b.current,Y).then(ce=>{const ae={...ce,isPositioned:L.current!==!1};oe.current&&!lh(P.current,ae)&&(P.current=ae,Oh.flushSync(()=>{w(ae)}))})},[T,e,t,V,L]);Wc(()=>{m===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,w(Y=>({...Y,isPositioned:!1})))},[m]);const oe=A.useRef(!1);Wc(()=>(oe.current=!0,()=>{oe.current=!1}),[]),Wc(()=>{if(X&&(se.current=X),ne&&(b.current=ne),X&&ne){if(M.current)return M.current(X,ne,k);k()}},[X,ne,k,M,N]);const Re=A.useMemo(()=>({reference:se,floating:b,setReference:H,setFloating:K}),[H,K]),Ee=A.useMemo(()=>({reference:X,floating:ne}),[X,ne]),ve=A.useMemo(()=>{const Y={position:t,left:0,top:0};if(!Ee.floating)return Y;const ce=O_(Ee.floating,v.x),ae=O_(Ee.floating,v.y);return d?{...Y,transform:"translate("+ce+"px, "+ae+"px)",...MT(Ee.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ce,top:ae}},[t,d,Ee.floating,v.x,v.y]);return A.useMemo(()=>({...v,update:k,refs:Re,elements:Ee,floatingStyles:ve}),[v,k,Re,Ee,ve])}const g1=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:o}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?D_({element:r.current,padding:o}).fn(t):{}:r?D_({element:r,padding:o}).fn(t):{}}}},y1=(n,e)=>({...o1(n),options:[n,e]}),v1=(n,e)=>({...a1(n),options:[n,e]}),_1=(n,e)=>({...h1(n),options:[n,e]}),w1=(n,e)=>({...l1(n),options:[n,e]}),E1=(n,e)=>({...u1(n),options:[n,e]}),T1=(n,e)=>({...c1(n),options:[n,e]}),I1=(n,e)=>({...g1(n),options:[n,e]});var S1="Arrow",LT=A.forwardRef((n,e)=>{const{children:t,width:r=10,height:o=5,...a}=n;return R.jsx(Jt.svg,{...a,ref:e,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:R.jsx("polygon",{points:"0,0 30,0 15,10"})})});LT.displayName=S1;var A1=LT;function C1(n){const[e,t]=A.useState(void 0);return rs(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let u,d;if("borderBoxSize"in a){const f=a.borderBoxSize,m=Array.isArray(f)?f[0]:f;u=m.inlineSize,d=m.blockSize}else u=n.offsetWidth,d=n.offsetHeight;t({width:u,height:d})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var Pm="Popper",[FT,jT]=Vh(Pm),[R1,UT]=FT(Pm),zT=n=>{const{__scopePopper:e,children:t}=n,[r,o]=A.useState(null);return R.jsx(R1,{scope:e,anchor:r,onAnchorChange:o,children:t})};zT.displayName=Pm;var $T="PopperAnchor",BT=A.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...o}=n,a=UT($T,t),u=A.useRef(null),d=Qn(e,u),f=A.useRef(null);return A.useEffect(()=>{const m=f.current;f.current=r?.current||u.current,m!==f.current&&a.onAnchorChange(f.current)}),r?null:R.jsx(Jt.div,{...o,ref:d})});BT.displayName=$T;var km="PopperContent",[x1,P1]=FT(km),qT=A.forwardRef((n,e)=>{const{__scopePopper:t,side:r="bottom",sideOffset:o=0,align:a="center",alignOffset:u=0,arrowPadding:d=0,avoidCollisions:f=!0,collisionBoundary:m=[],collisionPadding:v=0,sticky:w="partial",hideWhenDetached:T=!1,updatePositionStrategy:C="optimized",onPlaced:O,...x}=n,S=UT(km,t),[z,H]=A.useState(null),K=Qn(e,Ve=>H(Ve)),[X,ne]=A.useState(null),se=C1(X),b=se?.width??0,P=se?.height??0,N=r+(a!=="center"?"-"+a:""),M=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},V=Array.isArray(m)?m:[m],L=V.length>0,k={padding:M,boundary:V.filter(b1),altBoundary:L},{refs:oe,floatingStyles:Re,placement:Ee,isPositioned:ve,middlewareData:Y}=m1({strategy:"fixed",placement:N,whileElementsMounted:(...Ve)=>i1(...Ve,{animationFrame:C==="always"}),elements:{reference:S.anchor},middleware:[y1({mainAxis:o+P,alignmentAxis:u}),f&&v1({mainAxis:!0,crossAxis:!1,limiter:w==="partial"?_1():void 0,...k}),f&&w1({...k}),E1({...k,apply:({elements:Ve,rects:Me,availableWidth:Ge,availableHeight:Pt})=>{const{width:hs,height:pi}=Me.reference,un=Ve.floating.style;un.setProperty("--radix-popper-available-width",`${Ge}px`),un.setProperty("--radix-popper-available-height",`${Pt}px`),un.setProperty("--radix-popper-anchor-width",`${hs}px`),un.setProperty("--radix-popper-anchor-height",`${pi}px`)}}),X&&I1({element:X,padding:d}),N1({arrowWidth:b,arrowHeight:P}),T&&T1({strategy:"referenceHidden",...k})]}),[ce,ae]=GT(Ee),U=ti(O);rs(()=>{ve&&U?.()},[ve,U]);const Z=Y.arrow?.x,Te=Y.arrow?.y,Se=Y.arrow?.centerOffset!==0,[Ne,De]=A.useState();return rs(()=>{z&&De(window.getComputedStyle(z).zIndex)},[z]),R.jsx("div",{ref:oe.setFloating,"data-radix-popper-content-wrapper":"",style:{...Re,transform:ve?Re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ne,"--radix-popper-transform-origin":[Y.transformOrigin?.x,Y.transformOrigin?.y].join(" "),...Y.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:R.jsx(x1,{scope:t,placedSide:ce,onArrowChange:ne,arrowX:Z,arrowY:Te,shouldHideArrow:Se,children:R.jsx(Jt.div,{"data-side":ce,"data-align":ae,...x,ref:K,style:{...x.style,animation:ve?void 0:"none"}})})})});qT.displayName=km;var HT="PopperArrow",k1={top:"bottom",right:"left",bottom:"top",left:"right"},WT=A.forwardRef(function(e,t){const{__scopePopper:r,...o}=e,a=P1(HT,r),u=k1[a.placedSide];return R.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:R.jsx(A1,{...o,ref:t,style:{...o.style,display:"block"}})})});WT.displayName=HT;function b1(n){return n!==null}var N1=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:r,middlewareData:o}=e,u=o.arrow?.centerOffset!==0,d=u?0:n.arrowWidth,f=u?0:n.arrowHeight,[m,v]=GT(t),w={start:"0%",center:"50%",end:"100%"}[v],T=(o.arrow?.x??0)+d/2,C=(o.arrow?.y??0)+f/2;let O="",x="";return m==="bottom"?(O=u?w:`${T}px`,x=`${-f}px`):m==="top"?(O=u?w:`${T}px`,x=`${r.floating.height+f}px`):m==="right"?(O=`${-f}px`,x=u?w:`${C}px`):m==="left"&&(O=`${r.floating.width+f}px`,x=u?w:`${C}px`),{data:{x:O,y:x}}}});function GT(n){const[e,t="center"]=n.split("-");return[e,t]}var D1=zT,O1=BT,V1=qT,M1=WT,[Bh]=Vh("Tooltip",[jT]),qh=jT(),KT="TooltipProvider",L1=700,Op="tooltip.open",[F1,bm]=Bh(KT),QT=n=>{const{__scopeTooltip:e,delayDuration:t=L1,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:a}=n,u=A.useRef(!0),d=A.useRef(!1),f=A.useRef(0);return A.useEffect(()=>{const m=f.current;return()=>window.clearTimeout(m)},[]),R.jsx(F1,{scope:e,isOpenDelayedRef:u,delayDuration:t,onOpen:A.useCallback(()=>{window.clearTimeout(f.current),u.current=!1},[]),onClose:A.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>u.current=!0,r)},[r]),isPointerInTransitRef:d,onPointerInTransitChange:A.useCallback(m=>{d.current=m},[]),disableHoverableContent:o,children:a})};QT.displayName=KT;var zl="Tooltip",[j1,Hh]=Bh(zl),YT=n=>{const{__scopeTooltip:e,children:t,open:r,defaultOpen:o,onOpenChange:a,disableHoverableContent:u,delayDuration:d}=n,f=bm(zl,n.__scopeTooltip),m=qh(e),[v,w]=A.useState(null),T=fP(),C=A.useRef(0),O=u??f.disableHoverableContent,x=d??f.delayDuration,S=A.useRef(!1),[z,H]=GE({prop:r,defaultProp:o??!1,onChange:b=>{b?(f.onOpen(),document.dispatchEvent(new CustomEvent(Op))):f.onClose(),a?.(b)},caller:zl}),K=A.useMemo(()=>z?S.current?"delayed-open":"instant-open":"closed",[z]),X=A.useCallback(()=>{window.clearTimeout(C.current),C.current=0,S.current=!1,H(!0)},[H]),ne=A.useCallback(()=>{window.clearTimeout(C.current),C.current=0,H(!1)},[H]),se=A.useCallback(()=>{window.clearTimeout(C.current),C.current=window.setTimeout(()=>{S.current=!0,H(!0),C.current=0},x)},[x,H]);return A.useEffect(()=>()=>{C.current&&(window.clearTimeout(C.current),C.current=0)},[]),R.jsx(D1,{...m,children:R.jsx(j1,{scope:e,contentId:T,open:z,stateAttribute:K,trigger:v,onTriggerChange:w,onTriggerEnter:A.useCallback(()=>{f.isOpenDelayedRef.current?se():X()},[f.isOpenDelayedRef,se,X]),onTriggerLeave:A.useCallback(()=>{O?ne():(window.clearTimeout(C.current),C.current=0)},[ne,O]),onOpen:X,onClose:ne,disableHoverableContent:O,children:t})})};YT.displayName=zl;var Vp="TooltipTrigger",XT=A.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,o=Hh(Vp,t),a=bm(Vp,t),u=qh(t),d=A.useRef(null),f=Qn(e,d,o.onTriggerChange),m=A.useRef(!1),v=A.useRef(!1),w=A.useCallback(()=>m.current=!1,[]);return A.useEffect(()=>()=>document.removeEventListener("pointerup",w),[w]),R.jsx(O1,{asChild:!0,...u,children:R.jsx(Jt.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:f,onPointerMove:Tt(n.onPointerMove,T=>{T.pointerType!=="touch"&&!v.current&&!a.isPointerInTransitRef.current&&(o.onTriggerEnter(),v.current=!0)}),onPointerLeave:Tt(n.onPointerLeave,()=>{o.onTriggerLeave(),v.current=!1}),onPointerDown:Tt(n.onPointerDown,()=>{o.open&&o.onClose(),m.current=!0,document.addEventListener("pointerup",w,{once:!0})}),onFocus:Tt(n.onFocus,()=>{m.current||o.onOpen()}),onBlur:Tt(n.onBlur,o.onClose),onClick:Tt(n.onClick,o.onClose)})})});XT.displayName=Vp;var U1="TooltipPortal",[EF,z1]=Bh(U1,{forceMount:void 0}),la="TooltipContent",JT=A.forwardRef((n,e)=>{const t=z1(la,n.__scopeTooltip),{forceMount:r=t.forceMount,side:o="top",...a}=n,u=Hh(la,n.__scopeTooltip);return R.jsx(ym,{present:r||u.open,children:u.disableHoverableContent?R.jsx(ZT,{side:o,...a,ref:e}):R.jsx($1,{side:o,...a,ref:e})})}),$1=A.forwardRef((n,e)=>{const t=Hh(la,n.__scopeTooltip),r=bm(la,n.__scopeTooltip),o=A.useRef(null),a=Qn(e,o),[u,d]=A.useState(null),{trigger:f,onClose:m}=t,v=o.current,{onPointerInTransitChange:w}=r,T=A.useCallback(()=>{d(null),w(!1)},[w]),C=A.useCallback((O,x)=>{const S=O.currentTarget,z={x:O.clientX,y:O.clientY},H=G1(z,S.getBoundingClientRect()),K=K1(z,H),X=Q1(x.getBoundingClientRect()),ne=X1([...K,...X]);d(ne),w(!0)},[w]);return A.useEffect(()=>()=>T(),[T]),A.useEffect(()=>{if(f&&v){const O=S=>C(S,v),x=S=>C(S,f);return f.addEventListener("pointerleave",O),v.addEventListener("pointerleave",x),()=>{f.removeEventListener("pointerleave",O),v.removeEventListener("pointerleave",x)}}},[f,v,C,T]),A.useEffect(()=>{if(u){const O=x=>{const S=x.target,z={x:x.clientX,y:x.clientY},H=f?.contains(S)||v?.contains(S),K=!Y1(z,u);H?T():K&&(T(),m())};return document.addEventListener("pointermove",O),()=>document.removeEventListener("pointermove",O)}},[f,v,u,m,T]),R.jsx(ZT,{...n,ref:a})}),[B1,q1]=Bh(zl,{isInside:!1}),H1=OR("TooltipContent"),ZT=A.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":o,onEscapeKeyDown:a,onPointerDownOutside:u,...d}=n,f=Hh(la,t),m=qh(t),{onClose:v}=f;return A.useEffect(()=>(document.addEventListener(Op,v),()=>document.removeEventListener(Op,v)),[v]),A.useEffect(()=>{if(f.trigger){const w=T=>{T.target?.contains(f.trigger)&&v()};return window.addEventListener("scroll",w,{capture:!0}),()=>window.removeEventListener("scroll",w,{capture:!0})}},[f.trigger,v]),R.jsx(gm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:w=>w.preventDefault(),onDismiss:v,children:R.jsxs(V1,{"data-state":f.stateAttribute,...m,...d,ref:e,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[R.jsx(H1,{children:r}),R.jsx(B1,{scope:t,isInside:!0,children:R.jsx(sx,{id:f.contentId,role:"tooltip",children:o||r})})]})})});JT.displayName=la;var e0="TooltipArrow",W1=A.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,o=qh(t);return q1(e0,t).isInside?null:R.jsx(M1,{...o,...r,ref:e})});W1.displayName=e0;function G1(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),o=Math.abs(e.right-n.x),a=Math.abs(e.left-n.x);switch(Math.min(t,r,o,a)){case a:return"left";case o:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function K1(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function Q1(n){const{top:e,right:t,bottom:r,left:o}=n;return[{x:o,y:e},{x:t,y:e},{x:t,y:r},{x:o,y:r}]}function Y1(n,e){const{x:t,y:r}=n;let o=!1;for(let a=0,u=e.length-1;a<e.length;u=a++){const d=e[a],f=e[u],m=d.x,v=d.y,w=f.x,T=f.y;v>r!=T>r&&t<(w-m)*(r-v)/(T-v)+m&&(o=!o)}return o}function X1(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),J1(e)}function J1(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const o=n[r];for(;e.length>=2;){const a=e[e.length-1],u=e[e.length-2];if((a.x-u.x)*(o.y-u.y)>=(a.y-u.y)*(o.x-u.x))e.pop();else break}e.push(o)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const o=n[r];for(;t.length>=2;){const a=t[t.length-1],u=t[t.length-2];if((a.x-u.x)*(o.y-u.y)>=(a.y-u.y)*(o.x-u.x))t.pop();else break}t.push(o)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var Z1=QT,ek=YT,tk=XT,t0=JT;const n0=Z1,Oc=ek,Vc=tk,Al=A.forwardRef(({className:n,sideOffset:e=4,...t},r)=>R.jsx(t0,{ref:r,sideOffset:e,className:xt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",n),...t}));Al.displayName=t0.displayName;const nk=A.createContext(void 0);function rk({children:n}){const[e,t]=A.useState(()=>typeof window<"u"&&localStorage.getItem("theme")||"light");A.useEffect(()=>{const o=document.documentElement;o.classList.remove("light","dark"),o.classList.add(e),localStorage.setItem("theme",e)},[e]);const r=()=>{t(o=>o==="light"?"dark":"light")};return R.jsx(nk.Provider,{value:{theme:e,setTheme:t,toggleTheme:r},children:n})}const sk=()=>{};var V_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},ik=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],d=n[t++],f=((o&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},s0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,d=u?n[o+1]:0,f=o+2<n.length,m=f?n[o+2]:0,v=a>>2,w=(a&3)<<4|d>>4;let T=(d&15)<<2|m>>6,C=m&63;f||(C=64,u||(T=64)),r.push(t[v],t[w],t[T],t[C])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(r0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):ik(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||d==null||m==null||w==null)throw new ok;const T=a<<2|d>>4;if(r.push(T),m!==64){const C=d<<4&240|m>>2;if(r.push(C),w!==64){const O=m<<6&192|w;r.push(O)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ok extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ak=function(n){const e=r0(n);return s0.encodeByteArray(e,!0)},uh=function(n){return ak(n).replace(/\./g,"")},i0=function(n){try{return s0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk=()=>lk().__FIREBASE_DEFAULTS__,ck=()=>{if(typeof process>"u"||typeof V_>"u")return;const n=V_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},hk=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&i0(n[1]);return e&&JSON.parse(e)},Wh=()=>{try{return sk()||uk()||ck()||hk()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},o0=n=>Wh()?.emulatorHosts?.[n],dk=n=>{const e=o0(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},a0=()=>Wh()?.config,l0=n=>Wh()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _a(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function u0(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[uh(JSON.stringify(t)),uh(JSON.stringify(u)),""].join(".")}const bl={};function mk(){const n={prod:[],emulator:[]};for(const e of Object.keys(bl))bl[e]?n.emulator.push(e):n.prod.push(e);return n}function gk(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let M_=!1;function c0(n,e){if(typeof window>"u"||typeof document>"u"||!_a(window.location.host)||bl[n]===e||bl[n]||M_)return;bl[n]=e;function t(T){return`__firebase__banner__${T}`}const r="__firebase__banner",a=mk().prod.length>0;function u(){const T=document.getElementById(r);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function f(T,C){T.setAttribute("width","24"),T.setAttribute("id",C),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function m(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{M_=!0,u()},T}function v(T,C){T.setAttribute("id",C),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function w(){const T=gk(r),C=t("text"),O=document.getElementById(C)||document.createElement("span"),x=t("learnmore"),S=document.getElementById(x)||document.createElement("a"),z=t("preprendIcon"),H=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const K=T.element;d(K),v(S,x);const X=m();f(H,z),K.append(H,O,S,X),document.body.appendChild(K)}a?(O.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function vk(){const n=Wh()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _k(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function h0(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function wk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ek(){const n=Wt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Tk(){return!vk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function d0(){try{return typeof indexedDB=="object"}catch{return!1}}function f0(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}function Ik(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk="FirebaseError";class er extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Sk,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,to.prototype.create)}}class to{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?Ak(a,r):"Error",d=`${this.serviceName}: ${u} (${o}).`;return new er(o,d,r)}}function Ak(n,e){return n.replace(Ck,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const Ck=/\{\$([^}]+)}/g;function Rk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function si(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const a=n[o],u=e[o];if(L_(a)&&L_(u)){if(!si(a,u))return!1}else if(a!==u)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function L_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xk(n,e){const t=new Pk(n,e);return t.subscribe.bind(t)}class Pk{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");kk(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=sp),o.error===void 0&&(o.error=sp),o.complete===void 0&&(o.complete=sp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kk(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function sp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=1e3,Nk=2,Dk=14400*1e3,Ok=.5;function F_(n,e=bk,t=Nk){const r=e*Math.pow(t,n),o=Math.round(Ok*r*(Math.random()-.5)*2);return Math.min(Dk,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(n){return n&&n._delegate?n._delegate:n}class Jn{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new fk;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Lk(e))try{this.getOrInitializeService({instanceIdentifier:Bi})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=Bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bi){return this.instances.has(e)}getOptions(e=Bi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&u.resolve(o)}return o}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Mk(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bi){return this.component?this.component.multipleInstances?e:Bi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Mk(n){return n===Bi?void 0:n}function Lk(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Vk(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Le||(Le={}));const jk={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},Uk=Le.INFO,zk={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},$k=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=zk[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gh{constructor(e){this.name=e,this._logLevel=Uk,this._logHandler=$k,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const Bk=(n,e)=>e.some(t=>n instanceof t);let j_,U_;function qk(){return j_||(j_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Hk(){return U_||(U_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p0=new WeakMap,Mp=new WeakMap,m0=new WeakMap,ip=new WeakMap,Nm=new WeakMap;function Wk(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Ys(n.result)),o()},u=()=>{r(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&p0.set(t,n)}).catch(()=>{}),Nm.set(e,n),e}function Gk(n){if(Mp.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Mp.set(n,e)}let Lp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Mp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||m0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ys(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Kk(n){Lp=n(Lp)}function Qk(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(op(this),e,...t);return m0.set(r,e.sort?e.sort():[e]),Ys(r)}:Hk().includes(n)?function(...e){return n.apply(op(this),e),Ys(p0.get(this))}:function(...e){return Ys(n.apply(op(this),e))}}function Yk(n){return typeof n=="function"?Qk(n):(n instanceof IDBTransaction&&Gk(n),Bk(n,qk())?new Proxy(n,Lp):n)}function Ys(n){if(n instanceof IDBRequest)return Wk(n);if(ip.has(n))return ip.get(n);const e=Yk(n);return e!==n&&(ip.set(n,e),Nm.set(e,n)),e}const op=n=>Nm.get(n);function g0(n,e,{blocked:t,upgrade:r,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),d=Ys(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Ys(u.result),f.oldVersion,f.newVersion,Ys(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const Xk=["get","getKey","getAll","getAllKeys","count"],Jk=["put","add","delete","clear"],ap=new Map;function z_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ap.get(e))return ap.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=Jk.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||Xk.includes(t)))return;const a=async function(u,...d){const f=this.transaction(u,o?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),o&&f.done]))[0]};return ap.set(e,a),a}Kk(n=>({...n,get:(e,t,r)=>z_(e,t)||n.get(e,t,r),has:(e,t)=>!!z_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(eb(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function eb(n){return n.getComponent()?.type==="VERSION"}const Fp="@firebase/app",$_="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os=new Gh("@firebase/app"),tb="@firebase/app-compat",nb="@firebase/analytics-compat",rb="@firebase/analytics",sb="@firebase/app-check-compat",ib="@firebase/app-check",ob="@firebase/auth",ab="@firebase/auth-compat",lb="@firebase/database",ub="@firebase/data-connect",cb="@firebase/database-compat",hb="@firebase/functions",db="@firebase/functions-compat",fb="@firebase/installations",pb="@firebase/installations-compat",mb="@firebase/messaging",gb="@firebase/messaging-compat",yb="@firebase/performance",vb="@firebase/performance-compat",_b="@firebase/remote-config",wb="@firebase/remote-config-compat",Eb="@firebase/storage",Tb="@firebase/storage-compat",Ib="@firebase/firestore",Sb="@firebase/ai",Ab="@firebase/firestore-compat",Cb="firebase",Rb="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="[DEFAULT]",xb={[Fp]:"fire-core",[tb]:"fire-core-compat",[rb]:"fire-analytics",[nb]:"fire-analytics-compat",[ib]:"fire-app-check",[sb]:"fire-app-check-compat",[ob]:"fire-auth",[ab]:"fire-auth-compat",[lb]:"fire-rtdb",[ub]:"fire-data-connect",[cb]:"fire-rtdb-compat",[hb]:"fire-fn",[db]:"fire-fn-compat",[fb]:"fire-iid",[pb]:"fire-iid-compat",[mb]:"fire-fcm",[gb]:"fire-fcm-compat",[yb]:"fire-perf",[vb]:"fire-perf-compat",[_b]:"fire-rc",[wb]:"fire-rc-compat",[Eb]:"fire-gcs",[Tb]:"fire-gcs-compat",[Ib]:"fire-fst",[Ab]:"fire-fst-compat",[Sb]:"fire-vertex","fire-js":"fire-js",[Cb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new Map,Pb=new Map,Up=new Map;function B_(n,e){try{n.container.addComponent(e)}catch(t){os.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Pr(n){const e=n.name;if(Up.has(e))return os.debug(`There were multiple attempts to register component ${e}.`),!1;Up.set(e,n);for(const t of ch.values())B_(t,n);for(const t of Pb.values())B_(t,n);return!0}function no(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Nn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xs=new to("app","Firebase",kb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=Rb;function y0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:jp,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Xs.create("bad-app-name",{appName:String(o)});if(t||(t=a0()),!t)throw Xs.create("no-options");const a=ch.get(o);if(a){if(si(t,a.options)&&si(r,a.config))return a;throw Xs.create("duplicate-app",{appName:o})}const u=new Fk(o);for(const f of Up.values())u.addComponent(f);const d=new bb(t,r,u);return ch.set(o,d),d}function Dm(n=jp){const e=ch.get(n);if(!e&&n===jp&&a0())return y0();if(!e)throw Xs.create("no-app",{appName:n});return e}function On(n,e,t){let r=xb[n]??n;t&&(r+=`-${t}`);const o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),os.warn(u.join(" "));return}Pr(new Jn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="firebase-heartbeat-database",Db=1,$l="firebase-heartbeat-store";let lp=null;function v0(){return lp||(lp=g0(Nb,Db,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore($l)}catch(t){console.warn(t)}}}}).catch(n=>{throw Xs.create("idb-open",{originalErrorMessage:n.message})})),lp}async function Ob(n){try{const t=(await v0()).transaction($l),r=await t.objectStore($l).get(_0(n));return await t.done,r}catch(e){if(e instanceof er)os.warn(e.message);else{const t=Xs.create("idb-get",{originalErrorMessage:e?.message});os.warn(t.message)}}}async function q_(n,e){try{const r=(await v0()).transaction($l,"readwrite");await r.objectStore($l).put(e,_0(n)),await r.done}catch(t){if(t instanceof er)os.warn(t.message);else{const r=Xs.create("idb-set",{originalErrorMessage:t?.message});os.warn(r.message)}}}function _0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb=1024,Mb=30;class Lb{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new jb(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=H_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>Mb){const o=Ub(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){os.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=H_(),{heartbeatsToSend:t,unsentEntries:r}=Fb(this._heartbeatsCache.heartbeats),o=uh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return os.warn(e),""}}}function H_(){return new Date().toISOString().substring(0,10)}function Fb(n,e=Vb){const t=[];let r=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),W_(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),W_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class jb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return d0()?f0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Ob(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return q_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return q_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function W_(n){return uh(JSON.stringify({version:2,heartbeats:n})).length}function Ub(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(n){Pr(new Jn("platform-logger",e=>new Zk(e),"PRIVATE")),Pr(new Jn("heartbeat",e=>new Lb(e),"PRIVATE")),On(Fp,$_,n),On(Fp,$_,"esm2020"),On("fire-js","")}zb("");var $b="firebase",Bb="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On($b,Bb,"app");const w0="@firebase/installations",Om="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=1e4,T0=`w:${Om}`,I0="FIS_v2",qb="https://firebaseinstallations.googleapis.com/v1",Hb=3600*1e3,Wb="installations",Gb="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Yi=new to(Wb,Gb,Kb);function S0(n){return n instanceof er&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0({projectId:n}){return`${qb}/projects/${n}/installations`}function C0(n){return{token:n.token,requestStatus:2,expiresIn:Yb(n.expiresIn),creationTime:Date.now()}}async function R0(n,e){const r=(await e.json()).error;return Yi.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function x0({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Qb(n,{refreshToken:e}){const t=x0(n);return t.append("Authorization",Xb(e)),t}async function P0(n){const e=await n();return e.status>=500&&e.status<600?n():e}function Yb(n){return Number(n.replace("s","000"))}function Xb(n){return`${I0} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jb({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=A0(n),o=x0(n),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const u={fid:t,authVersion:I0,appId:n.appId,sdkVersion:T0},d={method:"POST",headers:o,body:JSON.stringify(u)},f=await P0(()=>fetch(r,d));if(f.ok){const m=await f.json();return{fid:m.fid||t,registrationStatus:2,refreshToken:m.refreshToken,authToken:C0(m.authToken)}}else throw await R0("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=/^[cdef][\w-]{21}$/,zp="";function tN(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=nN(n);return eN.test(t)?t:zp}catch{return zp}}function nN(n){return Zb(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0=new Map;function N0(n,e){const t=Kh(n);D0(t,e),rN(t,e)}function D0(n,e){const t=b0.get(n);if(t)for(const r of t)r(e)}function rN(n,e){const t=sN();t&&t.postMessage({key:n,fid:e}),iN()}let qi=null;function sN(){return!qi&&"BroadcastChannel"in self&&(qi=new BroadcastChannel("[Firebase] FID Change"),qi.onmessage=n=>{D0(n.data.key,n.data.fid)}),qi}function iN(){b0.size===0&&qi&&(qi.close(),qi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN="firebase-installations-database",aN=1,Xi="firebase-installations-store";let up=null;function Vm(){return up||(up=g0(oN,aN,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Xi)}}})),up}async function hh(n,e){const t=Kh(n),o=(await Vm()).transaction(Xi,"readwrite"),a=o.objectStore(Xi),u=await a.get(t);return await a.put(e,t),await o.done,(!u||u.fid!==e.fid)&&N0(n,e.fid),e}async function O0(n){const e=Kh(n),r=(await Vm()).transaction(Xi,"readwrite");await r.objectStore(Xi).delete(e),await r.done}async function Qh(n,e){const t=Kh(n),o=(await Vm()).transaction(Xi,"readwrite"),a=o.objectStore(Xi),u=await a.get(t),d=e(u);return d===void 0?await a.delete(t):await a.put(d,t),await o.done,d&&(!u||u.fid!==d.fid)&&N0(n,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mm(n){let e;const t=await Qh(n.appConfig,r=>{const o=lN(r),a=uN(n,o);return e=a.registrationPromise,a.installationEntry});return t.fid===zp?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function lN(n){const e=n||{fid:tN(),registrationStatus:0};return V0(e)}function uN(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Yi.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=cN(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:hN(n)}:{installationEntry:e}}async function cN(n,e){try{const t=await Jb(n,e);return hh(n.appConfig,t)}catch(t){throw S0(t)&&t.customData.serverCode===409?await O0(n.appConfig):await hh(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function hN(n){let e=await G_(n.appConfig);for(;e.registrationStatus===1;)await k0(100),e=await G_(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await Mm(n);return r||t}return e}function G_(n){return Qh(n,e=>{if(!e)throw Yi.create("installation-not-found");return V0(e)})}function V0(n){return dN(n)?{fid:n.fid,registrationStatus:0}:n}function dN(n){return n.registrationStatus===1&&n.registrationTime+E0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fN({appConfig:n,heartbeatServiceProvider:e},t){const r=pN(n,t),o=Qb(n,t),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const u={installation:{sdkVersion:T0,appId:n.appId}},d={method:"POST",headers:o,body:JSON.stringify(u)},f=await P0(()=>fetch(r,d));if(f.ok){const m=await f.json();return C0(m)}else throw await R0("Generate Auth Token",f)}function pN(n,{fid:e}){return`${A0(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lm(n,e=!1){let t;const r=await Qh(n.appConfig,a=>{if(!M0(a))throw Yi.create("not-registered");const u=a.authToken;if(!e&&yN(u))return a;if(u.requestStatus===1)return t=mN(n,e),a;{if(!navigator.onLine)throw Yi.create("app-offline");const d=_N(a);return t=gN(n,d),d}});return t?await t:r.authToken}async function mN(n,e){let t=await K_(n.appConfig);for(;t.authToken.requestStatus===1;)await k0(100),t=await K_(n.appConfig);const r=t.authToken;return r.requestStatus===0?Lm(n,e):r}function K_(n){return Qh(n,e=>{if(!M0(e))throw Yi.create("not-registered");const t=e.authToken;return wN(t)?{...e,authToken:{requestStatus:0}}:e})}async function gN(n,e){try{const t=await fN(n,e),r={...e,authToken:t};return await hh(n.appConfig,r),t}catch(t){if(S0(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await O0(n.appConfig);else{const r={...e,authToken:{requestStatus:0}};await hh(n.appConfig,r)}throw t}}function M0(n){return n!==void 0&&n.registrationStatus===2}function yN(n){return n.requestStatus===2&&!vN(n)}function vN(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+Hb}function _N(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function wN(n){return n.requestStatus===1&&n.requestTime+E0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EN(n){const e=n,{installationEntry:t,registrationPromise:r}=await Mm(e);return r?r.catch(console.error):Lm(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(n,e=!1){const t=n;return await IN(t),(await Lm(t,e)).token}async function IN(n){const{registrationPromise:e}=await Mm(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(n){if(!n||!n.options)throw cp("App Configuration");if(!n.name)throw cp("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw cp(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function cp(n){return Yi.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="installations",AN="installations-internal",CN=n=>{const e=n.getProvider("app").getImmediate(),t=SN(e),r=no(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},RN=n=>{const e=n.getProvider("app").getImmediate(),t=no(e,L0).getImmediate();return{getId:()=>EN(t),getToken:o=>TN(t,o)}};function xN(){Pr(new Jn(L0,CN,"PUBLIC")),Pr(new Jn(AN,RN,"PRIVATE"))}xN();On(w0,Om);On(w0,Om,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh="analytics",PN="firebase_id",kN="origin",bN=60*1e3,NN="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Fm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln=new Gh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Tn=new to("analytics","Analytics",DN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(n){if(!n.startsWith(Fm)){const e=Tn.create("invalid-gtag-resource",{gtagURL:n});return ln.warn(e.message),""}return n}function F0(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function VN(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function MN(n,e){const t=VN("firebase-js-sdk-policy",{createScriptURL:ON}),r=document.createElement("script"),o=`${Fm}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function LN(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function FN(n,e,t,r,o,a){const u=r[o];try{if(u)await e[u];else{const f=(await F0(t)).find(m=>m.measurementId===o);f&&await e[f.appId]}}catch(d){ln.error(d)}n("config",o,a)}async function jN(n,e,t,r,o){try{let a=[];if(o&&o.send_to){let u=o.send_to;Array.isArray(u)||(u=[u]);const d=await F0(t);for(const f of u){const m=d.find(w=>w.measurementId===f),v=m&&e[m.appId];if(v)a.push(v);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),n("event",r,o||{})}catch(a){ln.error(a)}}function UN(n,e,t,r){async function o(a,...u){try{if(a==="event"){const[d,f]=u;await jN(n,e,t,d,f)}else if(a==="config"){const[d,f]=u;await FN(n,e,t,r,d,f)}else if(a==="consent"){const[d,f]=u;n("consent",d,f)}else if(a==="get"){const[d,f,m]=u;n("get",d,f,m)}else if(a==="set"){const[d]=u;n("set",d)}else n(a,...u)}catch(d){ln.error(d)}}return o}function zN(n,e,t,r,o){let a=function(...u){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(a=window[o]),window[o]=UN(a,n,e,t),{gtagCore:a,wrappedGtag:window[o]}}function $N(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Fm)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=30,qN=1e3;class HN{constructor(e={},t=qN){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const j0=new HN;function WN(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function GN(n){const{appId:e,apiKey:t}=n,r={method:"GET",headers:WN(t)},o=NN.replace("{app-id}",e),a=await fetch(o,r);if(a.status!==200&&a.status!==304){let u="";try{const d=await a.json();d.error?.message&&(u=d.error.message)}catch{}throw Tn.create("config-fetch-failed",{httpStatus:a.status,responseMessage:u})}return a.json()}async function KN(n,e=j0,t){const{appId:r,apiKey:o,measurementId:a}=n.options;if(!r)throw Tn.create("no-app-id");if(!o){if(a)return{measurementId:a,appId:r};throw Tn.create("no-api-key")}const u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new XN;return setTimeout(async()=>{d.abort()},bN),U0({appId:r,apiKey:o,measurementId:a},u,d,e)}async function U0(n,{throttleEndTimeMillis:e,backoffCount:t},r,o=j0){const{appId:a,measurementId:u}=n;try{await QN(r,e)}catch(d){if(u)return ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:a,measurementId:u};throw d}try{const d=await GN(n);return o.deleteThrottleMetadata(a),d}catch(d){const f=d;if(!YN(f)){if(o.deleteThrottleMetadata(a),u)return ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:a,measurementId:u};throw d}const m=Number(f?.customData?.httpStatus)===503?F_(t,o.intervalMillis,BN):F_(t,o.intervalMillis),v={throttleEndTimeMillis:Date.now()+m,backoffCount:t+1};return o.setThrottleMetadata(a,v),ln.debug(`Calling attemptFetch again in ${m} millis`),U0(n,v,r,o)}}function QN(n,e){return new Promise((t,r)=>{const o=Math.max(e-Date.now(),0),a=setTimeout(t,o);n.addEventListener(()=>{clearTimeout(a),r(Tn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function YN(n){if(!(n instanceof er)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class XN{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function JN(n,e,t,r,o){if(o&&o.global){n("event",t,r);return}else{const a=await e,u={...r,send_to:a};n("event",t,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZN(){if(d0())try{await f0()}catch(n){return ln.warn(Tn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return ln.warn(Tn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function eD(n,e,t,r,o,a,u){const d=KN(n);d.then(T=>{t[T.measurementId]=T.appId,n.options.measurementId&&T.measurementId!==n.options.measurementId&&ln.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${T.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(T=>ln.error(T)),e.push(d);const f=ZN().then(T=>{if(T)return r.getId()}),[m,v]=await Promise.all([d,f]);$N(a)||MN(a,m.measurementId),o("js",new Date);const w=u?.config??{};return w[kN]="firebase",w.update=!0,v!=null&&(w[PN]=v),o("config",m.measurementId,w),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this.app=e}_delete(){return delete Nl[this.app.options.appId],Promise.resolve()}}let Nl={},Q_=[];const Y_={};let hp="dataLayer",nD="gtag",X_,z0,J_=!1;function rD(){const n=[];if(h0()&&n.push("This is a browser extension environment."),Ik()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,o)=>`(${o+1}) ${r}`).join(" "),t=Tn.create("invalid-analytics-context",{errorInfo:e});ln.warn(t.message)}}function sD(n,e,t){rD();const r=n.options.appId;if(!r)throw Tn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Tn.create("no-api-key");if(Nl[r]!=null)throw Tn.create("already-exists",{id:r});if(!J_){LN(hp);const{wrappedGtag:a,gtagCore:u}=zN(Nl,Q_,Y_,hp,nD);z0=a,X_=u,J_=!0}return Nl[r]=eD(n,Q_,Y_,e,X_,hp,t),new tD(n)}function iD(n=Dm()){n=lt(n);const e=no(n,dh);return e.isInitialized()?e.getImmediate():oD(n)}function oD(n,e={}){const t=no(n,dh);if(t.isInitialized()){const o=t.getImmediate();if(si(e,t.getOptions()))return o;throw Tn.create("already-initialized")}return t.initialize({options:e})}function $0(n,e,t,r){n=lt(n),JN(z0,Nl[n.app.options.appId],e,t,r).catch(o=>ln.error(o))}const Z_="@firebase/analytics",ew="0.10.18";function aD(){Pr(new Jn(dh,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return sD(r,o,t)},"PUBLIC")),Pr(new Jn("analytics-internal",n,"PRIVATE")),On(Z_,ew),On(Z_,ew,"esm2020");function n(e){try{const t=e.getProvider(dh).getImmediate();return{logEvent:(r,o,a)=>$0(t,r,o,a)}}catch(t){throw Tn.create("interop-component-reg-failed",{reason:t})}}}aD();function B0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lD=B0,q0=new to("auth","Firebase",B0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=new Gh("@firebase/auth");function uD(n,...e){fh.logLevel<=Le.WARN&&fh.warn(`Auth (${wa}): ${n}`,...e)}function Gc(n,...e){fh.logLevel<=Le.ERROR&&fh.error(`Auth (${wa}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(n,...e){throw Um(n,...e)}function Kn(n,...e){return Um(n,...e)}function jm(n,e,t){const r={...lD(),[e]:t};return new to("auth","Firebase",r).create(e,{appName:n.name})}function Js(n){return jm(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cD(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&kr(n,"argument-error"),jm(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Um(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return q0.create(n,...e)}function Ce(n,e,...t){if(!n)throw Um(e,...t)}function es(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Gc(e),new Error(e)}function as(n,e){n||es(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(){return typeof self<"u"&&self.location?.href||""}function hD(){return tw()==="http:"||tw()==="https:"}function tw(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hD()||h0()||"connection"in navigator)?navigator.onLine:!0}function fD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,t){this.shortDelay=e,this.longDelay=t,as(t>e,"Short delay should be less than long delay!"),this.isMobile=yk()||wk()}get(){return dD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(n,e){as(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gD=new nu(3e4,6e4);function Yh(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Ea(n,e,t,r,o={}){return W0(n,o,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const d=tu({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:f,...a};return _k()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&_a(n.emulatorConfig.host)&&(m.credentials="include"),H0.fetch()(await K0(n,n.config.apiHost,t,d),m)})}async function W0(n,e,t){n._canInitEmulator=!1;const r={...pD,...e};try{const o=new yD(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Mc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[f,m]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mc(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Mc(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Mc(n,"user-disabled",u);const v=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw jm(n,v,m);kr(n,v)}}catch(o){if(o instanceof er)throw o;kr(n,"network-request-failed",{message:String(o)})}}async function G0(n,e,t,r,o={}){const a=await Ea(n,e,t,r,o);return"mfaPendingCredential"in a&&kr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function K0(n,e,t,r){const o=`${e}${t}?${r}`,a=n,u=a.config.emulator?zm(n.config,o):`${n.config.apiScheme}://${o}`;return mD.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}class yD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Kn(this.auth,"network-request-failed")),gD.get())})}}function Mc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=Kn(n,e,r);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vD(n,e){return Ea(n,"POST","/v1/accounts:delete",e)}async function ph(n,e){return Ea(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _D(n,e=!1){const t=lt(n),r=await t.getIdToken(e),o=$m(r);Ce(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a?.sign_in_provider;return{claims:o,token:r,authTime:Dl(dp(o.auth_time)),issuedAtTime:Dl(dp(o.iat)),expirationTime:Dl(dp(o.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function dp(n){return Number(n)*1e3}function $m(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Gc("JWT malformed, contained fewer than 3 sections"),null;try{const o=i0(t);return o?JSON.parse(o):(Gc("Failed to decode base64 JWT payload"),null)}catch(o){return Gc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function nw(n){const e=$m(n);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof er&&wD(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function wD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dl(this.lastLoginAt),this.creationTime=Dl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mh(n){const e=n.auth,t=await n.getIdToken(),r=await Bl(n,ph(e,{idToken:t}));Ce(r?.users.length,e,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const a=o.providerUserInfo?.length?Q0(o.providerUserInfo):[],u=ID(n.providerData,a),d=n.isAnonymous,f=!(n.email&&o.passwordHash)&&!u?.length,m=d?f:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Bp(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,v)}async function TD(n){const e=lt(n);await mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ID(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function Q0(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SD(n,e){const t=await W0(n,{},async()=>{const r=tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=await K0(n,o,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return n.emulatorConfig&&_a(n.emulatorConfig.host)&&(f.credentials="include"),H0.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function AD(n,e){return Ea(n,"POST","/v2/accounts:revokeToken",Yh(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const t=nw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:a}=await SD(e,t);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:a}=t,u=new ta;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(Ce(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Ce(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ta,this.toJSON())}_performRefresh(){return es("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(n,e){Ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Gn{constructor({uid:e,auth:t,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new ED(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Bp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Bl(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return _D(this,e)}reload(){return TD(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Gn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await mh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nn(this.auth.app))return Promise.reject(Js(this.auth));const e=await this.getIdToken();return await Bl(this,vD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,o=t.email??void 0,a=t.phoneNumber??void 0,u=t.photoURL??void 0,d=t.tenantId??void 0,f=t._redirectEventId??void 0,m=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:w,emailVerified:T,isAnonymous:C,providerData:O,stsTokenManager:x}=t;Ce(w&&x,e,"internal-error");const S=ta.fromJSON(this.name,x);Ce(typeof w=="string",e,"internal-error"),Bs(r,e.name),Bs(o,e.name),Ce(typeof T=="boolean",e,"internal-error"),Ce(typeof C=="boolean",e,"internal-error"),Bs(a,e.name),Bs(u,e.name),Bs(d,e.name),Bs(f,e.name),Bs(m,e.name),Bs(v,e.name);const z=new Gn({uid:w,auth:e,email:o,emailVerified:T,displayName:r,isAnonymous:C,photoURL:u,phoneNumber:a,tenantId:d,stsTokenManager:S,createdAt:m,lastLoginAt:v});return O&&Array.isArray(O)&&(z.providerData=O.map(H=>({...H}))),f&&(z._redirectEventId=f),z}static async _fromIdTokenResponse(e,t,r=!1){const o=new ta;o.updateFromServerResponse(t);const a=new Gn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await mh(a),a}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Ce(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?Q0(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!a?.length,d=new ta;d.updateFromIdToken(r);const f=new Gn({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Bp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!a?.length};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw=new Map;function ts(n){as(n instanceof Function,"Expected a class definition");let e=rw.get(n);return e?(as(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,rw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Y0.type="NONE";const sw=Y0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(n,e,t){return`firebase:${n}:${e}:${t}`}class na{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=Kc(this.userKey,o.apiKey,a),this.fullPersistenceKey=Kc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await ph(this.auth,{idToken:e}).catch(()=>{});return t?Gn._fromGetAccountInfoResponse(this.auth,t,e):null}return Gn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new na(ts(sw),e,r);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||ts(sw);const u=Kc(r,e.config.apiKey,e.name);let d=null;for(const m of t)try{const v=await m._get(u);if(v){let w;if(typeof v=="string"){const T=await ph(e,{idToken:v}).catch(()=>{});if(!T)break;w=await Gn._fromGetAccountInfoResponse(e,T,v)}else w=Gn._fromJSON(e,v);m!==a&&(d=w),a=m;break}}catch{}const f=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new na(a,e,r):(a=f[0],d&&await a._set(u,d.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new na(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(X0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nI(e))return"Blackberry";if(rI(e))return"Webos";if(J0(e))return"Safari";if((e.includes("chrome/")||Z0(e))&&!e.includes("edge/"))return"Chrome";if(tI(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function X0(n=Wt()){return/firefox\//i.test(n)}function J0(n=Wt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Z0(n=Wt()){return/crios\//i.test(n)}function eI(n=Wt()){return/iemobile/i.test(n)}function tI(n=Wt()){return/android/i.test(n)}function nI(n=Wt()){return/blackberry/i.test(n)}function rI(n=Wt()){return/webos/i.test(n)}function Bm(n=Wt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function CD(n=Wt()){return Bm(n)&&!!window.navigator?.standalone}function RD(){return Ek()&&document.documentMode===10}function sI(n=Wt()){return Bm(n)||tI(n)||rI(n)||nI(n)||/windows phone/i.test(n)||eI(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(n,e=[]){let t;switch(n){case"Browser":t=iw(Wt());break;case"Worker":t=`${iw(Wt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${wa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,d)=>{try{const f=e(a);u(f)}catch(f){d(f)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PD(n,e={}){return Ea(n,"GET","/v2/passwordPolicy",Yh(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=6;class bD{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??kD,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ow(this),this.idTokenSubscription=new ow(this),this.beforeStateQueue=new xD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=q0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ts(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await na.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ph(this,{idToken:e}),r=await Gn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Nn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,u=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!a||a===u)&&d?.user&&(r=d.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await mh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nn(this.app))return Promise.reject(Js(this));const t=e?lt(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nn(this.app)?Promise.reject(Js(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nn(this.app)?Promise.reject(Js(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ts(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await PD(this),t=new bD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new to("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await AD(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ts(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=await na.create(this,[ts(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,o);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&uD(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ru(n){return lt(n)}class ow{constructor(e){this.auth=e,this.observer=null,this.addObserver=xk(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DD(n){qm=n}function OD(n){return qm.loadJS(n)}function VD(){return qm.gapiScript}function MD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(n,e){const t=no(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(si(a,e??{}))return o;kr(o,"already-initialized")}return t.initialize({options:e})}function FD(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ts);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function jD(n,e,t){const r=ru(n);Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=oI(e),{host:u,port:d}=UD(e),f=d===null?"":`:${d}`,m={url:`${a}//${u}${f}/`},v=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ce(si(m,r.config.emulator)&&si(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,_a(u)?(u0(`${a}//${u}${f}`),c0("Auth",!0)):zD()}function oI(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function UD(n){const e=oI(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:aw(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:aw(u)}}}function aw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function zD(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return es("not implemented")}_getIdTokenResponse(e){return es("not implemented")}_linkToIdToken(e,t){return es("not implemented")}_getReauthenticationResolver(e){return es("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ra(n,e){return G0(n,"POST","/v1/accounts:signInWithIdp",Yh(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D="http://localhost";class Ji extends aI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ji(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):kr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...a}=t;if(!r||!o)return null;const u=new Ji(r,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return ra(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ra(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ra(e,t)}buildRequest(){const e={requestUri:$D,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=tu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends Hm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends su{constructor(){super("facebook.com")}static credential(e){return Ji._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hs.credential(e.oauthAccessToken)}catch{return null}}}Hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ji._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Zr.credential(t,r)}catch{return null}}}Zr.GOOGLE_SIGN_IN_METHOD="google.com";Zr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends su{constructor(){super("github.com")}static credential(e){return Ji._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ws.credential(e.oauthAccessToken)}catch{return null}}}Ws.GITHUB_SIGN_IN_METHOD="github.com";Ws.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends su{constructor(){super("twitter.com")}static credential(e,t){return Ji._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Gs.credential(t,r)}catch{return null}}}Gs.TWITTER_SIGN_IN_METHOD="twitter.com";Gs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BD(n,e){return G0(n,"POST","/v1/accounts:signUp",Yh(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const a=await Gn._fromIdTokenResponse(e,r,o),u=lw(r);return new ii({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=lw(r);return new ii({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function lw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qD(n){if(Nn(n.app))return Promise.reject(Js(n));const e=ru(n);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new ii({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await BD(e,{returnSecureToken:!0}),r=await ii._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh extends er{constructor(e,t,r,o){super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,gh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new gh(e,t,r,o)}}function lI(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?gh._fromErrorAndOperation(n,a,e,r):a})}async function HD(n,e,t=!1){const r=await Bl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ii._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WD(n,e,t=!1){const{auth:r}=n;if(Nn(r.app))return Promise.reject(Js(r));const o="reauthenticate";try{const a=await Bl(n,lI(r,o,e,n),t);Ce(a.idToken,r,"internal-error");const u=$m(a.idToken);Ce(u,r,"internal-error");const{sub:d}=u;return Ce(n.uid===d,r,"user-mismatch"),ii._forOperation(n,o,a)}catch(a){throw a?.code==="auth/user-not-found"&&kr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GD(n,e,t=!1){if(Nn(n.app))return Promise.reject(Js(n));const r="signIn",o=await lI(n,r,e),a=await ii._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(a.user),a}function KD(n,e,t,r){return lt(n).onIdTokenChanged(e,t,r)}function QD(n,e,t){return lt(n).beforeAuthStateChanged(e,t)}function YD(n,e,t,r){return lt(n).onAuthStateChanged(e,t,r)}function XD(n){return lt(n).signOut()}const yh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(yh,"1"),this.storage.removeItem(yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=1e3,ZD=10;class cI extends uI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);RD()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,ZD):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},JD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}cI.type="LOCAL";const eO=cI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI extends uI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}hI.type="SESSION";const dI=hI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new Xh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const d=Array.from(u).map(async m=>m(t.origin,a)),f=await tO(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((d,f)=>{const m=Wm("",20);o.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(w){const T=w;if(T.data.eventId===m)switch(T.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(T.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(){return window}function rO(n){Ir().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(){return typeof Ir().WorkerGlobalScope<"u"&&typeof Ir().importScripts=="function"}async function sO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iO(){return navigator?.serviceWorker?.controller||null}function oO(){return fI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI="firebaseLocalStorageDb",aO=1,vh="firebaseLocalStorage",mI="fbase_key";class iu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Jh(n,e){return n.transaction([vh],e?"readwrite":"readonly").objectStore(vh)}function lO(){const n=indexedDB.deleteDatabase(pI);return new iu(n).toPromise()}function qp(){const n=indexedDB.open(pI,aO);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(vh,{keyPath:mI})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(vh)?e(r):(r.close(),await lO(),e(await qp()))})})}async function uw(n,e,t){const r=Jh(n,!0).put({[mI]:e,value:t});return new iu(r).toPromise()}async function uO(n,e){const t=Jh(n,!1).get(e),r=await new iu(t).toPromise();return r===void 0?null:r.value}function cw(n,e){const t=Jh(n,!0).delete(e);return new iu(t).toPromise()}const cO=800,hO=3;class gI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>hO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xh._getInstance(oO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await sO(),!this.activeServiceWorker)return;this.sender=new nO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qp();return await uw(e,yh,"1"),await cw(e,yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>uw(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>uO(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>cw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Jh(o,!1).getAll();return new iu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gI.type="LOCAL";const dO=gI;new nu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(n,e){return e?ts(e):(Ce(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm extends aI{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ra(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ra(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ra(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function fO(n){return GD(n.auth,new Gm(n),n.bypassAuthState)}function pO(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),WD(t,new Gm(n),n.bypassAuthState)}async function mO(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),HD(t,new Gm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,t,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fO;case"linkViaPopup":case"linkViaRedirect":return mO;case"reauthViaPopup":case"reauthViaRedirect":return pO;default:kr(this.auth,"internal-error")}}resolve(e){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=new nu(2e3,1e4);async function yO(n,e,t){if(Nn(n.app))return Promise.reject(Kn(n,"operation-not-supported-in-this-environment"));const r=ru(n);cD(n,e,Hm);const o=yI(r,t);return new Hi(r,"signInViaPopup",e,o).executeNotNull()}class Hi extends vI{constructor(e,t,r,o,a){super(e,t,o,a),this.provider=r,this.authWindow=null,this.pollId=null,Hi.currentPopupAction&&Hi.currentPopupAction.cancel(),Hi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){as(this.filter.length===1,"Popup operations only handle one event");const e=Wm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Kn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hi.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,gO.get())};e()}}Hi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO="pendingRedirect",Qc=new Map;class _O extends vI{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Qc.get(this.auth._key());if(!e){try{const r=await wO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Qc.set(this.auth._key(),e)}return this.bypassAuthState||Qc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wO(n,e){const t=IO(e),r=TO(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function EO(n,e){Qc.set(n._key(),e)}function TO(n){return ts(n._redirectPersistence)}function IO(n){return Kc(vO,n.config.apiKey,n.name)}async function SO(n,e,t=!1){if(Nn(n.app))return Promise.reject(Js(n));const r=ru(n),o=yI(r,e),u=await new _O(r,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=600*1e3;class CO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!RO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!_I(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Kn(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AO&&this.cachedEventUids.clear(),this.cachedEventUids.has(hw(e))}saveEventToCache(e){this.cachedEventUids.add(hw(e)),this.lastProcessedEventTime=Date.now()}}function hw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function _I({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function RO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _I(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xO(n,e={}){return Ea(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kO=/^https?/;async function bO(n){if(n.config.emulator)return;const{authorizedDomains:e}=await xO(n);for(const t of e)try{if(NO(t))return}catch{}kr(n,"unauthorized-domain")}function NO(n){const e=$p(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!kO.test(t))return!1;if(PO.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=new nu(3e4,6e4);function dw(){const n=Ir().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function OO(n){return new Promise((e,t)=>{function r(){dw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dw(),t(Kn(n,"network-request-failed"))},timeout:DO.get()})}if(Ir().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ir().gapi?.load)r();else{const o=MD("iframefcb");return Ir()[o]=()=>{gapi.load?r():t(Kn(n,"network-request-failed"))},OD(`${VD()}?onload=${o}`).catch(a=>t(a))}}).catch(e=>{throw Yc=null,e})}let Yc=null;function VO(n){return Yc=Yc||OO(n),Yc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO=new nu(5e3,15e3),LO="__/auth/iframe",FO="emulator/auth/iframe",jO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zO(n){const e=n.config;Ce(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?zm(e,FO):`https://${n.config.authDomain}/${LO}`,r={apiKey:e.apiKey,appName:n.name,v:wa},o=UO.get(n.config.apiHost);o&&(r.eid=o);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${tu(r).slice(1)}`}async function $O(n){const e=await VO(n),t=Ir().gapi;return Ce(t,n,"internal-error"),e.open({where:document.body,url:zO(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jO,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const u=Kn(n,"network-request-failed"),d=Ir().setTimeout(()=>{a(u)},MO.get());function f(){Ir().clearTimeout(d),o(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qO=500,HO=600,WO="_blank",GO="http://localhost";class fw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KO(n,e,t,r=qO,o=HO){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f={...BO,width:r.toString(),height:o.toString(),top:a,left:u},m=Wt().toLowerCase();t&&(d=Z0(m)?WO:t),X0(m)&&(e=e||GO,f.scrollbars="yes");const v=Object.entries(f).reduce((T,[C,O])=>`${T}${C}=${O},`,"");if(CD(m)&&d!=="_self")return QO(e||"",d),new fw(null);const w=window.open(e||"",d,v);Ce(w,n,"popup-blocked");try{w.focus()}catch{}return new fw(w)}function QO(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO="__/auth/handler",XO="emulator/auth/handler",JO=encodeURIComponent("fac");async function pw(n,e,t,r,o,a){Ce(n.config.authDomain,n,"auth-domain-config-required"),Ce(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:wa,eventId:o};if(e instanceof Hm){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",Rk(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,w]of Object.entries({}))u[v]=w}if(e instanceof su){const v=e.getScopes().filter(w=>w!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const f=await n._getAppCheckToken(),m=f?`#${JO}=${encodeURIComponent(f)}`:"";return`${ZO(n)}?${tu(d).slice(1)}${m}`}function ZO({config:n}){return n.emulator?zm(n,XO):`https://${n.authDomain}/${YO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp="webStorageSupport";class e2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dI,this._completeRedirectFn=SO,this._overrideRedirectResult=EO}async _openPopup(e,t,r,o){as(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await pw(e,t,r,$p(),o);return KO(e,a,Wm())}async _openRedirect(e,t,r,o){await this._originValidation(e);const a=await pw(e,t,r,$p(),o);return rO(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(as(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await $O(e),r=new CO(e);return t.register("authEvent",o=>(Ce(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(fp,{type:fp},o=>{const a=o?.[0]?.[fp];a!==void 0&&t(!!a),kr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=bO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return sI()||J0()||Bm()}}const t2=e2;var mw="@firebase/auth",gw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function s2(n){Pr(new Jn("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;Ce(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iI(n)},m=new ND(r,o,a,f);return FD(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Pr(new Jn("auth-internal",e=>{const t=ru(e.getProvider("auth").getImmediate());return(r=>new n2(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),On(mw,gw,r2(n)),On(mw,gw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=300,o2=l0("authIdTokenMaxAge")||i2;let yw=null;const a2=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>o2)return;const o=t?.token;yw!==o&&(yw=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function l2(n=Dm()){const e=no(n,"auth");if(e.isInitialized())return e.getImmediate();const t=LD(n,{popupRedirectResolver:t2,persistence:[dO,eO,dI]}),r=l0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=a2(a.toString());QD(t,u,()=>u(t.currentUser)),KD(t,d=>u(d))}}const o=o0("auth");return o&&jD(t,`http://${o}`),t}function u2(){return document.getElementsByTagName("head")?.[0]??document}DD({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const a=Kn("internal-error");a.customData=o,t(a)},r.type="text/javascript",r.charset="UTF-8",u2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});s2("Browser");var vw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zs,wI;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,P){function N(){}N.prototype=P.prototype,b.F=P.prototype,b.prototype=new N,b.prototype.constructor=b,b.D=function(M,V,L){for(var k=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)k[oe-2]=arguments[oe];return P.prototype[V].apply(M,k)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(b,P,N){N||(N=0);const M=Array(16);if(typeof P=="string")for(var V=0;V<16;++V)M[V]=P.charCodeAt(N++)|P.charCodeAt(N++)<<8|P.charCodeAt(N++)<<16|P.charCodeAt(N++)<<24;else for(V=0;V<16;++V)M[V]=P[N++]|P[N++]<<8|P[N++]<<16|P[N++]<<24;P=b.g[0],N=b.g[1],V=b.g[2];let L=b.g[3],k;k=P+(L^N&(V^L))+M[0]+3614090360&4294967295,P=N+(k<<7&4294967295|k>>>25),k=L+(V^P&(N^V))+M[1]+3905402710&4294967295,L=P+(k<<12&4294967295|k>>>20),k=V+(N^L&(P^N))+M[2]+606105819&4294967295,V=L+(k<<17&4294967295|k>>>15),k=N+(P^V&(L^P))+M[3]+3250441966&4294967295,N=V+(k<<22&4294967295|k>>>10),k=P+(L^N&(V^L))+M[4]+4118548399&4294967295,P=N+(k<<7&4294967295|k>>>25),k=L+(V^P&(N^V))+M[5]+1200080426&4294967295,L=P+(k<<12&4294967295|k>>>20),k=V+(N^L&(P^N))+M[6]+2821735955&4294967295,V=L+(k<<17&4294967295|k>>>15),k=N+(P^V&(L^P))+M[7]+4249261313&4294967295,N=V+(k<<22&4294967295|k>>>10),k=P+(L^N&(V^L))+M[8]+1770035416&4294967295,P=N+(k<<7&4294967295|k>>>25),k=L+(V^P&(N^V))+M[9]+2336552879&4294967295,L=P+(k<<12&4294967295|k>>>20),k=V+(N^L&(P^N))+M[10]+4294925233&4294967295,V=L+(k<<17&4294967295|k>>>15),k=N+(P^V&(L^P))+M[11]+2304563134&4294967295,N=V+(k<<22&4294967295|k>>>10),k=P+(L^N&(V^L))+M[12]+1804603682&4294967295,P=N+(k<<7&4294967295|k>>>25),k=L+(V^P&(N^V))+M[13]+4254626195&4294967295,L=P+(k<<12&4294967295|k>>>20),k=V+(N^L&(P^N))+M[14]+2792965006&4294967295,V=L+(k<<17&4294967295|k>>>15),k=N+(P^V&(L^P))+M[15]+1236535329&4294967295,N=V+(k<<22&4294967295|k>>>10),k=P+(V^L&(N^V))+M[1]+4129170786&4294967295,P=N+(k<<5&4294967295|k>>>27),k=L+(N^V&(P^N))+M[6]+3225465664&4294967295,L=P+(k<<9&4294967295|k>>>23),k=V+(P^N&(L^P))+M[11]+643717713&4294967295,V=L+(k<<14&4294967295|k>>>18),k=N+(L^P&(V^L))+M[0]+3921069994&4294967295,N=V+(k<<20&4294967295|k>>>12),k=P+(V^L&(N^V))+M[5]+3593408605&4294967295,P=N+(k<<5&4294967295|k>>>27),k=L+(N^V&(P^N))+M[10]+38016083&4294967295,L=P+(k<<9&4294967295|k>>>23),k=V+(P^N&(L^P))+M[15]+3634488961&4294967295,V=L+(k<<14&4294967295|k>>>18),k=N+(L^P&(V^L))+M[4]+3889429448&4294967295,N=V+(k<<20&4294967295|k>>>12),k=P+(V^L&(N^V))+M[9]+568446438&4294967295,P=N+(k<<5&4294967295|k>>>27),k=L+(N^V&(P^N))+M[14]+3275163606&4294967295,L=P+(k<<9&4294967295|k>>>23),k=V+(P^N&(L^P))+M[3]+4107603335&4294967295,V=L+(k<<14&4294967295|k>>>18),k=N+(L^P&(V^L))+M[8]+1163531501&4294967295,N=V+(k<<20&4294967295|k>>>12),k=P+(V^L&(N^V))+M[13]+2850285829&4294967295,P=N+(k<<5&4294967295|k>>>27),k=L+(N^V&(P^N))+M[2]+4243563512&4294967295,L=P+(k<<9&4294967295|k>>>23),k=V+(P^N&(L^P))+M[7]+1735328473&4294967295,V=L+(k<<14&4294967295|k>>>18),k=N+(L^P&(V^L))+M[12]+2368359562&4294967295,N=V+(k<<20&4294967295|k>>>12),k=P+(N^V^L)+M[5]+4294588738&4294967295,P=N+(k<<4&4294967295|k>>>28),k=L+(P^N^V)+M[8]+2272392833&4294967295,L=P+(k<<11&4294967295|k>>>21),k=V+(L^P^N)+M[11]+1839030562&4294967295,V=L+(k<<16&4294967295|k>>>16),k=N+(V^L^P)+M[14]+4259657740&4294967295,N=V+(k<<23&4294967295|k>>>9),k=P+(N^V^L)+M[1]+2763975236&4294967295,P=N+(k<<4&4294967295|k>>>28),k=L+(P^N^V)+M[4]+1272893353&4294967295,L=P+(k<<11&4294967295|k>>>21),k=V+(L^P^N)+M[7]+4139469664&4294967295,V=L+(k<<16&4294967295|k>>>16),k=N+(V^L^P)+M[10]+3200236656&4294967295,N=V+(k<<23&4294967295|k>>>9),k=P+(N^V^L)+M[13]+681279174&4294967295,P=N+(k<<4&4294967295|k>>>28),k=L+(P^N^V)+M[0]+3936430074&4294967295,L=P+(k<<11&4294967295|k>>>21),k=V+(L^P^N)+M[3]+3572445317&4294967295,V=L+(k<<16&4294967295|k>>>16),k=N+(V^L^P)+M[6]+76029189&4294967295,N=V+(k<<23&4294967295|k>>>9),k=P+(N^V^L)+M[9]+3654602809&4294967295,P=N+(k<<4&4294967295|k>>>28),k=L+(P^N^V)+M[12]+3873151461&4294967295,L=P+(k<<11&4294967295|k>>>21),k=V+(L^P^N)+M[15]+530742520&4294967295,V=L+(k<<16&4294967295|k>>>16),k=N+(V^L^P)+M[2]+3299628645&4294967295,N=V+(k<<23&4294967295|k>>>9),k=P+(V^(N|~L))+M[0]+4096336452&4294967295,P=N+(k<<6&4294967295|k>>>26),k=L+(N^(P|~V))+M[7]+1126891415&4294967295,L=P+(k<<10&4294967295|k>>>22),k=V+(P^(L|~N))+M[14]+2878612391&4294967295,V=L+(k<<15&4294967295|k>>>17),k=N+(L^(V|~P))+M[5]+4237533241&4294967295,N=V+(k<<21&4294967295|k>>>11),k=P+(V^(N|~L))+M[12]+1700485571&4294967295,P=N+(k<<6&4294967295|k>>>26),k=L+(N^(P|~V))+M[3]+2399980690&4294967295,L=P+(k<<10&4294967295|k>>>22),k=V+(P^(L|~N))+M[10]+4293915773&4294967295,V=L+(k<<15&4294967295|k>>>17),k=N+(L^(V|~P))+M[1]+2240044497&4294967295,N=V+(k<<21&4294967295|k>>>11),k=P+(V^(N|~L))+M[8]+1873313359&4294967295,P=N+(k<<6&4294967295|k>>>26),k=L+(N^(P|~V))+M[15]+4264355552&4294967295,L=P+(k<<10&4294967295|k>>>22),k=V+(P^(L|~N))+M[6]+2734768916&4294967295,V=L+(k<<15&4294967295|k>>>17),k=N+(L^(V|~P))+M[13]+1309151649&4294967295,N=V+(k<<21&4294967295|k>>>11),k=P+(V^(N|~L))+M[4]+4149444226&4294967295,P=N+(k<<6&4294967295|k>>>26),k=L+(N^(P|~V))+M[11]+3174756917&4294967295,L=P+(k<<10&4294967295|k>>>22),k=V+(P^(L|~N))+M[2]+718787259&4294967295,V=L+(k<<15&4294967295|k>>>17),k=N+(L^(V|~P))+M[9]+3951481745&4294967295,b.g[0]=b.g[0]+P&4294967295,b.g[1]=b.g[1]+(V+(k<<21&4294967295|k>>>11))&4294967295,b.g[2]=b.g[2]+V&4294967295,b.g[3]=b.g[3]+L&4294967295}r.prototype.v=function(b,P){P===void 0&&(P=b.length);const N=P-this.blockSize,M=this.C;let V=this.h,L=0;for(;L<P;){if(V==0)for(;L<=N;)o(this,b,L),L+=this.blockSize;if(typeof b=="string"){for(;L<P;)if(M[V++]=b.charCodeAt(L++),V==this.blockSize){o(this,M),V=0;break}}else for(;L<P;)if(M[V++]=b[L++],V==this.blockSize){o(this,M),V=0;break}}this.h=V,this.o+=P},r.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var P=1;P<b.length-8;++P)b[P]=0;P=this.o*8;for(var N=b.length-8;N<b.length;++N)b[N]=P&255,P/=256;for(this.v(b),b=Array(16),P=0,N=0;N<4;++N)for(let M=0;M<32;M+=8)b[P++]=this.g[N]>>>M&255;return b};function a(b,P){var N=d;return Object.prototype.hasOwnProperty.call(N,b)?N[b]:N[b]=P(b)}function u(b,P){this.h=P;const N=[];let M=!0;for(let V=b.length-1;V>=0;V--){const L=b[V]|0;M&&L==P||(N[V]=L,M=!1)}this.g=N}var d={};function f(b){return-128<=b&&b<128?a(b,function(P){return new u([P|0],P<0?-1:0)}):new u([b|0],b<0?-1:0)}function m(b){if(isNaN(b)||!isFinite(b))return w;if(b<0)return S(m(-b));const P=[];let N=1;for(let M=0;b>=N;M++)P[M]=b/N|0,N*=4294967296;return new u(P,0)}function v(b,P){if(b.length==0)throw Error("number format error: empty string");if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(b.charAt(0)=="-")return S(v(b.substring(1),P));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=m(Math.pow(P,8));let M=w;for(let L=0;L<b.length;L+=8){var V=Math.min(8,b.length-L);const k=parseInt(b.substring(L,L+V),P);V<8?(V=m(Math.pow(P,V)),M=M.j(V).add(m(k))):(M=M.j(N),M=M.add(m(k)))}return M}var w=f(0),T=f(1),C=f(16777216);n=u.prototype,n.m=function(){if(x(this))return-S(this).m();let b=0,P=1;for(let N=0;N<this.g.length;N++){const M=this.i(N);b+=(M>=0?M:4294967296+M)*P,P*=4294967296}return b},n.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(O(this))return"0";if(x(this))return"-"+S(this).toString(b);const P=m(Math.pow(b,6));var N=this;let M="";for(;;){const V=X(N,P).g;N=z(N,V.j(P));let L=((N.g.length>0?N.g[0]:N.h)>>>0).toString(b);if(N=V,O(N))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},n.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function O(b){if(b.h!=0)return!1;for(let P=0;P<b.g.length;P++)if(b.g[P]!=0)return!1;return!0}function x(b){return b.h==-1}n.l=function(b){return b=z(this,b),x(b)?-1:O(b)?0:1};function S(b){const P=b.g.length,N=[];for(let M=0;M<P;M++)N[M]=~b.g[M];return new u(N,~b.h).add(T)}n.abs=function(){return x(this)?S(this):this},n.add=function(b){const P=Math.max(this.g.length,b.g.length),N=[];let M=0;for(let V=0;V<=P;V++){let L=M+(this.i(V)&65535)+(b.i(V)&65535),k=(L>>>16)+(this.i(V)>>>16)+(b.i(V)>>>16);M=k>>>16,L&=65535,k&=65535,N[V]=k<<16|L}return new u(N,N[N.length-1]&-2147483648?-1:0)};function z(b,P){return b.add(S(P))}n.j=function(b){if(O(this)||O(b))return w;if(x(this))return x(b)?S(this).j(S(b)):S(S(this).j(b));if(x(b))return S(this.j(S(b)));if(this.l(C)<0&&b.l(C)<0)return m(this.m()*b.m());const P=this.g.length+b.g.length,N=[];for(var M=0;M<2*P;M++)N[M]=0;for(M=0;M<this.g.length;M++)for(let V=0;V<b.g.length;V++){const L=this.i(M)>>>16,k=this.i(M)&65535,oe=b.i(V)>>>16,Re=b.i(V)&65535;N[2*M+2*V]+=k*Re,H(N,2*M+2*V),N[2*M+2*V+1]+=L*Re,H(N,2*M+2*V+1),N[2*M+2*V+1]+=k*oe,H(N,2*M+2*V+1),N[2*M+2*V+2]+=L*oe,H(N,2*M+2*V+2)}for(b=0;b<P;b++)N[b]=N[2*b+1]<<16|N[2*b];for(b=P;b<2*P;b++)N[b]=0;return new u(N,0)};function H(b,P){for(;(b[P]&65535)!=b[P];)b[P+1]+=b[P]>>>16,b[P]&=65535,P++}function K(b,P){this.g=b,this.h=P}function X(b,P){if(O(P))throw Error("division by zero");if(O(b))return new K(w,w);if(x(b))return P=X(S(b),P),new K(S(P.g),S(P.h));if(x(P))return P=X(b,S(P)),new K(S(P.g),P.h);if(b.g.length>30){if(x(b)||x(P))throw Error("slowDivide_ only works with positive integers.");for(var N=T,M=P;M.l(b)<=0;)N=ne(N),M=ne(M);var V=se(N,1),L=se(M,1);for(M=se(M,2),N=se(N,2);!O(M);){var k=L.add(M);k.l(b)<=0&&(V=V.add(N),L=k),M=se(M,1),N=se(N,1)}return P=z(b,V.j(P)),new K(V,P)}for(V=w;b.l(P)>=0;){for(N=Math.max(1,Math.floor(b.m()/P.m())),M=Math.ceil(Math.log(N)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=m(N),k=L.j(P);x(k)||k.l(b)>0;)N-=M,L=m(N),k=L.j(P);O(L)&&(L=T),V=V.add(L),b=z(b,k)}return new K(V,b)}n.B=function(b){return X(this,b).h},n.and=function(b){const P=Math.max(this.g.length,b.g.length),N=[];for(let M=0;M<P;M++)N[M]=this.i(M)&b.i(M);return new u(N,this.h&b.h)},n.or=function(b){const P=Math.max(this.g.length,b.g.length),N=[];for(let M=0;M<P;M++)N[M]=this.i(M)|b.i(M);return new u(N,this.h|b.h)},n.xor=function(b){const P=Math.max(this.g.length,b.g.length),N=[];for(let M=0;M<P;M++)N[M]=this.i(M)^b.i(M);return new u(N,this.h^b.h)};function ne(b){const P=b.g.length+1,N=[];for(let M=0;M<P;M++)N[M]=b.i(M)<<1|b.i(M-1)>>>31;return new u(N,b.h)}function se(b,P){const N=P>>5;P%=32;const M=b.g.length-N,V=[];for(let L=0;L<M;L++)V[L]=P>0?b.i(L+N)>>>P|b.i(L+N+1)<<32-P:b.i(L+N);return new u(V,b.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,wI=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,Zs=u}).apply(typeof vw<"u"?vw:typeof self<"u"?self:typeof window<"u"?window:{});var Lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var EI,Cl,TI,Xc,Hp,II,SI,AI;(function(){var n,e=Object.defineProperty;function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lc=="object"&&Lc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=t(this);function o(c,y){if(y)e:{var _=r;c=c.split(".");for(var I=0;I<c.length-1;I++){var B=c[I];if(!(B in _))break e;_=_[B]}c=c[c.length-1],I=_[c],y=y(I),y!=I&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var _=[],I;for(I in y)Object.prototype.hasOwnProperty.call(y,I)&&_.push([I,y[I]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},u=this||self;function d(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function f(c,y,_){return c.call.apply(c.bind,arguments)}function m(c,y,_){return m=f,m.apply(null,arguments)}function v(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var I=_.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function w(c,y){function _(){}_.prototype=y.prototype,c.Z=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Ob=function(I,B,G){for(var le=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)le[Pe-2]=arguments[Pe];return y.prototype[B].apply(I,le)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function C(c){const y=c.length;if(y>0){const _=Array(y);for(let I=0;I<y;I++)_[I]=c[I];return _}return[]}function O(c,y){for(let I=1;I<arguments.length;I++){const B=arguments[I];var _=typeof B;if(_=_!="object"?_:B?Array.isArray(B)?"array":_:"null",_=="array"||_=="object"&&typeof B.length=="number"){_=c.length||0;const G=B.length||0;c.length=_+G;for(let le=0;le<G;le++)c[_+le]=B[le]}else c.push(B)}}class x{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function S(c){u.setTimeout(()=>{throw c},0)}function z(){var c=b;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class H{constructor(){this.h=this.g=null}add(y,_){const I=K.get();I.set(y,_),this.h?this.h.next=I:this.g=I,this.h=I}}var K=new x(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,se=!1,b=new H,P=()=>{const c=Promise.resolve(void 0);ne=()=>{c.then(N)}};function N(){for(var c;c=z();){try{c.h.call(c.g)}catch(_){S(_)}var y=K;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}se=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};u.addEventListener("test",_,y),u.removeEventListener("test",_,y)}catch{}return c})();function k(c){return/^[\s\xa0]*$/.test(c)}function oe(c,y){V.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}w(oe,V),oe.prototype.init=function(c,y){const _=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(_=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&oe.Z.h.call(this)},oe.prototype.h=function(){oe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Re="closure_listenable_"+(Math.random()*1e6|0),Ee=0;function ve(c,y,_,I,B){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!I,this.ha=B,this.key=++Ee,this.da=this.fa=!1}function Y(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ce(c,y,_){for(const I in c)y.call(_,c[I],I,c)}function ae(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function U(c){const y={};for(const _ in c)y[_]=c[_];return y}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Te(c,y){let _,I;for(let B=1;B<arguments.length;B++){I=arguments[B];for(_ in I)c[_]=I[_];for(let G=0;G<Z.length;G++)_=Z[G],Object.prototype.hasOwnProperty.call(I,_)&&(c[_]=I[_])}}function Se(c){this.src=c,this.g={},this.h=0}Se.prototype.add=function(c,y,_,I,B){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const le=De(c,y,I,B);return le>-1?(y=c[le],_||(y.fa=!1)):(y=new ve(y,this.src,G,!!I,B),y.fa=_,c.push(y)),y};function Ne(c,y){const _=y.type;if(_ in c.g){var I=c.g[_],B=Array.prototype.indexOf.call(I,y,void 0),G;(G=B>=0)&&Array.prototype.splice.call(I,B,1),G&&(Y(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function De(c,y,_,I){for(let B=0;B<c.length;++B){const G=c[B];if(!G.da&&G.listener==y&&G.capture==!!_&&G.ha==I)return B}return-1}var Ve="closure_lm_"+(Math.random()*1e6|0),Me={};function Ge(c,y,_,I,B){if(Array.isArray(y)){for(let G=0;G<y.length;G++)Ge(c,y[G],_,I,B);return null}return _=xa(_),c&&c[Re]?c.J(y,_,d(I)?!!I.capture:!1,B):Pt(c,y,_,!1,I,B)}function Pt(c,y,_,I,B,G){if(!y)throw Error("Invalid event type");const le=d(B)?!!B.capture:!!B;let Pe=ao(c);if(Pe||(c[Ve]=Pe=new Se(c)),_=Pe.add(y,_,I,le,G),_.proxy)return _;if(I=hs(),_.proxy=I,I.src=c,I.listener=_,c.addEventListener)L||(B=le),B===void 0&&(B=!1),c.addEventListener(y.toString(),I,B);else if(c.attachEvent)c.attachEvent(oo(y.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return _}function hs(){function c(_){return y.call(c.src,c.listener,_)}const y=pu;return c}function pi(c,y,_,I,B){if(Array.isArray(y))for(var G=0;G<y.length;G++)pi(c,y[G],_,I,B);else I=d(I)?!!I.capture:!!I,_=xa(_),c&&c[Re]?(c=c.i,G=String(y).toString(),G in c.g&&(y=c.g[G],_=De(y,_,I,B),_>-1&&(Y(y[_]),Array.prototype.splice.call(y,_,1),y.length==0&&(delete c.g[G],c.h--)))):c&&(c=ao(c))&&(y=c.g[y.toString()],c=-1,y&&(c=De(y,_,I,B)),(_=c>-1?y[c]:null)&&un(_))}function un(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Re])Ne(y.i,c);else{var _=c.type,I=c.proxy;y.removeEventListener?y.removeEventListener(_,I,c.capture):y.detachEvent?y.detachEvent(oo(_),I):y.addListener&&y.removeListener&&y.removeListener(I),(_=ao(y))?(Ne(_,c),_.h==0&&(_.src=null,y[Ve]=null)):Y(c)}}}function oo(c){return c in Me?Me[c]:Me[c]="on"+c}function pu(c,y){if(c.da)c=!0;else{y=new oe(y,this);const _=c.listener,I=c.ha||c.src;c.fa&&un(c),c=_.call(I,y)}return c}function ao(c){return c=c[Ve],c instanceof Se?c:null}var mi="__closure_events_fn_"+(Math.random()*1e9>>>0);function xa(c){return typeof c=="function"?c:(c[mi]||(c[mi]=function(y){return c.handleEvent(y)}),c[mi])}function pt(){M.call(this),this.i=new Se(this),this.M=this,this.G=null}w(pt,M),pt.prototype[Re]=!0,pt.prototype.removeEventListener=function(c,y,_,I){pi(this,c,y,_,I)};function ut(c,y){var _,I=c.G;if(I)for(_=[];I;I=I.G)_.push(I);if(c=c.M,I=y.type||y,typeof y=="string")y=new V(y,c);else if(y instanceof V)y.target=y.target||c;else{var B=y;y=new V(I,c),Te(y,B)}B=!0;let G,le;if(_)for(le=_.length-1;le>=0;le--)G=y.g=_[le],B=Vn(G,I,!0,y)&&B;if(G=y.g=c,B=Vn(G,I,!0,y)&&B,B=Vn(G,I,!1,y)&&B,_)for(le=0;le<_.length;le++)G=y.g=_[le],B=Vn(G,I,!1,y)&&B}pt.prototype.N=function(){if(pt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const _=c.g[y];for(let I=0;I<_.length;I++)Y(_[I]);delete c.g[y],c.h--}}this.G=null},pt.prototype.J=function(c,y,_,I){return this.i.add(String(c),y,!1,_,I)},pt.prototype.K=function(c,y,_,I){return this.i.add(String(c),y,!0,_,I)};function Vn(c,y,_,I){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let B=!0;for(let G=0;G<y.length;++G){const le=y[G];if(le&&!le.da&&le.capture==_){const Pe=le.listener,ct=le.ha||le.src;le.fa&&Ne(c.i,le),B=Pe.call(ct,I)!==!1&&B}}return B&&!I.defaultPrevented}function Pa(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:u.setTimeout(c,y||0)}function ka(c){c.g=Pa(()=>{c.g=null,c.i&&(c.i=!1,ka(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class mu extends M{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ka(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ds(c){M.call(this),this.h=c,this.g={}}w(ds,M);var ba=[];function lo(c){ce(c.g,function(y,_){this.g.hasOwnProperty(_)&&un(y)},c),c.g={}}ds.prototype.N=function(){ds.Z.N.call(this),lo(this)},ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fs=u.JSON.stringify,gu=u.JSON.parse,gi=class{stringify(c){return u.JSON.stringify(c,void 0)}parse(c){return u.JSON.parse(c,void 0)}};function ps(){}function yu(){}var ms={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function uo(){V.call(this,"d")}w(uo,V);function Na(){V.call(this,"c")}w(Na,V);var Mn={},co=null;function gs(){return co=co||new pt}Mn.Ia="serverreachability";function ho(c){V.call(this,Mn.Ia,c)}w(ho,V);function Or(c){const y=gs();ut(y,new ho(y))}Mn.STAT_EVENT="statevent";function Vr(c,y){V.call(this,Mn.STAT_EVENT,c),this.stat=y}w(Vr,V);function ot(c){const y=gs();ut(y,new Vr(y,c))}Mn.Ja="timingevent";function Da(c,y){V.call(this,Mn.Ja,c),this.size=y}w(Da,V);function ys(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){c()},y)}function vs(){this.g=!0}vs.prototype.ua=function(){this.g=!1};function vu(c,y,_,I,B,G){c.info(function(){if(c.g)if(G){var le="",Pe=G.split("&");for(let Ke=0;Ke<Pe.length;Ke++){var ct=Pe[Ke].split("=");if(ct.length>1){const mt=ct[0];ct=ct[1];const mn=mt.split("_");le=mn.length>=2&&mn[1]=="type"?le+(mt+"="+ct+"&"):le+(mt+"=redacted&")}}}else le=null;else le=G;return"XMLHTTP REQ ("+I+") [attempt "+B+"]: "+y+`
`+_+`
`+le})}function _u(c,y,_,I,B,G,le){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+B+"]: "+y+`
`+_+`
`+G+" "+le})}function tr(c,y,_,I){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+yi(c,_)+(I?" "+I:"")})}function wu(c,y){c.info(function(){return"TIMEOUT: "+y})}vs.prototype.info=function(){};function yi(c,y){if(!c.g)return y;if(!y)return null;try{const G=JSON.parse(y);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var _=G[c];if(!(_.length<2)){var I=_[1];if(Array.isArray(I)&&!(I.length<1)){var B=I[0];if(B!="noop"&&B!="stop"&&B!="close")for(let le=1;le<I.length;le++)I[le]=""}}}}return fs(G)}catch{return y}}var _s={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ws={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Eu;function Mr(){}w(Mr,ps),Mr.prototype.g=function(){return new XMLHttpRequest},Eu=new Mr;function nr(c){return encodeURIComponent(String(c))}function fo(c){var y=1;c=c.split(":");const _=[];for(;y>0&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function Sn(c,y,_,I){this.j=c,this.i=y,this.l=_,this.S=I||1,this.V=new ds(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Tu}function Tu(){this.i=null,this.g="",this.h=!1}var Iu={},Oa={};function Ln(c,y,_){c.M=1,c.A=Fr(An(y)),c.u=_,c.R=!0,Va(c,null)}function Va(c,y){c.F=Date.now(),vi(c),c.B=An(c.A);var _=c.B,I=c.S;Array.isArray(I)||(I=[String(I)]),Ha(_.i,"t",I),c.C=0,_=c.j.L,c.h=new Tu,c.g=Du(c.j,_?y:null,!c.u),c.P>0&&(c.O=new mu(m(c.Y,c,c.g),c.P)),y=c.V,_=c.g,I=c.ba;var B="readystatechange";Array.isArray(B)||(B&&(ba[0]=B.toString()),B=ba);for(let G=0;G<B.length;G++){const le=Ge(_,B[G],I||y.handleEvent,!1,y.h||y);if(!le)break;y.g[le.key]=le}y=c.J?U(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),Or(),vu(c.i,c.v,c.B,c.l,c.S,c.u)}Sn.prototype.ba=function(c){c=c.target;const y=this.O;y&&ur(c)==3?y.j():this.Y(c)},Sn.prototype.Y=function(c){try{if(c==this.g)e:{const Pe=ur(this.g),ct=this.g.ya(),Ke=this.g.ca();if(!(Pe<3)&&(Pe!=3||this.g&&(this.h.h||this.g.la()||bu(this.g)))){this.K||Pe!=4||ct==7||(ct==8||Ke<=0?Or(3):Or(2)),po(this);var y=this.g.ca();this.X=y;var _=Su(this);if(this.o=y==200,_u(this.i,this.v,this.B,this.l,this.S,Pe,y),this.o){if(this.U&&!this.L){t:{if(this.g){var I,B=this.g;if((I=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(I)){var G=I;break t}}G=null}if(c=G)tr(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Je(this,c);else{this.o=!1,this.m=3,ot(12),Lr(this),_i(this);break e}}if(this.R){c=!0;let mt;for(;!this.K&&this.C<_.length;)if(mt=Cu(this,_),mt==Oa){Pe==4&&(this.m=4,ot(14),c=!1),tr(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==Iu){this.m=4,ot(15),tr(this.i,this.l,_,"[Invalid Chunk]"),c=!1;break}else tr(this.i,this.l,mt,null),Je(this,mt);if(Au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pe!=4||_.length!=0||this.h.h||(this.m=1,ot(16),c=!1),this.o=this.o&&c,!c)tr(this.i,this.l,_,"[Invalid Chunked Response]"),Lr(this),_i(this);else if(_.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),xi(le),le.P=!0,ot(11))}}else tr(this.i,this.l,_,null),Je(this,_);Pe==4&&Lr(this),this.o&&!this.K&&(Pe==4?So(this.j,this):(this.o=!1,vi(this)))}else Ga(this.g),y==400&&_.indexOf("Unknown SID")>0?(this.m=3,ot(12)):(this.m=0,ot(13)),Lr(this),_i(this)}}}catch{}finally{}};function Su(c){if(!Au(c))return c.g.la();const y=bu(c.g);if(y==="")return"";let _="";const I=y.length,B=ur(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Lr(c),_i(c),"";c.h.i=new u.TextDecoder}for(let G=0;G<I;G++)c.h.h=!0,_+=c.h.i.decode(y[G],{stream:!(B&&G==I-1)});return y.length=0,c.h.g+=_,c.C=0,c.h.g}function Au(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Cu(c,y){var _=c.C,I=y.indexOf(`
`,_);return I==-1?Oa:(_=Number(y.substring(_,I)),isNaN(_)?Iu:(I+=1,I+_>y.length?Oa:(y=y.slice(I,I+_),c.C=I+_,y)))}Sn.prototype.cancel=function(){this.K=!0,Lr(this)};function vi(c){c.T=Date.now()+c.H,Ma(c,c.H)}function Ma(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ys(m(c.aa,c),y)}function po(c){c.D&&(u.clearTimeout(c.D),c.D=null)}Sn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(wu(this.i,this.B),this.M!=2&&(Or(),ot(17)),Lr(this),this.m=2,_i(this)):Ma(this,this.T-c)};function _i(c){c.j.I==0||c.K||So(c.j,c)}function Lr(c){po(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,lo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function Je(c,y){try{var _=c.j;if(_.I!=0&&(_.g==c||Fa(_.h,c))){if(!c.L&&Fa(_.h,c)&&_.I==3){try{var I=_.Ba.g.parse(y)}catch{I=null}if(Array.isArray(I)&&I.length==3){var B=I;if(B[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<c.F)Io(_),fn(_);else break e;dr(_),ot(18)}}else _.xa=B[1],0<_.xa-_.K&&B[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ys(m(_.Va,_),6e3));wi(_.h)<=1&&_.ta&&(_.ta=void 0)}else pn(_,11)}else if((c.L||_.g==c)&&Io(_),!k(y))for(B=_.Ba.g.parse(y),y=0;y<B.length;y++){let Ke=B[y];const mt=Ke[0];if(!(mt<=_.K))if(_.K=mt,Ke=Ke[1],_.I==2)if(Ke[0]=="c"){_.M=Ke[1],_.ba=Ke[2];const mn=Ke[3];mn!=null&&(_.ka=mn,_.j.info("VER="+_.ka));const Br=Ke[4];Br!=null&&(_.za=Br,_.j.info("SVER="+_.za));const fr=Ke[5];fr!=null&&typeof fr=="number"&&fr>0&&(I=1.5*fr,_.O=I,_.j.info("backChannelRequestTimeoutMs_="+I)),I=_;const pr=c.g;if(pr){const Ro=pr.g?pr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ro){var G=I.h;G.g||Ro.indexOf("spdy")==-1&&Ro.indexOf("quic")==-1&&Ro.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(go(G,G.h),G.h=null))}if(I.G){const Ya=pr.g?pr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ya&&(I.wa=Ya,He(I.J,I.G,Ya))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-c.F,_.j.info("Handshake RTT: "+_.T+"ms")),I=_;var le=c;if(I.na=Qa(I,I.L?I.ba:null,I.W),le.L){Ei(I.h,le);var Pe=le,ct=I.O;ct&&(Pe.H=ct),Pe.D&&(po(Pe),vi(Pe)),I.g=le}else Lt(I);_.i.length>0&&$r(_)}else Ke[0]!="stop"&&Ke[0]!="close"||pn(_,7);else _.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?pn(_,7):Eo(_):Ke[0]!="noop"&&_.l&&_.l.qa(Ke),_.A=0)}}Or(4)}catch{}}var Ed=class{constructor(c,y){this.g=c,this.map=y}};function mo(c){this.l=c||10,u.PerformanceNavigationTiming?(c=u.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function La(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function wi(c){return c.h?1:c.g?c.g.size:0}function Fa(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function go(c,y){c.g?c.g.add(y):c.h=y}function Ei(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}mo.prototype.cancel=function(){if(this.i=cn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function cn(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.G);return y}return C(c.i)}var Ru=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hn(c,y){if(c){c=c.split("&");for(let _=0;_<c.length;_++){const I=c[_].indexOf("=");let B,G=null;I>=0?(B=c[_].substring(0,I),G=c[_].substring(I+1)):B=c[_],y(B,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function rr(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof rr?(this.l=c.l,Ti(this,c.j),this.o=c.o,this.g=c.g,sr(this,c.u),this.h=c.h,Es(this,Wa(c.i)),this.m=c.m):c&&(y=String(c).match(Ru))?(this.l=!1,Ti(this,y[1]||"",!0),this.o=Ii(y[2]||""),this.g=Ii(y[3]||"",!0),sr(this,y[4]),this.h=Ii(y[5]||"",!0),Es(this,y[6]||"",!0),this.m=Ii(y[7]||"")):(this.l=!1,this.i=new Ue(null,this.l))}rr.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Si(y,Ua,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Si(y,Ua,!0),"@"),c.push(nr(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&c.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Si(_,_.charAt(0)=="/"?Ai:za,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Si(_,$a)),c.join("")},rr.prototype.resolve=function(c){const y=An(this);let _=!!c.j;_?Ti(y,c.j):_=!!c.o,_?y.o=c.o:_=!!c.g,_?y.g=c.g:_=c.u!=null;var I=c.h;if(_)sr(y,c.u);else if(_=!!c.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var B=y.h.lastIndexOf("/");B!=-1&&(I=y.h.slice(0,B+1)+I)}if(B=I,B==".."||B==".")I="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){I=B.lastIndexOf("/",0)==0,B=B.split("/");const G=[];for(let le=0;le<B.length;){const Pe=B[le++];Pe=="."?I&&le==B.length&&G.push(""):Pe==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),I&&le==B.length&&G.push("")):(G.push(Pe),I=!0)}I=G.join("/")}else I=B}return _?y.h=I:_=c.i.toString()!=="",_?Es(y,Wa(c.i)):_=!!c.m,_&&(y.m=c.m),y};function An(c){return new rr(c)}function Ti(c,y,_){c.j=_?Ii(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function sr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Es(c,y,_){y instanceof Ue?(c.i=y,vo(c.i,c.l)):(_||(y=Si(y,Td)),c.i=new Ue(y,c.l))}function He(c,y,_){c.i.set(y,_)}function Fr(c){return He(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ii(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Si(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,ja),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ja(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ua=/[#\/\?@]/g,za=/[#\?:]/g,Ai=/[#\?]/g,Td=/[#\?@]/g,$a=/#/g;function Ue(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function ir(c){c.g||(c.g=new Map,c.h=0,c.i&&hn(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=Ue.prototype,n.add=function(c,y){ir(this),this.i=null,c=or(this,c);let _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Ba(c,y){ir(c),y=or(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function yo(c,y){return ir(c),y=or(c,y),c.g.has(y)}n.forEach=function(c,y){ir(this),this.g.forEach(function(_,I){_.forEach(function(B){c.call(y,B,I,this)},this)},this)};function qa(c,y){ir(c);let _=[];if(typeof y=="string")yo(c,y)&&(_=_.concat(c.g.get(or(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)_=_.concat(c[y]);return _}n.set=function(c,y){return ir(this),this.i=null,c=or(this,c),yo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},n.get=function(c,y){return c?(c=qa(this,c),c.length>0?String(c[0]):y):y};function Ha(c,y,_){Ba(c,y),_.length>0&&(c.i=null,c.g.set(or(c,y),C(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let I=0;I<y.length;I++){var _=y[I];const B=nr(_);_=qa(this,_);for(let G=0;G<_.length;G++){let le=B;_[G]!==""&&(le+="="+nr(_[G])),c.push(le)}}return this.i=c.join("&")};function Wa(c){const y=new Ue;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function or(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function vo(c,y){y&&!c.j&&(ir(c),c.i=null,c.g.forEach(function(_,I){const B=I.toLowerCase();I!=B&&(Ba(this,I),Ha(this,B,_))},c)),c.j=y}function ar(c,y){const _=new vs;if(u.Image){const I=new Image;I.onload=v(kt,_,"TestLoadImage: loaded",!0,y,I),I.onerror=v(kt,_,"TestLoadImage: error",!1,y,I),I.onabort=v(kt,_,"TestLoadImage: abort",!1,y,I),I.ontimeout=v(kt,_,"TestLoadImage: timeout",!1,y,I),u.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else y(!1)}function lr(c,y){const _=new vs,I=new AbortController,B=setTimeout(()=>{I.abort(),kt(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:I.signal}).then(G=>{clearTimeout(B),G.ok?kt(_,"TestPingServer: ok",!0,y):kt(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),kt(_,"TestPingServer: error",!1,y)})}function kt(c,y,_,I,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),I(_)}catch{}}function Ci(){this.g=new gi}function jr(c){this.i=c.Sb||null,this.h=c.ab||!1}w(jr,ps),jr.prototype.g=function(){return new dn(this.i,this.h)};function dn(c,y){pt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(dn,pt),n=dn.prototype,n.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Fn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||u).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ts(this)),this.readyState=0},n.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xu(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function xu(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}n.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Ts(this):Fn(this),this.readyState==3&&xu(this)}},n.Oa=function(c){this.g&&(this.response=this.responseText=c,Ts(this))},n.Na=function(c){this.g&&(this.response=c,Ts(this))},n.ga=function(){this.g&&Ts(this)};function Ts(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Fn(c)}n.setRequestHeader=function(c,y){this.A.append(c,y)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Fn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(dn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Pu(c){let y="";return ce(c,function(_,I){y+=I,y+=":",y+=_,y+=`\r
`}),y}function _o(c,y,_){e:{for(I in _){var I=!1;break e}I=!0}I||(_=Pu(_),typeof c=="string"?_!=null&&nr(_):He(c,y,_))}function Qe(c){pt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Qe,pt);var ku=/^https?$/i,Id=["POST","PUT"];n=Qe.prototype,n.Fa=function(c){this.H=c},n.ea=function(c,y,_,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Eu.g(),this.g.onreadystatechange=T(m(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){Is(this,G);return}if(c=_||"",_=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var B in I)_.set(B,I[B]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const G of I.keys())_.set(G,I.get(G));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),B=u.FormData&&c instanceof u.FormData,!(Array.prototype.indexOf.call(Id,y,void 0)>=0)||I||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,le]of _)this.g.setRequestHeader(G,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){Is(this,G)}};function Is(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Ss(c),zr(c)}function Ss(c){c.A||(c.A=!0,ut(c,"complete"),ut(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,ut(this,"complete"),ut(this,"abort"),zr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zr(this,!0)),Qe.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Ur(this):this.Xa())},n.Xa=function(){Ur(this)};function Ur(c){if(c.h&&typeof a<"u"){if(c.v&&ur(c)==4)setTimeout(c.Ca.bind(c),0);else if(ut(c,"readystatechange"),ur(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var I;if(I=G===0){let le=String(c.D).match(Ru)[1]||null;!le&&u.self&&u.self.location&&(le=u.self.location.protocol.slice(0,-1)),I=!ku.test(le?le.toLowerCase():"")}_=I}if(_)ut(c,"complete"),ut(c,"success");else{c.o=6;try{var B=ur(c)>2?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.ca()+"]",Ss(c)}}finally{zr(c)}}}}function zr(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const _=c.g;c.g=null,y||ut(c,"ready");try{_.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ur(c){return c.g?c.g.readyState:0}n.ca=function(){try{return ur(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),gu(y)}};function bu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ga(c){const y={};c=(c.g&&ur(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(k(c[I]))continue;var _=fo(c[I]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=y[B]||[];y[B]=G,G.push(_)}ae(y,function(I){return I.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function cr(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function wo(c){this.za=0,this.i=[],this.j=new vs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=cr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=cr("baseRetryDelayMs",5e3,c),this.Za=cr("retryDelaySeedMs",1e4,c),this.Ta=cr("forwardChannelMaxRetries",2,c),this.va=cr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new mo(c&&c.concurrentRequestLimit),this.Ba=new Ci,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=wo.prototype,n.ka=8,n.I=1,n.connect=function(c,y,_,I){ot(0),this.W=c,this.H=y||{},_&&I!==void 0&&(this.H.OSID=_,this.H.OAID=I),this.F=this.X,this.J=Qa(this,null,this.W),$r(this)};function Eo(c){if(To(c),c.I==3){var y=c.V++,_=An(c.J);if(He(_,"SID",c.M),He(_,"RID",y),He(_,"TYPE","terminate"),hr(c,_),y=new Sn(c,c.j,y),y.M=2,y.A=Fr(An(_)),_=!1,u.navigator&&u.navigator.sendBeacon)try{_=u.navigator.sendBeacon(y.A.toString(),"")}catch{}!_&&u.Image&&(new Image().src=y.A,_=!0),_||(y.g=Du(y.j,null),y.g.ea(y.A)),y.F=Date.now(),vi(y)}Pi(c)}function fn(c){c.g&&(xi(c),c.g.cancel(),c.g=null)}function To(c){fn(c),c.v&&(u.clearTimeout(c.v),c.v=null),Io(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&u.clearTimeout(c.m),c.m=null)}function $r(c){if(!La(c.h)&&!c.m){c.m=!0;var y=c.Ea;ne||P(),se||(ne(),se=!0),b.add(y,c),c.D=0}}function Nu(c,y){return wi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ys(m(c.Ea,c,y),Ao(c,c.D)),c.D++,!0)}n.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const B=new Sn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=U(G),Te(G,this.U)):G=this.U),this.u!==null||this.R||(B.J=G,G=null),this.S)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var I=this.i[_];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(y+=I,y>4096){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Ka(this,B,y),_=An(this.J),He(_,"RID",c),He(_,"CVER",22),this.G&&He(_,"X-HTTP-Session-Id",this.G),hr(this,_),G&&(this.R?y="headers="+nr(Pu(G))+"&"+y:this.u&&_o(_,this.u,G)),go(this.h,B),this.Ra&&He(_,"TYPE","init"),this.S?(He(_,"$req",y),He(_,"SID","null"),B.U=!0,Ln(B,_,null)):Ln(B,_,y),this.I=2}}else this.I==3&&(c?Ri(this,c):this.i.length==0||La(this.h)||Ri(this))};function Ri(c,y){var _;y?_=y.l:_=c.V++;const I=An(c.J);He(I,"SID",c.M),He(I,"RID",_),He(I,"AID",c.K),hr(c,I),c.u&&c.o&&_o(I,c.u,c.o),_=new Sn(c,c.j,_,c.D+1),c.u===null&&(_.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Ka(c,_,1e3),_.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),go(c.h,_),Ln(_,I,y)}function hr(c,y){c.H&&ce(c.H,function(_,I){He(y,I,_)}),c.l&&ce({},function(_,I){He(y,I,_)})}function Ka(c,y,_){_=Math.min(c.i.length,_);const I=c.l?m(c.l.Ka,c.l,c):null;e:{var B=c.i;let Pe=-1;for(;;){const ct=["count="+_];Pe==-1?_>0?(Pe=B[0].g,ct.push("ofs="+Pe)):Pe=0:ct.push("ofs="+Pe);let Ke=!0;for(let mt=0;mt<_;mt++){var G=B[mt].g;const mn=B[mt].map;if(G-=Pe,G<0)Pe=Math.max(0,B[mt].g-100),Ke=!1;else try{G="req"+G+"_"||"";try{var le=mn instanceof Map?mn:Object.entries(mn);for(const[Br,fr]of le){let pr=fr;d(fr)&&(pr=fs(fr)),ct.push(G+Br+"="+encodeURIComponent(pr))}}catch(Br){throw ct.push(G+"type="+encodeURIComponent("_badmap")),Br}}catch{I&&I(mn)}}if(Ke){le=ct.join("&");break e}}le=void 0}return c=c.i.splice(0,_),y.G=c,le}function Lt(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;ne||P(),se||(ne(),se=!0),b.add(y,c),c.A=0}}function dr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ys(m(c.Da,c),Ao(c,c.A)),c.A++,!0)}n.Da=function(){if(this.v=null,As(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ys(m(this.Wa,this),c)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ot(10),fn(this),As(this))};function xi(c){c.B!=null&&(u.clearTimeout(c.B),c.B=null)}function As(c){c.g=new Sn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=An(c.na);He(y,"RID","rpc"),He(y,"SID",c.M),He(y,"AID",c.K),He(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&He(y,"TO",c.ia),He(y,"TYPE","xmlhttp"),hr(c,y),c.u&&c.o&&_o(y,c.u,c.o),c.O&&(c.g.H=c.O);var _=c.g;c=c.ba,_.M=1,_.A=Fr(An(y)),_.u=null,_.R=!0,Va(_,c)}n.Va=function(){this.C!=null&&(this.C=null,fn(this),dr(this),ot(19))};function Io(c){c.C!=null&&(u.clearTimeout(c.C),c.C=null)}function So(c,y){var _=null;if(c.g==y){Io(c),xi(c),c.g=null;var I=2}else if(Fa(c.h,y))_=y.G,Ei(c.h,y),I=1;else return;if(c.I!=0){if(y.o)if(I==1){_=y.u?y.u.length:0,y=Date.now()-y.F;var B=c.D;I=gs(),ut(I,new Da(I,_)),$r(c)}else Lt(c);else if(B=y.m,B==3||B==0&&y.X>0||!(I==1&&Nu(c,y)||I==2&&dr(c)))switch(_&&_.length>0&&(y=c.h,y.i=y.i.concat(_)),B){case 1:pn(c,5);break;case 4:pn(c,10);break;case 3:pn(c,6);break;default:pn(c,2)}}}function Ao(c,y){let _=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(_*=2),_*y}function pn(c,y){if(c.j.info("Error code "+y),y==2){var _=m(c.bb,c),I=c.Ua;const B=!I;I=new rr(I||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ti(I,"https"),Fr(I),B?ar(I.toString(),_):lr(I.toString(),_)}else ot(2);c.I=0,c.l&&c.l.pa(y),Pi(c),To(c)}n.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function Pi(c){if(c.I=0,c.ja=[],c.l){const y=cn(c.h);(y.length!=0||c.i.length!=0)&&(O(c.ja,y),O(c.ja,c.i),c.h.i.length=0,C(c.i),c.i.length=0),c.l.oa()}}function Qa(c,y,_){var I=_ instanceof rr?An(_):new rr(_);if(I.g!="")y&&(I.g=y+"."+I.g),sr(I,I.u);else{var B=u.location;I=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;const G=new rr(null);I&&Ti(G,I),y&&(G.g=y),B&&sr(G,B),_&&(G.h=_),I=G}return _=c.G,y=c.wa,_&&y&&He(I,_,y),He(I,"VER",c.ka),hr(c,I),I}function Du(c,y,_){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Qe(new jr({ab:_})):new Qe(c.ma),y.Fa(c.L),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ou(){}n=Ou.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Co(){}Co.prototype.g=function(c,y){return new bt(c,y)};function bt(c,y){pt.call(this),this.g=new wo(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!k(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!k(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Cs(this)}w(bt,pt),bt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},bt.prototype.close=function(){Eo(this.g)},bt.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.v&&(_={},_.__data__=fs(c),c=_);y.i.push(new Ed(y.Ya++,c)),y.I==3&&$r(y)},bt.prototype.N=function(){this.g.l=null,delete this.j,Eo(this.g),delete this.g,bt.Z.N.call(this)};function Vu(c){uo.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}w(Vu,uo);function Mu(){Na.call(this),this.status=1}w(Mu,Na);function Cs(c){this.g=c}w(Cs,Ou),Cs.prototype.ra=function(){ut(this.g,"a")},Cs.prototype.qa=function(c){ut(this.g,new Vu(c))},Cs.prototype.pa=function(c){ut(this.g,new Mu)},Cs.prototype.oa=function(){ut(this.g,"b")},Co.prototype.createWebChannel=Co.prototype.g,bt.prototype.send=bt.prototype.o,bt.prototype.open=bt.prototype.m,bt.prototype.close=bt.prototype.close,AI=function(){return new Co},SI=function(){return gs()},II=Mn,Hp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_s.NO_ERROR=0,_s.TIMEOUT=8,_s.HTTP_ERROR=6,Xc=_s,ws.COMPLETE="complete",TI=ws,yu.EventType=ms,ms.OPEN="a",ms.CLOSE="b",ms.ERROR="c",ms.MESSAGE="d",pt.prototype.listen=pt.prototype.J,Cl=yu,Qe.prototype.listenOnce=Qe.prototype.K,Qe.prototype.getLastError=Qe.prototype.Ha,Qe.prototype.getLastErrorCode=Qe.prototype.ya,Qe.prototype.getStatus=Qe.prototype.ca,Qe.prototype.getResponseJson=Qe.prototype.La,Qe.prototype.getResponseText=Qe.prototype.la,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Fa,EI=Qe}).apply(typeof Lc<"u"?Lc:typeof self<"u"?self:typeof window<"u"?window:{});const _w="@firebase/firestore",ww="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qt.UNAUTHENTICATED=new qt(null),qt.GOOGLE_CREDENTIALS=new qt("google-credentials-uid"),qt.FIRST_PARTY=new qt("first-party-uid"),qt.MOCK_USER=new qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ta="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=new Gh("@firebase/firestore");function Ko(){return Zi.logLevel}function de(n,...e){if(Zi.logLevel<=Le.DEBUG){const t=e.map(Km);Zi.debug(`Firestore (${Ta}): ${n}`,...t)}}function ls(n,...e){if(Zi.logLevel<=Le.ERROR){const t=e.map(Km);Zi.error(`Firestore (${Ta}): ${n}`,...t)}}function ua(n,...e){if(Zi.logLevel<=Le.WARN){const t=e.map(Km);Zi.warn(`Firestore (${Ta}): ${n}`,...t)}}function Km(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,CI(n,r,t)}function CI(n,e,t){let r=`FIRESTORE (${Ta}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ls(r),new Error(r)}function We(n,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,n||CI(e,o,r)}function ke(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends er{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class c2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(qt.UNAUTHENTICATED)))}shutdown(){}}class h2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class d2{constructor(e){this.t=e,this.currentUser=qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){We(this.o===void 0,42304);let r=this.i;const o=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new ns;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ns,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await o(this.currentUser)}))},d=f=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ns)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(We(typeof r.accessToken=="string",31837,{l:r}),new RI(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new qt(e)}}class f2{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=qt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class p2{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new f2(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(qt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ew{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class m2{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){We(this.o===void 0,3512);const r=a=>{a.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,de("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const o=a=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ew(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(We(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Ew(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=g2(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%62))}return r}}function Fe(n,e){return n<e?-1:n>e?1:0}function Wp(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const o=n.charAt(r),a=e.charAt(r);if(o!==a)return pp(o)===pp(a)?Fe(o,a):pp(o)?1:-1}return Fe(n.length,e.length)}const y2=55296,v2=57343;function pp(n){const e=n.charCodeAt(0);return e>=y2&&e<=v2}function ca(n,e,t){return n.length===e.length&&n.every(((r,o)=>t(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="__name__";class _r{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ie(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ie(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return _r.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof _r?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=_r.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Fe(e.length,t.length)}static compareSegments(e,t){const r=_r.isNumericId(e),o=_r.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?_r.extractNumericId(e).compare(_r.extractNumericId(t)):Wp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Zs.fromString(e.substring(4,e.length-2))}}class Ye extends _r{construct(e,t,r){return new Ye(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((o=>o.length>0)))}return new Ye(t)}static emptyPath(){return new Ye([])}}const _2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vt extends _r{construct(e,t,r){return new Vt(e,t,r)}static isValidIdentifier(e){return _2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Tw}static keyField(){return new Vt([Tw])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(r.length===0)throw new ue(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ue(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ue(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,o+=2}else d==="`"?(u=!u,o++):d!=="."||u?(r+=d,o++):(a(),o++)}if(a(),u)throw new ue(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vt(t)}static emptyPath(){return new Vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Ye.fromString(e))}static fromName(e){return new ye(Ye.fromString(e).popFirst(5))}static empty(){return new ye(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ye.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Ye(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(n,e,t){if(!t)throw new ue(Q.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function w2(n,e,t,r){if(e===!0&&r===!0)throw new ue(Q.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Iw(n){if(!ye.isDocumentKey(n))throw new ue(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Sw(n){if(ye.isDocumentKey(n))throw new ue(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function PI(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Zh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ie(12329,{type:typeof n})}function br(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ue(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Zh(n);throw new ue(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function E2(n,e){if(e<=0)throw new ue(Q.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(n,e){const t={typeString:n};return e&&(t.value=e),t}function ou(n,e){if(!PI(n))throw new ue(Q.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const o=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(o&&typeof u!==o){t=`JSON field '${r}' must be a ${o}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new ue(Q.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=-62135596800,Cw=1e6;class qe{static now(){return qe.fromMillis(Date.now())}static fromDate(e){return qe.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Cw);return new qe(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ue(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ue(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Aw)throw new ue(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Cw}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ou(e,qe._jsonSchema))return new qe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Aw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}qe._jsonSchemaVersion="firestore/timestamp/1.0",qe._jsonSchema={type:_t("string",qe._jsonSchemaVersion),seconds:_t("number"),nanoseconds:_t("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new qe(0,0))}static max(){return new xe(new qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=-1;function T2(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=xe.fromTimestamp(r===1e9?new qe(t+1,0):new qe(t,r));return new oi(o,ye.empty(),e)}function I2(n){return new oi(n.readTime,n.key,ql)}class oi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new oi(xe.min(),ye.empty(),ql)}static max(){return new oi(xe.max(),ye.empty(),ql)}}function S2(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(n.documentKey,e.documentKey),t!==0?t:Fe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class C2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ia(n){if(n.code!==Q.FAILED_PRECONDITION||n.message!==A2)throw n;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new J(((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof J?t:J.resolve(t)}catch(t){return J.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):J.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):J.reject(t)}static resolve(e){return new J(((t,r)=>{t(e)}))}static reject(e){return new J(((t,r)=>{r(e)}))}static waitFor(e){return new J(((t,r)=>{let o=0,a=0,u=!1;e.forEach((d=>{++o,d.next((()=>{++a,u&&a===o&&t()}),(f=>r(f)))})),u=!0,a===o&&t()}))}static or(e){let t=J.resolve(!1);for(const r of e)t=t.next((o=>o?J.resolve(o):r()));return t}static forEach(e,t){const r=[];return e.forEach(((o,a)=>{r.push(t.call(this,o,a))})),this.waitFor(r)}static mapArray(e,t){return new J(((r,o)=>{const a=e.length,u=new Array(a);let d=0;for(let f=0;f<a;f++){const m=f;t(e[m]).next((v=>{u[m]=v,++d,d===a&&r(u)}),(v=>o(v)))}}))}static doWhile(e,t){return new J(((r,o)=>{const a=()=>{e()===!0?t().next((()=>{a()}),o):r()};a()}))}}function R2(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Sa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ed.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym=-1;function td(n){return n==null}function _h(n){return n===0&&1/n==-1/0}function x2(n){return typeof n=="number"&&Number.isInteger(n)&&!_h(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="";function P2(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Rw(e)),e=k2(n.get(t),e);return Rw(e)}function k2(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case kI:t+="";break;default:t+=a}}return t}function Rw(n){return n+kI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function di(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function bI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,t){this.comparator=e,this.root=t||Ot.EMPTY}insert(e,t){return new it(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fc(this.root,e,this.comparator,!0)}}class Fc{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ot{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??Ot.RED,this.left=o??Ot.EMPTY,this.right=a??Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new Ot(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ot.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1;Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,t,r,o,a){return this}insert(e,t,r){return new Ot(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Pw(this.data.getIterator())}getIteratorFrom(e){return new Pw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new It(this.comparator);return t.data=e,t}}class Pw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new wn([])}unionWith(e){let t=new It(Vt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new wn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ca(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new NI("Invalid base64 string: "+a):a}})(e);return new Mt(t)}static fromUint8Array(e){const t=(function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a})(e);return new Mt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mt.EMPTY_BYTE_STRING=new Mt("");const b2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ai(n){if(We(!!n,39018),typeof n=="string"){let e=0;const t=b2.exec(n);if(We(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dt(n.seconds),nanos:dt(n.nanos)}}function dt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function li(n){return typeof n=="string"?Mt.fromBase64String(n):Mt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="server_timestamp",OI="__type__",VI="__previous_value__",MI="__local_write_time__";function nd(n){return(n?.mapValue?.fields||{})[OI]?.stringValue===DI}function rd(n){const e=n.mapValue.fields[VI];return nd(e)?rd(e):e}function Hl(n){const e=ai(n.mapValue.fields[MI].timestampValue);return new qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e,t,r,o,a,u,d,f,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=v}}const wh="(default)";class Wl{constructor(e,t){this.projectId=e,this.database=t||wh}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database===wh}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI="__type__",D2="__max__",jc={mapValue:{}},FI="__vector__",Eh="value";function ui(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?nd(n)?4:V2(n)?9007199254740991:O2(n)?10:11:Ie(28295,{value:n})}function Nr(n,e){if(n===e)return!0;const t=ui(n);if(t!==ui(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Hl(n).isEqual(Hl(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=ai(o.timestampValue),d=ai(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,a){return li(o.bytesValue).isEqual(li(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,a){return dt(o.geoPointValue.latitude)===dt(a.geoPointValue.latitude)&&dt(o.geoPointValue.longitude)===dt(a.geoPointValue.longitude)})(n,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return dt(o.integerValue)===dt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=dt(o.doubleValue),d=dt(a.doubleValue);return u===d?_h(u)===_h(d):isNaN(u)&&isNaN(d)}return!1})(n,e);case 9:return ca(n.arrayValue.values||[],e.arrayValue.values||[],Nr);case 10:case 11:return(function(o,a){const u=o.mapValue.fields||{},d=a.mapValue.fields||{};if(xw(u)!==xw(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!Nr(u[f],d[f])))return!1;return!0})(n,e);default:return Ie(52216,{left:n})}}function Gl(n,e){return(n.values||[]).find((t=>Nr(t,e)))!==void 0}function ha(n,e){if(n===e)return 0;const t=ui(n),r=ui(e);if(t!==r)return Fe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fe(n.booleanValue,e.booleanValue);case 2:return(function(a,u){const d=dt(a.integerValue||a.doubleValue),f=dt(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(n,e);case 3:return kw(n.timestampValue,e.timestampValue);case 4:return kw(Hl(n),Hl(e));case 5:return Wp(n.stringValue,e.stringValue);case 6:return(function(a,u){const d=li(a),f=li(u);return d.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,u){const d=a.split("/"),f=u.split("/");for(let m=0;m<d.length&&m<f.length;m++){const v=Fe(d[m],f[m]);if(v!==0)return v}return Fe(d.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,u){const d=Fe(dt(a.latitude),dt(u.latitude));return d!==0?d:Fe(dt(a.longitude),dt(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return bw(n.arrayValue,e.arrayValue);case 10:return(function(a,u){const d=a.fields||{},f=u.fields||{},m=d[Eh]?.arrayValue,v=f[Eh]?.arrayValue,w=Fe(m?.values?.length||0,v?.values?.length||0);return w!==0?w:bw(m,v)})(n.mapValue,e.mapValue);case 11:return(function(a,u){if(a===jc.mapValue&&u===jc.mapValue)return 0;if(a===jc.mapValue)return 1;if(u===jc.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),m=u.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let w=0;w<f.length&&w<v.length;++w){const T=Wp(f[w],v[w]);if(T!==0)return T;const C=ha(d[f[w]],m[v[w]]);if(C!==0)return C}return Fe(f.length,v.length)})(n.mapValue,e.mapValue);default:throw Ie(23264,{he:t})}}function kw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Fe(n,e);const t=ai(n),r=ai(e),o=Fe(t.seconds,r.seconds);return o!==0?o:Fe(t.nanos,r.nanos)}function bw(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const a=ha(t[o],r[o]);if(a)return a}return Fe(t.length,r.length)}function da(n){return Gp(n)}function Gp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=ai(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return li(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ye.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",o=!0;for(const a of t.values||[])o?o=!1:r+=",",r+=Gp(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${Gp(t.fields[u])}`;return o+"}"})(n.mapValue):Ie(61005,{value:n})}function Jc(n){switch(ui(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rd(n);return e?16+Jc(e):16;case 5:return 2*n.stringValue.length;case 6:return li(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,a)=>o+Jc(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return di(r.fields,((a,u)=>{o+=a.length+Jc(u)})),o})(n.mapValue);default:throw Ie(13486,{value:n})}}function Th(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Kp(n){return!!n&&"integerValue"in n}function Xm(n){return!!n&&"arrayValue"in n}function Nw(n){return!!n&&"nullValue"in n}function Dw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Zc(n){return!!n&&"mapValue"in n}function O2(n){return(n?.mapValue?.fields||{})[LI]?.stringValue===FI}function Ol(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return di(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Ol(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ol(n.arrayValue.values[t]);return e}return{...n}}function V2(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===D2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Zc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ol(t)}setAll(e){let t=Vt.emptyPath(),r={},o=[];e.forEach(((u,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,r,o),r={},o=[],t=d.popLast()}u?r[d.lastSegment()]=Ol(u):o.push(d.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());Zc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Nr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Zc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){di(t,((o,a)=>e[o]=a));for(const o of r)delete e[o]}clone(){return new an(Ol(this.value))}}function jI(n){const e=[];return di(n.fields,((t,r)=>{const o=new Vt([t]);if(Zc(r)){const a=jI(r.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)})),new wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,t,r,o,a,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Ht(e,0,xe.min(),xe.min(),xe.min(),an.empty(),0)}static newFoundDocument(e,t,r,o){return new Ht(e,1,t,xe.min(),r,o,0)}static newNoDocument(e,t){return new Ht(e,2,t,xe.min(),xe.min(),an.empty(),0)}static newUnknownDocument(e,t){return new Ht(e,3,t,xe.min(),xe.min(),an.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,t){this.position=e,this.inclusive=t}}function Ow(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?r=ye.comparator(ye.fromName(u.referenceValue),t.key):r=ha(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Vw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Nr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,t="asc"){this.field=e,this.dir=t}}function M2(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{}class vt extends UI{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new F2(e,t,r):t==="array-contains"?new z2(e,r):t==="in"?new $2(e,r):t==="not-in"?new B2(e,r):t==="array-contains-any"?new q2(e,r):new vt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new j2(e,r):new U2(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ha(t,this.value)):t!==null&&ui(this.value)===ui(t)&&this.matchesComparison(ha(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends UI{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Zn(e,t)}matches(e){return zI(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function zI(n){return n.op==="and"}function $I(n){return L2(n)&&zI(n)}function L2(n){for(const e of n.filters)if(e instanceof Zn)return!1;return!0}function Qp(n){if(n instanceof vt)return n.field.canonicalString()+n.op.toString()+da(n.value);if($I(n))return n.filters.map((e=>Qp(e))).join(",");{const e=n.filters.map((t=>Qp(t))).join(",");return`${n.op}(${e})`}}function BI(n,e){return n instanceof vt?(function(r,o){return o instanceof vt&&r.op===o.op&&r.field.isEqual(o.field)&&Nr(r.value,o.value)})(n,e):n instanceof Zn?(function(r,o){return o instanceof Zn&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((a,u,d)=>a&&BI(u,o.filters[d])),!0):!1})(n,e):void Ie(19439)}function qI(n){return n instanceof vt?(function(t){return`${t.field.canonicalString()} ${t.op} ${da(t.value)}`})(n):n instanceof Zn?(function(t){return t.op.toString()+" {"+t.getFilters().map(qI).join(" ,")+"}"})(n):"Filter"}class F2 extends vt{constructor(e,t,r){super(e,t,r),this.key=ye.fromName(r.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class j2 extends vt{constructor(e,t){super(e,"in",t),this.keys=HI("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class U2 extends vt{constructor(e,t){super(e,"not-in",t),this.keys=HI("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function HI(n,e){return(e.arrayValue?.values||[]).map((t=>ye.fromName(t.referenceValue)))}class z2 extends vt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Xm(t)&&Gl(t.arrayValue,this.value)}}class $2 extends vt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Gl(this.value.arrayValue,t)}}class B2 extends vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Gl(this.value.arrayValue,t)}}class q2 extends vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Xm(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Gl(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,t=null,r=[],o=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=u,this.endAt=d,this.Te=null}}function Mw(n,e=null,t=[],r=[],o=null,a=null,u=null){return new H2(n,e,t,r,o,a,u)}function Jm(n){const e=ke(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Qp(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),td(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>da(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>da(r))).join(",")),e.Te=t}return e.Te}function Zm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!M2(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!BI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Vw(n.startAt,e.startAt)&&Vw(n.endAt,e.endAt)}function Yp(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,t=null,r=[],o=[],a=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function W2(n,e,t,r,o,a,u,d){return new ro(n,e,t,r,o,a,u,d)}function eg(n){return new ro(n)}function Lw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function tg(n){return n.collectionGroup!==null}function sa(n){const e=ke(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new It(Vt.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(d=d.add(m.field))}))})),d})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Kl(a,r))})),t.has(Vt.keyField().canonicalString())||e.Ie.push(new Kl(Vt.keyField(),r))}return e.Ie}function Sr(n){const e=ke(n);return e.Ee||(e.Ee=G2(e,sa(n))),e.Ee}function G2(n,e){if(n.limitType==="F")return Mw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new Kl(o.field,a)}));const t=n.endAt?new fa(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new fa(n.startAt.position,n.startAt.inclusive):null;return Mw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Xp(n,e){const t=n.filters.concat([e]);return new ro(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Ih(n,e,t){return new ro(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function sd(n,e){return Zm(Sr(n),Sr(e))&&n.limitType===e.limitType}function WI(n){return`${Jm(Sr(n))}|lt:${n.limitType}`}function Qo(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((o=>qI(o))).join(", ")}]`),td(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((o=>da(o))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((o=>da(o))).join(",")),`Target(${r})`})(Sr(n))}; limitType=${n.limitType})`}function id(n,e){return e.isFoundDocument()&&(function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ye.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,o){for(const a of sa(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0})(n,e)&&(function(r,o){return!(r.startAt&&!(function(u,d,f){const m=Ow(u,d,f);return u.inclusive?m<=0:m<0})(r.startAt,sa(r),o)||r.endAt&&!(function(u,d,f){const m=Ow(u,d,f);return u.inclusive?m>=0:m>0})(r.endAt,sa(r),o))})(n,e)}function K2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function GI(n){return(e,t)=>{let r=!1;for(const o of sa(n)){const a=Q2(o,e,t);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function Q2(n,e,t){const r=n.field.isKeyField()?ye.comparator(e.key,t.key):(function(a,u,d){const f=u.data.field(a),m=d.data.field(a);return f!==null&&m!==null?ha(f,m):Ie(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ie(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){di(this.inner,((t,r)=>{for(const[o,a]of r)e(o,a)}))}isEmpty(){return bI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=new it(ye.comparator);function us(){return Y2}const KI=new it(ye.comparator);function Rl(...n){let e=KI;for(const t of n)e=e.insert(t.key,t);return e}function QI(n){let e=KI;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Wi(){return Vl()}function YI(){return Vl()}function Vl(){return new so((n=>n.toString()),((n,e)=>n.isEqual(e)))}const X2=new it(ye.comparator),J2=new It(ye.comparator);function je(...n){let e=J2;for(const t of n)e=e.add(t);return e}const Z2=new It(Fe);function eV(){return Z2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_h(e)?"-0":e}}function XI(n){return{integerValue:""+n}}function JI(n,e){return x2(e)?XI(e):ng(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(){this._=void 0}}function tV(n,e,t){return n instanceof Sh?(function(o,a){const u={fields:{[OI]:{stringValue:DI},[MI]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&nd(a)&&(a=rd(a)),a&&(u.fields[VI]=a),{mapValue:u}})(t,e):n instanceof Ql?eS(n,e):n instanceof Yl?tS(n,e):(function(o,a){const u=ZI(o,a),d=Fw(u)+Fw(o.Ae);return Kp(u)&&Kp(o.Ae)?XI(d):ng(o.serializer,d)})(n,e)}function nV(n,e,t){return n instanceof Ql?eS(n,e):n instanceof Yl?tS(n,e):t}function ZI(n,e){return n instanceof Xl?(function(r){return Kp(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Sh extends od{}class Ql extends od{constructor(e){super(),this.elements=e}}function eS(n,e){const t=nS(e);for(const r of n.elements)t.some((o=>Nr(o,r)))||t.push(r);return{arrayValue:{values:t}}}class Yl extends od{constructor(e){super(),this.elements=e}}function tS(n,e){let t=nS(e);for(const r of n.elements)t=t.filter((o=>!Nr(o,r)));return{arrayValue:{values:t}}}class Xl extends od{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Fw(n){return dt(n.integerValue||n.doubleValue)}function nS(n){return Xm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e,t){this.field=e,this.transform=t}}function sV(n,e){return n.field.isEqual(e.field)&&(function(r,o){return r instanceof Ql&&o instanceof Ql||r instanceof Yl&&o instanceof Yl?ca(r.elements,o.elements,Nr):r instanceof Xl&&o instanceof Xl?Nr(r.Ae,o.Ae):r instanceof Sh&&o instanceof Sh})(n.transform,e.transform)}class iV{constructor(e,t){this.version=e,this.transformResults=t}}class In{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new In}static exists(e){return new In(void 0,e)}static updateTime(e){return new In(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ad{}function rS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new rg(n.key,In.none()):new au(n.key,n.data,In.none());{const t=n.data,r=an.empty();let o=new It(Vt.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),o=o.add(a)}return new fi(n.key,r,new wn(o.toArray()),In.none())}}function oV(n,e,t){n instanceof au?(function(o,a,u){const d=o.value.clone(),f=Uw(o.fieldTransforms,a,u.transformResults);d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,e,t):n instanceof fi?(function(o,a,u){if(!eh(o.precondition,a))return void a.convertToUnknownDocument(u.version);const d=Uw(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(sS(o)),f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):(function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Ml(n,e,t,r){return n instanceof au?(function(a,u,d,f){if(!eh(a.precondition,u))return d;const m=a.value.clone(),v=zw(a.fieldTransforms,f,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(n,e,t,r):n instanceof fi?(function(a,u,d,f){if(!eh(a.precondition,u))return d;const m=zw(a.fieldTransforms,f,u),v=u.data;return v.setAll(sS(a)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((w=>w.field)))})(n,e,t,r):(function(a,u,d){return eh(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(n,e,t)}function aV(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),a=ZI(r.transform,o||null);a!=null&&(t===null&&(t=an.empty()),t.set(r.field,a))}return t||null}function jw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&ca(r,o,((a,u)=>sV(a,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class au extends ad{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class fi extends ad{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function sS(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function Uw(n,e,t){const r=new Map;We(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,d=e.data.field(a.field);r.set(a.field,nV(u,d,t[o]))}return r}function zw(n,e,t){const r=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);r.set(o.field,tV(a,u,e))}return r}class rg extends ad{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lV extends ad{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&oV(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ml(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ml(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=YI();return this.mutations.forEach((o=>{const a=e.get(o.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=t.has(o.key)?null:d;const f=rS(u,d);f!==null&&r.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(xe.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),je())}isEqual(e){return this.batchId===e.batchId&&ca(this.mutations,e.mutations,((t,r)=>jw(t,r)))&&ca(this.baseMutations,e.baseMutations,((t,r)=>jw(t,r)))}}class sg{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){We(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return X2})();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,r[u].version);return new sg(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,ze;function dV(n){switch(n){case Q.OK:return Ie(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return Ie(15467,{code:n})}}function iS(n){if(n===void 0)return ls("GRPC error has no .code"),Q.UNKNOWN;switch(n){case yt.OK:return Q.OK;case yt.CANCELLED:return Q.CANCELLED;case yt.UNKNOWN:return Q.UNKNOWN;case yt.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case yt.INTERNAL:return Q.INTERNAL;case yt.UNAVAILABLE:return Q.UNAVAILABLE;case yt.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case yt.NOT_FOUND:return Q.NOT_FOUND;case yt.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case yt.ABORTED:return Q.ABORTED;case yt.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case yt.DATA_LOSS:return Q.DATA_LOSS;default:return Ie(39323,{code:n})}}(ze=yt||(yt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV=new Zs([4294967295,4294967295],0);function $w(n){const e=fV().encode(n),t=new wI;return t.update(e),new Uint8Array(t.digest())}function Bw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Zs([t,r],0),new Zs([o,a],0)]}class ig{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new xl(`Invalid padding: ${t}`);if(r<0)throw new xl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new xl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new xl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Zs.fromNumber(this.ge)}ye(e,t,r){let o=e.add(t.multiply(Zs.fromNumber(r)));return o.compare(pV)===1&&(o=new Zs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=$w(e),[r,o]=Bw(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,o,a);if(!this.we(u))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new ig(a,o,t);return r.forEach((d=>u.insert(d))),u}insert(e){if(this.ge===0)return;const t=$w(e),[r,o]=Bw(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,o,a);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,lu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new ld(xe.min(),o,new it(Fe),us(),je())}}class lu{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new lu(r,t,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,t,r,o){this.be=e,this.removedTargetIds=t,this.key=r,this.De=o}}class oS{constructor(e,t){this.targetId=e,this.Ce=t}}class aS{constructor(e,t,r=Mt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class qw{constructor(){this.ve=0,this.Fe=Hw(),this.Me=Mt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),t=je(),r=je();return this.Fe.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Ie(38017,{changeType:a})}})),new lu(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=Hw()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class mV{constructor(e){this.Ge=e,this.ze=new Map,this.je=us(),this.Je=Uc(),this.He=Uc(),this.Ye=new it(Fe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Ie(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,r=e.Ce.count,o=this.ot(t);if(o){const a=o.target;if(Yp(a))if(r===0){const u=new ye(a.path);this.et(t,u,Ht.newNoDocument(u,xe.min()))}else We(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const d=this.ut(e),f=d?this.ct(d,e,u):1;if(f!==0){this.it(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=t;let u,d;try{u=li(r).toUint8Array()}catch(f){if(f instanceof NI)return ua("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new ig(u,o,a)}catch(f){return ua(f instanceof xl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let o=0;return r.forEach((a=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.et(t,a,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((a,u)=>{const d=this.ot(u);if(d){if(a.current&&Yp(d.target)){const f=new ye(d.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,Ht.newNoDocument(f,e))}a.Be&&(t.set(u,a.ke()),a.qe())}}));let r=je();this.He.forEach(((a,u)=>{let d=!0;u.forEachWhile((f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const o=new ld(e,t,this.Ye,this.je,r);return this.je=us(),this.Je=Uc(),this.He=Uc(),this.Ye=new it(Fe),o}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new qw,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new It(Fe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new It(Fe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new qw),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Uc(){return new it(ye.comparator)}function Hw(){return new it(ye.comparator)}const gV={asc:"ASCENDING",desc:"DESCENDING"},yV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vV={and:"AND",or:"OR"};class _V{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Jp(n,e){return n.useProto3Json||td(e)?e:{value:e}}function Ah(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function wV(n,e){return Ah(n,e.toTimestamp())}function Ar(n){return We(!!n,49232),xe.fromTimestamp((function(t){const r=ai(t);return new qe(r.seconds,r.nanos)})(n))}function og(n,e){return Zp(n,e).canonicalString()}function Zp(n,e){const t=(function(o){return new Ye(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function uS(n){const e=Ye.fromString(n);return We(pS(e),10190,{key:e.toString()}),e}function em(n,e){return og(n.databaseId,e.path)}function mp(n,e){const t=uS(e);if(t.get(1)!==n.databaseId.projectId)throw new ue(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ue(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(hS(t))}function cS(n,e){return og(n.databaseId,e)}function EV(n){const e=uS(n);return e.length===4?Ye.emptyPath():hS(e)}function tm(n){return new Ye(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function hS(n){return We(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Ww(n,e,t){return{name:em(n,e),fields:t.value.mapValue.fields}}function TV(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ie(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(m,v){return m.useProto3Json?(We(v===void 0||typeof v=="string",58123),Mt.fromBase64String(v||"")):(We(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Mt.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(m){const v=m.code===void 0?Q.UNKNOWN:iS(m.code);return new ue(v,m.message||"")})(u);t=new aS(r,o,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=mp(n,r.document.name),a=Ar(r.document.updateTime),u=r.document.createTime?Ar(r.document.createTime):xe.min(),d=new an({mapValue:{fields:r.document.fields}}),f=Ht.newFoundDocument(o,a,u,d),m=r.targetIds||[],v=r.removedTargetIds||[];t=new th(m,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=mp(n,r.document),a=r.readTime?Ar(r.readTime):xe.min(),u=Ht.newNoDocument(o,a),d=r.removedTargetIds||[];t=new th([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=mp(n,r.document),a=r.removedTargetIds||[];t=new th([],a,o,null)}else{if(!("filter"in e))return Ie(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,u=new hV(o,a),d=r.targetId;t=new oS(d,u)}}return t}function IV(n,e){let t;if(e instanceof au)t={update:Ww(n,e.key,e.value)};else if(e instanceof rg)t={delete:em(n,e.key)};else if(e instanceof fi)t={update:Ww(n,e.key,e.data),updateMask:NV(e.fieldMask)};else{if(!(e instanceof lV))return Ie(16599,{Vt:e.type});t={verify:em(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,u){const d=u.transform;if(d instanceof Sh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ql)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Yl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Xl)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Ie(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:wV(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ie(27497)})(n,e.precondition)),t}function SV(n,e){return n&&n.length>0?(We(e!==void 0,14353),n.map((t=>(function(o,a){let u=o.updateTime?Ar(o.updateTime):Ar(a);return u.isEqual(xe.min())&&(u=Ar(a)),new iV(u,o.transformResults||[])})(t,e)))):[]}function AV(n,e){return{documents:[cS(n,e.path)]}}function CV(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=cS(n,o);const a=(function(m){if(m.length!==0)return fS(Zn.create(m,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const u=(function(m){if(m.length!==0)return m.map((v=>(function(T){return{field:Yo(T.field),direction:PV(T.dir)}})(v)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=Jp(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:t,parent:o}}function RV(n){let e=EV(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){We(r===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=(function(w){const T=dS(w);return T instanceof Zn&&$I(T)?T.getFilters():[T]})(t.where));let u=[];t.orderBy&&(u=(function(w){return w.map((T=>(function(O){return new Kl(Xo(O.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(O.direction))})(T)))})(t.orderBy));let d=null;t.limit&&(d=(function(w){let T;return T=typeof w=="object"?w.value:w,td(T)?null:T})(t.limit));let f=null;t.startAt&&(f=(function(w){const T=!!w.before,C=w.values||[];return new fa(C,T)})(t.startAt));let m=null;return t.endAt&&(m=(function(w){const T=!w.before,C=w.values||[];return new fa(C,T)})(t.endAt)),W2(e,o,u,a,d,"F",f,m)}function xV(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function dS(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Xo(t.unaryFilter.field);return vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Xo(t.unaryFilter.field);return vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Xo(t.unaryFilter.field);return vt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Xo(t.unaryFilter.field);return vt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}})(n):n.fieldFilter!==void 0?(function(t){return vt.create(Xo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Zn.create(t.compositeFilter.filters.map((r=>dS(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}})(t.compositeFilter.op))})(n):Ie(30097,{filter:n})}function PV(n){return gV[n]}function kV(n){return yV[n]}function bV(n){return vV[n]}function Yo(n){return{fieldPath:n.canonicalString()}}function Xo(n){return Vt.fromServerFormat(n.fieldPath)}function fS(n){return n instanceof vt?(function(t){if(t.op==="=="){if(Dw(t.value))return{unaryFilter:{field:Yo(t.field),op:"IS_NAN"}};if(Nw(t.value))return{unaryFilter:{field:Yo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Dw(t.value))return{unaryFilter:{field:Yo(t.field),op:"IS_NOT_NAN"}};if(Nw(t.value))return{unaryFilter:{field:Yo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yo(t.field),op:kV(t.op),value:t.value}}})(n):n instanceof Zn?(function(t){const r=t.getFilters().map((o=>fS(o)));return r.length===1?r[0]:{compositeFilter:{op:bV(t.op),filters:r}}})(n):Ie(54877,{filter:n})}function NV(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function pS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,t,r,o,a=xe.min(),u=xe.min(),d=Mt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Qs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e){this.yt=e}}function OV(n){const e=RV({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ih(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(){this.Cn=new MV}addToCollectionParentIndex(e,t){return this.Cn.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve(oi.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve(oi.min())}updateCollectionGroup(e,t,r){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}}class MV{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new It(Ye.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new It(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mS=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(mS,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new pa(0)}static cr(){return new pa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="LruGarbageCollector",LV=1048576;function Qw([n,e],[t,r]){const o=Fe(n,t);return o===0?Fe(e,r):o}class FV{constructor(e){this.Ir=e,this.buffer=new It(Qw),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Qw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class jV{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(Kw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Sa(t)?de(Kw,"Ignoring IndexedDB error during garbage collection: ",t):await Ia(t)}await this.Vr(3e5)}))}}class UV{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return J.resolve(ed.ce);const r=new FV(t);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Gw)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gw):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,o,a,u,d,f,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,u=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(r=w,d=Date.now(),this.removeTargets(e,r,t)))).next((w=>(a=w,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(m=Date.now(),Ko()<=Le.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(d-u)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${w} documents in `+(m-f)+`ms
Total Duration: ${m-v}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:w}))))}}function zV(n,e){return new UV(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(){this.changes=new so((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?J.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(r!==null&&Ml(r.mutation,o,wn.empty(),qe.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,je()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=je()){const o=Wi();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,r).next((a=>{let u=Rl();return a.forEach(((d,f)=>{u=u.insert(d,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=Wi();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,je())))}populateOverlays(e,t,r){const o=[];return r.forEach((a=>{t.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((u,d)=>{t.set(u,d)}))}))}computeViews(e,t,r,o){let a=us();const u=Vl(),d=(function(){return Vl()})();return t.forEach(((f,m)=>{const v=r.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof fi)?a=a.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),Ml(v.mutation,m,v.mutation.getFieldMask(),qe.now())):u.set(m.key,wn.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((m,v)=>u.set(m,v))),t.forEach(((m,v)=>d.set(m,new BV(v,u.get(m)??null)))),d)))}recalculateAndSaveOverlays(e,t){const r=Vl();let o=new it(((u,d)=>u-d)),a=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const d of u)d.keys().forEach((f=>{const m=t.get(f);if(m===null)return;let v=r.get(f)||wn.empty();v=d.applyToLocalView(m,v),r.set(f,v);const w=(o.get(d.batchId)||je()).add(f);o=o.insert(d.batchId,w)}))})).next((()=>{const u=[],d=o.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),m=f.key,v=f.value,w=YI();v.forEach((T=>{if(!a.has(T)){const C=rS(t.get(T),r.get(T));C!==null&&w.set(T,C),a=a.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,m,w))}return J.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,o){return(function(u){return ye.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):tg(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next((a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):J.resolve(Wi());let d=ql,f=a;return u.next((m=>J.forEach(m,((v,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),a.get(v)?J.resolve():this.remoteDocumentCache.getEntry(e,v).next((T=>{f=f.insert(v,T)}))))).next((()=>this.populateOverlays(e,m,a))).next((()=>this.computeViews(e,f,m,je()))).next((v=>({batchId:d,changes:QI(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next((r=>{let o=Rl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const a=t.collectionGroup;let u=Rl();return this.indexManager.getCollectionParents(e,a).next((d=>J.forEach(d,(f=>{const m=(function(w,T){return new ro(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next((v=>{v.forEach(((w,T)=>{u=u.insert(w,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,o)))).next((u=>{a.forEach(((f,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,Ht.newInvalidDocument(v)))}));let d=Rl();return u.forEach(((f,m)=>{const v=a.get(f);v!==void 0&&Ml(v.mutation,m,wn.empty(),qe.now()),id(t,m)&&(d=d.insert(f,m))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return J.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Ar(o.createTime)}})(t)),J.resolve()}getNamedQuery(e,t){return J.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:OV(o.bundledQuery),readTime:Ar(o.readTime)}})(t)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(){this.overlays=new it(ye.comparator),this.qr=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Wi();return J.forEach(t,(o=>this.getOverlay(e,o).next((a=>{a!==null&&r.set(o,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((o,a)=>{this.St(e,t,a)})),J.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),J.resolve()}getOverlaysForCollection(e,t,r){const o=Wi(),a=t.length+1,u=new ye(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>r&&o.set(f.getKey(),f)}return J.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new it(((m,v)=>m-v));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let v=a.get(m.largestBatchId);v===null&&(v=Wi(),a=a.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const d=Wi(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,v)=>d.set(m,v))),!(d.size()>=o)););return J.resolve(d)}St(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new cV(t,r));let a=this.qr.get(t);a===void 0&&(a=je(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(){this.sessionToken=Mt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(){this.Qr=new It(Rt.$r),this.Ur=new It(Rt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Rt(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Rt(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new ye(new Ye([])),r=new Rt(t,e),o=new Rt(t,e+1),a=[];return this.Ur.forEachInRange([r,o],(u=>{this.Gr(u),a.push(u.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ye(new Ye([])),r=new Rt(t,e),o=new Rt(t,e+1);let a=je();return this.Ur.forEachInRange([r,o],(u=>{a=a.add(u.key)})),a}containsKey(e){const t=new Rt(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Rt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ye.comparator(e.key,t.key)||Fe(e.Yr,t.Yr)}static Kr(e,t){return Fe(e.Yr,t.Yr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new It(Rt.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new uV(a,t,r,o);this.mutationQueue.push(u);for(const d of o)this.Zr=this.Zr.add(new Rt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return J.resolve(u)}lookupMutationBatch(e,t){return J.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.ei(r),a=o<0?0:o;return J.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Ym:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Rt(t,0),o=new Rt(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,o],(u=>{const d=this.Xr(u.Yr);a.push(d)})),J.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new It(Fe);return t.forEach((o=>{const a=new Rt(o,0),u=new Rt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],(d=>{r=r.add(d.Yr)}))})),J.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;ye.isDocumentKey(a)||(a=a.child(""));const u=new Rt(new ye(a),0);let d=new It(Fe);return this.Zr.forEachWhile((f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(d=d.add(f.Yr)),!0)}),u),J.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){We(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return J.forEach(t.mutations,(o=>{const a=new Rt(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Rt(t,0),o=this.Zr.firstAfterOrEqual(r);return J.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e){this.ri=e,this.docs=(function(){return new it(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,u=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return J.resolve(r?r.document.mutableCopy():Ht.newInvalidDocument(t))}getEntries(e,t){let r=us();return t.forEach((o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():Ht.newInvalidDocument(o))})),J.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let a=us();const u=t.path,d=new ye(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:m,value:{document:v}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||S2(I2(v),r)<=0||(o.has(v.key)||id(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return J.resolve(a)}getAllFromCollectionGroup(e,t,r,o){Ie(9500)}ii(e,t){return J.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new YV(this)}getSize(e){return J.resolve(this.size)}}class YV extends $V{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),J.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e){this.persistence=e,this.si=new so((t=>Jm(t)),Zm),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new ag,this.targetCount=0,this.ai=pa.ur()}forEachTarget(e,t){return this.si.forEach(((r,o)=>t(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),J.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new pa(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.Pr(t),J.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.si.forEach(((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)})),J.waitFor(a).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return J.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),J.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach((u=>{a.push(o.markPotentiallyOrphaned(e,u))})),J.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),J.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return J.resolve(r)}containsKey(e,t){return J.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,t){this.ui={},this.overlays={},this.ci=new ed(0),this.li=!1,this.li=!0,this.hi=new GV,this.referenceDelegate=e(this),this.Pi=new XV(this),this.indexManager=new VV,this.remoteDocumentCache=(function(o){return new QV(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new DV(t),this.Ii=new HV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new WV,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new KV(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){de("MemoryPersistence","Starting transaction:",e);const o=new JV(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((a=>this.referenceDelegate.di(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ai(e,t){return J.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class JV extends C2{constructor(e){super(),this.currentSequenceNumber=e}}class lg{constructor(e){this.persistence=e,this.Ri=new ag,this.Vi=null}static mi(e){return new lg(e)}get fi(){if(this.Vi)return this.Vi;throw Ie(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),J.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),J.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(r=>{const o=ye.fromPath(r);return this.gi(e,o).next((a=>{a||t.removeEntry(o,xe.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return J.or([()=>J.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Ch{constructor(e,t){this.persistence=e,this.pi=new so((r=>P2(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=zV(this,t)}static mi(e,t){return new Ch(e,t)}Ei(){}di(e){return J.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((o=>r+o))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return J.forEach(this.pi,((r,o)=>this.br(e,r,o).next((a=>a?J.resolve():t(o)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,t).next((d=>{d||(r++,a.removeEntry(u,xe.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),J.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),J.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Jc(e.data.value)),t}br(e,t,r){return J.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return J.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=o}static As(e,t){let r=je(),o=je();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new ug(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Tk()?8:R2(Wt())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,o){const a={result:null};return this.ys(e,t).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ws(e,t,o,r).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new ZV;return this.Ss(e,t,u).next((d=>{if(a.result=d,this.Vs)return this.bs(e,t,u,d.size)}))})).next((()=>a.result))}bs(e,t,r,o){return r.documentReadCount<this.fs?(Ko()<=Le.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Qo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(Ko()<=Le.DEBUG&&de("QueryEngine","Query:",Qo(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Ko()<=Le.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Qo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sr(t))):J.resolve())}ys(e,t){if(Lw(t))return J.resolve(null);let r=Sr(t);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Ih(t,null,"F"),r=Sr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const u=je(...a);return this.ps.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const m=this.Ds(t,d);return this.Cs(t,m,u,f.readTime)?this.ys(e,Ih(t,null,"F")):this.vs(e,m,t,f)}))))})))))}ws(e,t,r,o){return Lw(t)||o.isEqual(xe.min())?J.resolve(null):this.ps.getDocuments(e,r).next((a=>{const u=this.Ds(t,a);return this.Cs(t,u,r,o)?J.resolve(null):(Ko()<=Le.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Qo(t)),this.vs(e,u,t,T2(o,ql)).next((d=>d)))}))}Ds(e,t){let r=new It(GI(e));return t.forEach(((o,a)=>{id(e,a)&&(r=r.add(a))})),r}Cs(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,t,r){return Ko()<=Le.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Qo(t)),this.ps.getDocumentsMatchingQuery(e,t,oi.min(),r)}vs(e,t,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((a=>(t.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg="LocalStore",tM=3e8;class nM{constructor(e,t,r,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new it(Fe),this.xs=new so((a=>Jm(a)),Zm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function rM(n,e,t,r){return new nM(n,e,t,r)}async function yS(n,e){const t=ke(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next((a=>(o=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const u=[],d=[];let f=je();for(const m of o){u.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}for(const m of a){d.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(r,f).next((m=>({Ls:m,removedBatchIds:u,addedBatchIds:d})))}))}))}function sM(n,e){const t=ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,f,m,v){const w=m.batch,T=w.keys();let C=J.resolve();return T.forEach((O=>{C=C.next((()=>v.getEntry(f,O))).next((x=>{const S=m.docVersions.get(O);We(S!==null,48541),x.version.compareTo(S)<0&&(w.applyToRemoteDocument(x,m),x.isValidDocument()&&(x.setReadTime(m.commitVersion),v.addEntry(x)))}))})),C.next((()=>d.mutationQueue.removeMutationBatch(f,w)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let f=je();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(f=f.add(d.batch.mutations[m].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,o)))}))}function vS(n){const e=ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function iM(n,e){const t=ke(n),r=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const d=[];e.targetChanges.forEach(((v,w)=>{const T=o.get(w);if(!T)return;d.push(t.Pi.removeMatchingKeys(a,v.removedDocuments,w).next((()=>t.Pi.addMatchingKeys(a,v.addedDocuments,w))));let C=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?C=C.withResumeToken(Mt.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):v.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(v.resumeToken,r)),o=o.insert(w,C),(function(x,S,z){return x.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=tM?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(T,C,v)&&d.push(t.Pi.updateTargetData(a,C))}));let f=us(),m=je();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))})),d.push(oM(a,u,e.documentUpdates).next((v=>{f=v.ks,m=v.qs}))),!r.isEqual(xe.min())){const v=t.Pi.getLastRemoteSnapshotVersion(a).next((w=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));d.push(v)}return J.waitFor(d).next((()=>u.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,m))).next((()=>f))})).then((a=>(t.Ms=o,a)))}function oM(n,e,t){let r=je(),o=je();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let u=us();return t.forEach(((d,f)=>{const m=a.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(d)),f.isNoDocument()&&f.version.isEqual(xe.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):de(cg,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)})),{ks:u,qs:o}}))}function aM(n,e){const t=ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Ym),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function lM(n,e){const t=ke(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return t.Pi.getTargetData(r,e).next((a=>a?(o=a,J.resolve(o)):t.Pi.allocateTargetId(r).next((u=>(o=new Qs(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=t.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function nm(n,e,t){const r=ke(n),o=r.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(u=>r.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!Sa(u))throw u;de(cg,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function Yw(n,e,t){const r=ke(n);let o=xe.min(),a=je();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,m,v){const w=ke(f),T=w.xs.get(v);return T!==void 0?J.resolve(w.Ms.get(T)):w.Pi.getTargetData(m,v)})(r,u,Sr(e)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,d.targetId).next((f=>{a=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,t?o:xe.min(),t?a:je()))).next((d=>(uM(r,K2(e),d),{documents:d,Qs:a})))))}function uM(n,e,t){let r=n.Os.get(e)||xe.min();t.forEach(((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.Os.set(e,r)}class Xw{constructor(){this.activeTargetIds=eV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cM{constructor(){this.Mo=new Xw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Xw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="ConnectivityMonitor";class Zw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(Jw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(Jw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc=null;function rm(){return zc===null?zc=(function(){return 268435456+Math.round(2147483648*Math.random())})():zc++,"0x"+zc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp="RestConnection",dM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===wh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,t,r,o,a){const u=rm(),d=this.zo(e,t.toUriEncodedString());de(gp,`Sending RPC '${e}' ${u}:`,d,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,o,a);const{host:m}=new URL(d),v=_a(m);return this.Jo(e,d,f,r,v).then((w=>(de(gp,`Received RPC '${e}' ${u}: `,w),w)),(w=>{throw ua(gp,`RPC '${e}' ${u} failed with error: `,w,"url: ",d,"request:",r),w}))}Ho(e,t,r,o,a,u){return this.Go(e,t,r,o,a)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ta})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,a)=>e[a]=o)),r&&r.headers.forEach(((o,a)=>e[a]=o))}zo(e,t){const r=dM[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt="WebChannelConnection";class mM extends fM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,o,a){const u=rm();return new Promise(((d,f)=>{const m=new EI;m.setWithCredentials(!0),m.listenOnce(TI.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Xc.NO_ERROR:const w=m.getResponseJson();de(Bt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),d(w);break;case Xc.TIMEOUT:de(Bt,`RPC '${e}' ${u} timed out`),f(new ue(Q.DEADLINE_EXCEEDED,"Request time out"));break;case Xc.HTTP_ERROR:const T=m.getStatus();if(de(Bt,`RPC '${e}' ${u} failed with status:`,T,"response text:",m.getResponseText()),T>0){let C=m.getResponseJson();Array.isArray(C)&&(C=C[0]);const O=C?.error;if(O&&O.status&&O.message){const x=(function(z){const H=z.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(H)>=0?H:Q.UNKNOWN})(O.status);f(new ue(x,O.message))}else f(new ue(Q.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new ue(Q.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{de(Bt,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(o);de(Bt,`RPC '${e}' ${u} sending request:`,o),m.send(t,"POST",v,r,15)}))}T_(e,t,r){const o=rm(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=AI(),d=SI(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const v=a.join("");de(Bt,`Creating RPC '${e}' stream ${o}: ${v}`,f);const w=u.createWebChannel(v,f);this.I_(w);let T=!1,C=!1;const O=new pM({Yo:S=>{C?de(Bt,`Not sending because RPC '${e}' stream ${o} is closed:`,S):(T||(de(Bt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),T=!0),de(Bt,`RPC '${e}' stream ${o} sending:`,S),w.send(S))},Zo:()=>w.close()}),x=(S,z,H)=>{S.listen(z,(K=>{try{H(K)}catch(X){setTimeout((()=>{throw X}),0)}}))};return x(w,Cl.EventType.OPEN,(()=>{C||(de(Bt,`RPC '${e}' stream ${o} transport opened.`),O.o_())})),x(w,Cl.EventType.CLOSE,(()=>{C||(C=!0,de(Bt,`RPC '${e}' stream ${o} transport closed`),O.a_(),this.E_(w))})),x(w,Cl.EventType.ERROR,(S=>{C||(C=!0,ua(Bt,`RPC '${e}' stream ${o} transport errored. Name:`,S.name,"Message:",S.message),O.a_(new ue(Q.UNAVAILABLE,"The operation could not be completed")))})),x(w,Cl.EventType.MESSAGE,(S=>{if(!C){const z=S.data[0];We(!!z,16349);const H=z,K=H?.error||H[0]?.error;if(K){de(Bt,`RPC '${e}' stream ${o} received error:`,K);const X=K.status;let ne=(function(P){const N=yt[P];if(N!==void 0)return iS(N)})(X),se=K.message;ne===void 0&&(ne=Q.INTERNAL,se="Unknown error status: "+X+" with message "+K.message),C=!0,O.a_(new ue(ne,se)),w.close()}else de(Bt,`RPC '${e}' stream ${o} received:`,z),O.u_(z)}})),x(d,II.STAT_EVENT,(S=>{S.stat===Hp.PROXY?de(Bt,`RPC '${e}' stream ${o} detected buffering proxy`):S.stat===Hp.NOPROXY&&de(Bt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{O.__()}),0),O}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function yp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(n){return new _V(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,t,r=1e3,o=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=o,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-r);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="PersistentStream";class wS{constructor(e,t,r,o,a,u,d,f){this.Mi=e,this.S_=r,this.b_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _S(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Q.RESOURCE_EXHAUSTED?(ls(t.toString()),ls("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===t&&this.G_(r,o)}),(r=>{e((()=>{const o=new ue(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(eE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(de(eE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gM extends wS{constructor(e,t,r,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=TV(this.serializer,e),r=(function(a){if(!("targetChange"in a))return xe.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?xe.min():u.readTime?Ar(u.readTime):xe.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=tm(this.serializer),t.addTarget=(function(a,u){let d;const f=u.target;if(d=Yp(f)?{documents:AV(a,f)}:{query:CV(a,f).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=lS(a,u.resumeToken);const m=Jp(a,u.expectedCount);m!==null&&(d.expectedCount=m)}else if(u.snapshotVersion.compareTo(xe.min())>0){d.readTime=Ah(a,u.snapshotVersion.toTimestamp());const m=Jp(a,u.expectedCount);m!==null&&(d.expectedCount=m)}return d})(this.serializer,e);const r=xV(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=tm(this.serializer),t.removeTarget=e,this.q_(t)}}class yM extends wS{constructor(e,t,r,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=SV(e.writeResults,e.commitTime),r=Ar(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=tm(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>IV(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{}class _M extends vM{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Go(e,Zp(t,r),o,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ue(Q.UNKNOWN,a.toString())}))}Ho(e,t,r,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Ho(e,Zp(t,r),o,u,d,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(Q.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class wM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ls(t),this.aa=!1):de("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo="RemoteStore";class EM{constructor(e,t,r,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{io(this)&&(de(eo,"Restarting streams for network reachability change."),await(async function(f){const m=ke(f);m.Ea.add(4),await uu(m),m.Ra.set("Unknown"),m.Ea.delete(4),await cd(m)})(this))}))})),this.Ra=new wM(r,o)}}async function cd(n){if(io(n))for(const e of n.da)await e(!0)}async function uu(n){for(const e of n.da)await e(!1)}function ES(n,e){const t=ke(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),pg(t)?fg(t):Aa(t).O_()&&dg(t,e))}function hg(n,e){const t=ke(n),r=Aa(t);t.Ia.delete(e),r.O_()&&TS(t,e),t.Ia.size===0&&(r.O_()?r.L_():io(t)&&t.Ra.set("Unknown"))}function dg(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Aa(n).Y_(e)}function TS(n,e){n.Va.Ue(e),Aa(n).Z_(e)}function fg(n){n.Va=new mV({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Aa(n).start(),n.Ra.ua()}function pg(n){return io(n)&&!Aa(n).x_()&&n.Ia.size>0}function io(n){return ke(n).Ea.size===0}function IS(n){n.Va=void 0}async function TM(n){n.Ra.set("Online")}async function IM(n){n.Ia.forEach(((e,t)=>{dg(n,e)}))}async function SM(n,e){IS(n),pg(n)?(n.Ra.ha(e),fg(n)):n.Ra.set("Unknown")}async function AM(n,e,t){if(n.Ra.set("Online"),e instanceof aS&&e.state===2&&e.cause)try{await(async function(o,a){const u=a.cause;for(const d of a.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,u),o.Ia.delete(d),o.Va.removeTarget(d))})(n,e)}catch(r){de(eo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Rh(n,r)}else if(e instanceof th?n.Va.Ze(e):e instanceof oS?n.Va.st(e):n.Va.tt(e),!t.isEqual(xe.min()))try{const r=await vS(n.localStore);t.compareTo(r)>=0&&await(function(a,u){const d=a.Va.Tt(u);return d.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.Ia.get(m);v&&a.Ia.set(m,v.withResumeToken(f.resumeToken,u))}})),d.targetMismatches.forEach(((f,m)=>{const v=a.Ia.get(f);if(!v)return;a.Ia.set(f,v.withResumeToken(Mt.EMPTY_BYTE_STRING,v.snapshotVersion)),TS(a,f);const w=new Qs(v.target,f,m,v.sequenceNumber);dg(a,w)})),a.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(r){de(eo,"Failed to raise snapshot:",r),await Rh(n,r)}}async function Rh(n,e,t){if(!Sa(e))throw e;n.Ea.add(1),await uu(n),n.Ra.set("Offline"),t||(t=()=>vS(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{de(eo,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await cd(n)}))}function SS(n,e){return e().catch((t=>Rh(n,t,e)))}async function hd(n){const e=ke(n),t=ci(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ym;for(;CM(e);)try{const o=await aM(e.localStore,r);if(o===null){e.Ta.length===0&&t.L_();break}r=o.batchId,RM(e,o)}catch(o){await Rh(e,o)}AS(e)&&CS(e)}function CM(n){return io(n)&&n.Ta.length<10}function RM(n,e){n.Ta.push(e);const t=ci(n);t.O_()&&t.X_&&t.ea(e.mutations)}function AS(n){return io(n)&&!ci(n).x_()&&n.Ta.length>0}function CS(n){ci(n).start()}async function xM(n){ci(n).ra()}async function PM(n){const e=ci(n);for(const t of n.Ta)e.ea(t.mutations)}async function kM(n,e,t){const r=n.Ta.shift(),o=sg.from(r,e,t);await SS(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await hd(n)}async function bM(n,e){e&&ci(n).X_&&await(async function(r,o){if((function(u){return dV(u)&&u!==Q.ABORTED})(o.code)){const a=r.Ta.shift();ci(r).B_(),await SS(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o))),await hd(r)}})(n,e),AS(n)&&CS(n)}async function tE(n,e){const t=ke(n);t.asyncQueue.verifyOperationInProgress(),de(eo,"RemoteStore received new credentials");const r=io(t);t.Ea.add(3),await uu(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await cd(t)}async function NM(n,e){const t=ke(n);e?(t.Ea.delete(2),await cd(t)):e||(t.Ea.add(2),await uu(t),t.Ra.set("Unknown"))}function Aa(n){return n.ma||(n.ma=(function(t,r,o){const a=ke(t);return a.sa(),new gM(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Xo:TM.bind(null,n),t_:IM.bind(null,n),r_:SM.bind(null,n),H_:AM.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),pg(n)?fg(n):n.Ra.set("Unknown")):(await n.ma.stop(),IS(n))}))),n.ma}function ci(n){return n.fa||(n.fa=(function(t,r,o){const a=ke(t);return a.sa(),new yM(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:xM.bind(null,n),r_:bM.bind(null,n),ta:PM.bind(null,n),na:kM.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await hd(n)):(await n.fa.stop(),n.Ta.length>0&&(de(eo,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,a){const u=Date.now()+r,d=new mg(e,t,u,o,a);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gg(n,e){if(ls("AsyncQueue",`${e}: ${n}`),Sa(n))return new ue(Q.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{static emptySet(e){return new ia(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ye.comparator(t.key,r.key):(t,r)=>ye.comparator(t.key,r.key),this.keyedMap=Rl(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ia)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new ia;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(){this.ga=new it(ye.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ie(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class ma{constructor(e,t,r,o,a,u,d,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,o,a){const u=[];return t.forEach((d=>{u.push({type:0,doc:d})})),new ma(e,t,ia.emptySet(t),u,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class OM{constructor(){this.queries=rE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const o=ke(t),a=o.queries;o.queries=rE(),a.forEach(((u,d)=>{for(const f of d.Sa)f.onError(r)}))})(this,new ue(Q.ABORTED,"Firestore shutting down"))}}function rE(){return new so((n=>WI(n)),sd)}async function RS(n,e){const t=ke(n);let r=3;const o=e.query;let a=t.queries.get(o);a?!a.ba()&&e.Da()&&(r=2):(a=new DM,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(o,!0);break;case 1:a.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const d=gg(u,`Initialization of query '${Qo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&yg(t)}async function xS(n,e){const t=ke(n),r=e.query;let o=3;const a=t.queries.get(r);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?o=e.Da()?0:1:!a.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function VM(n,e){const t=ke(n);let r=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const d of u.Sa)d.Fa(o)&&(r=!0);u.wa=o}}r&&yg(t)}function MM(n,e,t){const r=ke(n),o=r.queries.get(e);if(o)for(const a of o.Sa)a.onError(t);r.queries.delete(e)}function yg(n){n.Ca.forEach((e=>{e.next()}))}var sm,sE;(sE=sm||(sm={})).Ma="default",sE.Cache="cache";class PS{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new ma(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=ma.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==sm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e){this.key=e}}class bS{constructor(e){this.key=e}}class LM{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=je(),this.mutatedKeys=je(),this.eu=GI(e),this.tu=new ia(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new nE,o=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,d=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,w)=>{const T=o.get(v),C=id(this.query,w)?w:null,O=!!T&&this.mutatedKeys.has(T.key),x=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let S=!1;T&&C?T.data.isEqual(C.data)?O!==x&&(r.track({type:3,doc:C}),S=!0):this.su(T,C)||(r.track({type:2,doc:C}),S=!0,(f&&this.eu(C,f)>0||m&&this.eu(C,m)<0)&&(d=!0)):!T&&C?(r.track({type:0,doc:C}),S=!0):T&&!C&&(r.track({type:1,doc:T}),S=!0,(f||m)&&(d=!0)),S&&(C?(u=u.add(C),a=x?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{tu:u,iu:r,Cs:d,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,w)=>(function(C,O){const x=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Rt:S})}};return x(C)-x(O)})(v.type,w.type)||this.eu(v.doc,w.doc))),this.ou(r),o=o??!1;const d=t&&!o?this._u():[],f=this.Xa.size===0&&this.current&&!o?1:0,m=f!==this.Za;return this.Za=f,u.length!==0||m?{snapshot:new ma(this.query,e.tu,a,u,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new nE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=je(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new bS(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new kS(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=je();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ma.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const vg="SyncEngine";class FM{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class jM{constructor(e){this.key=e,this.hu=!1}}class UM{constructor(e,t,r,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new so((d=>WI(d)),sd),this.Iu=new Map,this.Eu=new Set,this.du=new it(ye.comparator),this.Au=new Map,this.Ru=new ag,this.Vu={},this.mu=new Map,this.fu=pa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zM(n,e,t=!0){const r=LS(n);let o;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await NS(r,e,t,!0),o}async function $M(n,e){const t=LS(n);await NS(t,e,!0,!1)}async function NS(n,e,t,r){const o=await lM(n.localStore,Sr(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let d;return r&&(d=await BM(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&ES(n.remoteStore,o),d}async function BM(n,e,t,r,o){n.pu=(w,T,C)=>(async function(x,S,z,H){let K=S.view.ru(z);K.Cs&&(K=await Yw(x.localStore,S.query,!1).then((({documents:b})=>S.view.ru(b,K))));const X=H&&H.targetChanges.get(S.targetId),ne=H&&H.targetMismatches.get(S.targetId)!=null,se=S.view.applyChanges(K,x.isPrimaryClient,X,ne);return oE(x,S.targetId,se.au),se.snapshot})(n,w,T,C);const a=await Yw(n.localStore,e,!0),u=new LM(e,a.Qs),d=u.ru(a.documents),f=lu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),m=u.applyChanges(d,n.isPrimaryClient,f);oE(n,t,m.au);const v=new FM(e,t,u);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function qM(n,e,t){const r=ke(n),o=r.Tu.get(e),a=r.Iu.get(o.targetId);if(a.length>1)return r.Iu.set(o.targetId,a.filter((u=>!sd(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await nm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),t&&hg(r.remoteStore,o.targetId),im(r,o.targetId)})).catch(Ia)):(im(r,o.targetId),await nm(r.localStore,o.targetId,!0))}async function HM(n,e){const t=ke(n),r=t.Tu.get(e),o=t.Iu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),hg(t.remoteStore,r.targetId))}async function WM(n,e,t){const r=ZM(n);try{const o=await(function(u,d){const f=ke(u),m=qe.now(),v=d.reduce(((C,O)=>C.add(O.key)),je());let w,T;return f.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let O=us(),x=je();return f.Ns.getEntries(C,v).next((S=>{O=S,O.forEach(((z,H)=>{H.isValidDocument()||(x=x.add(z))}))})).next((()=>f.localDocuments.getOverlayedDocuments(C,O))).next((S=>{w=S;const z=[];for(const H of d){const K=aV(H,w.get(H.key).overlayedDocument);K!=null&&z.push(new fi(H.key,K,jI(K.value.mapValue),In.exists(!0)))}return f.mutationQueue.addMutationBatch(C,m,z,d)})).next((S=>{T=S;const z=S.applyToLocalDocumentSet(w,x);return f.documentOverlayCache.saveOverlays(C,S.batchId,z)}))})).then((()=>({batchId:T.batchId,changes:QI(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(u,d,f){let m=u.Vu[u.currentUser.toKey()];m||(m=new it(Fe)),m=m.insert(d,f),u.Vu[u.currentUser.toKey()]=m})(r,o.batchId,t),await cu(r,o.changes),await hd(r.remoteStore)}catch(o){const a=gg(o,"Failed to persist write");t.reject(a)}}async function DS(n,e){const t=ke(n);try{const r=await iM(t.localStore,e);e.targetChanges.forEach(((o,a)=>{const u=t.Au.get(a);u&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?We(u.hu,14607):o.removedDocuments.size>0&&(We(u.hu,42227),u.hu=!1))})),await cu(t,r,e)}catch(r){await Ia(r)}}function iE(n,e,t){const r=ke(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.Tu.forEach(((a,u)=>{const d=u.view.va(e);d.snapshot&&o.push(d.snapshot)})),(function(u,d){const f=ke(u);f.onlineState=d;let m=!1;f.queries.forEach(((v,w)=>{for(const T of w.Sa)T.va(d)&&(m=!0)})),m&&yg(f)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function GM(n,e,t){const r=ke(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Au.get(e),a=o&&o.key;if(a){let u=new it(ye.comparator);u=u.insert(a,Ht.newNoDocument(a,xe.min()));const d=je().add(a),f=new ld(xe.min(),new Map,new it(Fe),u,d);await DS(r,f),r.du=r.du.remove(a),r.Au.delete(e),_g(r)}else await nm(r.localStore,e,!1).then((()=>im(r,e,t))).catch(Ia)}async function KM(n,e){const t=ke(n),r=e.batch.batchId;try{const o=await sM(t.localStore,e);VS(t,r,null),OS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await cu(t,o)}catch(o){await Ia(o)}}async function QM(n,e,t){const r=ke(n);try{const o=await(function(u,d){const f=ke(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let v;return f.mutationQueue.lookupMutationBatch(m,d).next((w=>(We(w!==null,37113),v=w.keys(),f.mutationQueue.removeMutationBatch(m,w)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,v,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v))).next((()=>f.localDocuments.getDocuments(m,v)))}))})(r.localStore,e);VS(r,e,t),OS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await cu(r,o)}catch(o){await Ia(o)}}function OS(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function VS(n,e,t){const r=ke(n);let o=r.Vu[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function im(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||MS(n,r)}))}function MS(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(hg(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),_g(n))}function oE(n,e,t){for(const r of t)r instanceof kS?(n.Ru.addReference(r.key,e),YM(n,r)):r instanceof bS?(de(vg,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||MS(n,r.key)):Ie(19791,{wu:r})}function YM(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(de(vg,"New document in limbo: "+t),n.Eu.add(r),_g(n))}function _g(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ye(Ye.fromString(e)),r=n.fu.next();n.Au.set(r,new jM(t)),n.du=n.du.insert(t,r),ES(n.remoteStore,new Qs(Sr(eg(t.path)),r,"TargetPurposeLimboResolution",ed.ce))}}async function cu(n,e,t){const r=ke(n),o=[],a=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,f)=>{u.push(r.pu(f,e,t).then((m=>{if((m||t)&&r.isPrimaryClient){const v=m?!m.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(m){o.push(m);const v=ug.As(f.targetId,m);a.push(v)}})))})),await Promise.all(u),r.Pu.H_(o),await(async function(f,m){const v=ke(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>J.forEach(m,(T=>J.forEach(T.Es,(C=>v.persistence.referenceDelegate.addReference(w,T.targetId,C))).next((()=>J.forEach(T.ds,(C=>v.persistence.referenceDelegate.removeReference(w,T.targetId,C)))))))))}catch(w){if(!Sa(w))throw w;de(cg,"Failed to update sequence numbers: "+w)}for(const w of m){const T=w.targetId;if(!w.fromCache){const C=v.Ms.get(T),O=C.snapshotVersion,x=C.withLastLimboFreeSnapshotVersion(O);v.Ms=v.Ms.insert(T,x)}}})(r.localStore,a))}async function XM(n,e){const t=ke(n);if(!t.currentUser.isEqual(e)){de(vg,"User change. New user:",e.toKey());const r=await yS(t.localStore,e);t.currentUser=e,(function(a,u){a.mu.forEach((d=>{d.forEach((f=>{f.reject(new ue(Q.CANCELLED,u))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await cu(t,r.Ls)}}function JM(n,e){const t=ke(n),r=t.Au.get(e);if(r&&r.hu)return je().add(r.key);{let o=je();const a=t.Iu.get(e);if(!a)return o;for(const u of a){const d=t.Tu.get(u);o=o.unionWith(d.view.nu)}return o}}function LS(n){const e=ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=DS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GM.bind(null,e),e.Pu.H_=VM.bind(null,e.eventManager),e.Pu.yu=MM.bind(null,e.eventManager),e}function ZM(n){const e=ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QM.bind(null,e),e}class xh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ud(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return rM(this.persistence,new eM,e.initialUser,this.serializer)}Cu(e){return new gS(lg.mi,this.serializer)}Du(e){return new cM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xh.provider={build:()=>new xh};class eL extends xh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){We(this.persistence.referenceDelegate instanceof Ch,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new jV(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new gS((r=>Ch.mi(r,t)),this.serializer)}}class om{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>iE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=XM.bind(null,this.syncEngine),await NM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new OM})()}createDatastore(e){const t=ud(e.databaseInfo.databaseId),r=(function(a){return new mM(a)})(e.databaseInfo);return(function(a,u,d,f){return new _M(a,u,d,f)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,o,a,u,d){return new EM(r,o,a,u,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>iE(this.syncEngine,t,0)),(function(){return Zw.v()?new Zw:new hM})())}createSyncEngine(e,t){return(function(o,a,u,d,f,m,v){const w=new UM(o,a,u,d,f,m);return v&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=ke(t);de(eo,"RemoteStore shutting down."),r.Ea.add(5),await uu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}om.provider={build:()=>new om};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ls("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi="FirestoreClient";class tL{constructor(e,t,r,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=qt.UNAUTHENTICATED,this.clientId=Qm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async u=>{de(hi,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(de(hi,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=gg(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function vp(n,e){n.asyncQueue.verifyOperationInProgress(),de(hi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await yS(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function aE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await nL(n);de(hi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>tE(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>tE(e.remoteStore,o))),n._onlineComponents=e}async function nL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){de(hi,"Using user provided OfflineComponentProvider");try{await vp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Q.FAILED_PRECONDITION||o.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;ua("Error using user provided cache. Falling back to memory cache: "+t),await vp(n,new xh)}}else de(hi,"Using default OfflineComponentProvider"),await vp(n,new eL(void 0));return n._offlineComponents}async function jS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(de(hi,"Using user provided OnlineComponentProvider"),await aE(n,n._uninitializedComponentsProvider._online)):(de(hi,"Using default OnlineComponentProvider"),await aE(n,new om))),n._onlineComponents}function rL(n){return jS(n).then((e=>e.syncEngine))}async function US(n){const e=await jS(n),t=e.eventManager;return t.onListen=zM.bind(null,e.syncEngine),t.onUnlisten=qM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=$M.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=HM.bind(null,e.syncEngine),t}function sL(n,e,t={}){const r=new ns;return n.asyncQueue.enqueueAndForget((async()=>(function(a,u,d,f,m){const v=new FS({next:T=>{v.Nu(),u.enqueueAndForget((()=>xS(a,w)));const C=T.docs.has(d);!C&&T.fromCache?m.reject(new ue(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&T.fromCache&&f&&f.source==="server"?m.reject(new ue(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(T)},error:T=>m.reject(T)}),w=new PS(eg(d.path),v,{includeMetadataChanges:!0,qa:!0});return RS(a,w)})(await US(n),n.asyncQueue,e,t,r))),r.promise}function iL(n,e,t={}){const r=new ns;return n.asyncQueue.enqueueAndForget((async()=>(function(a,u,d,f,m){const v=new FS({next:T=>{v.Nu(),u.enqueueAndForget((()=>xS(a,w))),T.fromCache&&f.source==="server"?m.reject(new ue(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(T)},error:T=>m.reject(T)}),w=new PS(d,v,{includeMetadataChanges:!0,qa:!0});return RS(a,w)})(await US(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="firestore.googleapis.com",uE=!0;class cE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$S,this.ssl=uE}else this.host=e.host,this.ssl=e.ssl??uE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<LV)throw new ue(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}w2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zS(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ue(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ue(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ue(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dd{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new c2;switch(r.type){case"firstParty":return new p2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=lE.get(t);r&&(de("ComponentProvider","Removing Datastore"),lE.delete(t),r.terminate())})(this),Promise.resolve()}}function oL(n,e,t,r={}){n=br(n,dd);const o=_a(e),a=n._getSettings(),u={...a,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;o&&(u0(`https://${d}`),c0("Firestore",!0)),a.host!==$S&&a.host!==d&&ua("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:d,ssl:o,emulatorOptions:r};if(!si(f,u)&&(n._setSettings(f),r.mockUserToken)){let m,v;if(typeof r.mockUserToken=="string")m=r.mockUserToken,v=qt.MOCK_USER;else{m=pk(r.mockUserToken,n._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new ue(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new qt(w)}n._authCredentials=new h2(new RI(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new cs(this.firestore,e,this._query)}}class ft{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ft(this.firestore,e,this._key)}toJSON(){return{type:ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(ou(t,ft._jsonSchema))return new ft(e,r||null,new ye(Ye.fromString(t.referencePath)))}}ft._jsonSchemaVersion="firestore/documentReference/1.0",ft._jsonSchema={type:_t("string",ft._jsonSchemaVersion),referencePath:_t("string")};class ei extends cs{constructor(e,t,r){super(e,t,eg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ft(this.firestore,null,new ye(e))}withConverter(e){return new ei(this.firestore,e,this._path)}}function _p(n,e,...t){if(n=lt(n),xI("collection","path",e),n instanceof dd){const r=Ye.fromString(e,...t);return Sw(r),new ei(n,null,r)}{if(!(n instanceof ft||n instanceof ei))throw new ue(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ye.fromString(e,...t));return Sw(r),new ei(n.firestore,null,r)}}function Ks(n,e,...t){if(n=lt(n),arguments.length===1&&(e=Qm.newId()),xI("doc","path",e),n instanceof dd){const r=Ye.fromString(e,...t);return Iw(r),new ft(n,null,new ye(r))}{if(!(n instanceof ft||n instanceof ei))throw new ue(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ye.fromString(e,...t));return Iw(r),new ft(n.firestore,n instanceof ei?n.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="AsyncQueue";class dE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _S(this,"async_queue_retry"),this._c=()=>{const r=yp();r&&de(hE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=yp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=yp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ns;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Sa(e))throw e;de(hE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ls("INTERNAL UNHANDLED ERROR: ",fE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=mg.createAndSchedule(this,e,t,r,(a=>this.hc(a)));return this.tc.push(o),o}uc(){this.nc&&Ie(47125,{Pc:fE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function fE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Ca extends dd{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new dE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dE(e),this._firestoreClient=void 0,await e}}}function aL(n,e){const t=typeof n=="object"?n:Dm(),r=typeof n=="string"?n:wh,o=no(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=dk("firestore");a&&oL(o,...a)}return o}function fd(n){if(n._terminated)throw new ue(Q.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||lL(n),n._firestoreClient}function lL(n){const e=n._freezeSettings(),t=(function(o,a,u,d){return new N2(o,a,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,zS(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new tL(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(o){const a=o?._online.build();return{_offline:o?._offline.build(a),_online:a}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dn(Mt.fromBase64String(e))}catch(t){throw new ue(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Dn(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Dn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ou(e,Dn._jsonSchema))return Dn.fromBase64String(e.bytes)}}Dn._jsonSchemaVersion="firestore/bytes/1.0",Dn._jsonSchema={type:_t("string",Dn._jsonSchemaVersion),bytes:_t("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ue(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ue(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ue(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Cr._jsonSchemaVersion}}static fromJSON(e){if(ou(e,Cr._jsonSchema))return new Cr(e.latitude,e.longitude)}}Cr._jsonSchemaVersion="firestore/geoPoint/1.0",Cr._jsonSchema={type:_t("string",Cr._jsonSchemaVersion),latitude:_t("number"),longitude:_t("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Rr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ou(e,Rr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Rr(e.vectorValues);throw new ue(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Rr._jsonSchemaVersion="firestore/vectorValue/1.0",Rr._jsonSchema={type:_t("string",Rr._jsonSchemaVersion),vectorValues:_t("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL=/^__.*__$/;class cL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new fi(e,this.data,this.fieldMask,t,this.fieldTransforms):new au(e,this.data,t,this.fieldTransforms)}}class BS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new fi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function qS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ac:n})}}class wg{constructor(e,t,r,o,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new wg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ph(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(qS(this.Ac)&&uL.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class hL{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ud(e)}Cc(e,t,r,o=!1){return new wg({Ac:e,methodName:t,Dc:r,path:Vt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function du(n){const e=n._freezeSettings(),t=ud(n._databaseId);return new hL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function HS(n,e,t,r,o,a={}){const u=n.Cc(a.merge||a.mergeFields?2:0,e,t,o);Tg("Data must be an object, but it was:",u,r);const d=QS(r,u);let f,m;if(a.merge)f=new wn(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const w of a.mergeFields){const T=am(e,w,t);if(!u.contains(T))throw new ue(Q.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);XS(v,T)||v.push(T)}f=new wn(v),m=u.fieldTransforms.filter((w=>f.covers(w.field)))}else f=null,m=u.fieldTransforms;return new cL(new an(d),f,m)}class md extends pd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof md}}class Eg extends pd{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new Xl(e.serializer,JI(e.serializer,this.Fc));return new rV(e.path,t)}isEqual(e){return e instanceof Eg&&this.Fc===e.Fc}}function WS(n,e,t,r){const o=n.Cc(1,e,t);Tg("Data must be an object, but it was:",o,r);const a=[],u=an.empty();di(r,((f,m)=>{const v=Ig(e,f,t);m=lt(m);const w=o.yc(v);if(m instanceof md)a.push(v);else{const T=fu(m,w);T!=null&&(a.push(v),u.set(v,T))}}));const d=new wn(a);return new BS(u,d,o.fieldTransforms)}function GS(n,e,t,r,o,a){const u=n.Cc(1,e,t),d=[am(e,r,t)],f=[o];if(a.length%2!=0)throw new ue(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)d.push(am(e,a[T])),f.push(a[T+1]);const m=[],v=an.empty();for(let T=d.length-1;T>=0;--T)if(!XS(m,d[T])){const C=d[T];let O=f[T];O=lt(O);const x=u.yc(C);if(O instanceof md)m.push(C);else{const S=fu(O,x);S!=null&&(m.push(C),v.set(C,S))}}const w=new wn(m);return new BS(v,w,u.fieldTransforms)}function KS(n,e,t,r=!1){return fu(t,n.Cc(r?4:3,e))}function fu(n,e){if(YS(n=lt(n)))return Tg("Unsupported field value:",e,n),QS(n,e);if(n instanceof pd)return(function(r,o){if(!qS(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const a=[];let u=0;for(const d of r){let f=fu(d,o.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}})(n,e)}return(function(r,o){if((r=lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return JI(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=qe.fromDate(r);return{timestampValue:Ah(o.serializer,a)}}if(r instanceof qe){const a=new qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ah(o.serializer,a)}}if(r instanceof Cr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Dn)return{bytesValue:lS(o.serializer,r._byteString)};if(r instanceof ft){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:og(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Rr)return(function(u,d){return{mapValue:{fields:{[LI]:{stringValue:FI},[Eh]:{arrayValue:{values:u.toArray().map((m=>{if(typeof m!="number")throw d.Sc("VectorValues must only contain numeric values.");return ng(d.serializer,m)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Zh(r)}`)})(n,e)}function QS(n,e){const t={};return bI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):di(n,((r,o)=>{const a=fu(o,e.mc(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function YS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof qe||n instanceof Cr||n instanceof Dn||n instanceof ft||n instanceof pd||n instanceof Rr)}function Tg(n,e,t){if(!YS(t)||!PI(t)){const r=Zh(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function am(n,e,t){if((e=lt(e))instanceof hu)return e._internalPath;if(typeof e=="string")return Ig(n,e);throw Ph("Field path arguments must be of type string or ",n,!1,void 0,t)}const dL=new RegExp("[~\\*/\\[\\]]");function Ig(n,e,t){if(e.search(dL)>=0)throw Ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new hu(...e.split("."))._internalPath}catch{throw Ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ph(n,e,t,r,o){const a=r&&!r.isEmpty(),u=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${o}`),f+=")"),new ue(Q.INVALID_ARGUMENT,d+n+f)}function XS(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(gd("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class fL extends Sg{data(){return super.data()}}function gd(n,e){return typeof e=="string"?Ig(n,e):e instanceof hu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ue(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ag{}class yd extends Ag{}function Sl(n,e,...t){let r=[];e instanceof Ag&&r.push(e),r=r.concat(t),(function(a){const u=a.filter((f=>f instanceof Cg)).length,d=a.filter((f=>f instanceof vd)).length;if(u>1||u>0&&d>0)throw new ue(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)n=o._apply(n);return n}class vd extends yd{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new vd(e,t,r)}_apply(e){const t=this._parse(e);return JS(e._query,t),new cs(e.firestore,e.converter,Xp(e._query,t))}_parse(e){const t=du(e.firestore);return(function(a,u,d,f,m,v,w){let T;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ue(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){yE(w,v);const O=[];for(const x of w)O.push(gE(f,a,x));T={arrayValue:{values:O}}}else T=gE(f,a,w)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||yE(w,v),T=KS(d,u,w,v==="in"||v==="not-in");return vt.create(m,v,T)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function $c(n,e,t){const r=e,o=gd("where",n);return vd._create(o,r,t)}class Cg extends Ag{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Cg(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Zn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,a){let u=o;const d=a.getFlattenedFilters();for(const f of d)JS(u,f),u=Xp(u,f)})(e._query,t),new cs(e.firestore,e.converter,Xp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Rg extends yd{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Rg(e,t)}_apply(e){const t=(function(o,a,u){if(o.startAt!==null)throw new ue(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Kl(a,u)})(e._query,this._field,this._direction);return new cs(e.firestore,e.converter,(function(o,a){const u=o.explicitOrderBy.concat([a]);return new ro(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function pE(n,e="asc"){const t=e,r=gd("orderBy",n);return Rg._create(r,t)}class xg extends yd{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new xg(e,t,r)}_apply(e){return new cs(e.firestore,e.converter,Ih(e._query,this._limit,this._limitType))}}function mE(n){return E2("limit",n),xg._create("limit",n,"F")}class Pg extends yd{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Pg(e,t,r)}_apply(e){const t=gL(e,this.type,this._docOrFields,this._inclusive);return new cs(e.firestore,e.converter,(function(o,a){return new ro(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,a,o.endAt)})(e._query,t))}}function mL(...n){return Pg._create("startAfter",n,!1)}function gL(n,e,t,r){if(t[0]=lt(t[0]),t[0]instanceof Sg)return(function(a,u,d,f,m){if(!f)throw new ue(Q.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const v=[];for(const w of sa(a))if(w.field.isKeyField())v.push(Th(u,f.key));else{const T=f.data.field(w.field);if(nd(T))throw new ue(Q.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+w.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(T===null){const C=w.field.canonicalString();throw new ue(Q.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${C}' (used as the orderBy) does not exist.`)}v.push(T)}return new fa(v,m)})(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=du(n.firestore);return(function(u,d,f,m,v,w){const T=u.explicitOrderBy;if(v.length>T.length)throw new ue(Q.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const C=[];for(let O=0;O<v.length;O++){const x=v[O];if(T[O].field.isKeyField()){if(typeof x!="string")throw new ue(Q.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof x}`);if(!tg(u)&&x.indexOf("/")!==-1)throw new ue(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${x}' contains a slash.`);const S=u.path.child(Ye.fromString(x));if(!ye.isDocumentKey(S))throw new ue(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${S}' is not because it contains an odd number of segments.`);const z=new ye(S);C.push(Th(d,z))}else{const S=KS(f,m,x);C.push(S)}}return new fa(C,w)})(n._query,n.firestore._databaseId,o,e,t,r)}}function gE(n,e,t){if(typeof(t=lt(t))=="string"){if(t==="")throw new ue(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tg(e)&&t.indexOf("/")!==-1)throw new ue(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ye.fromString(t));if(!ye.isDocumentKey(r))throw new ue(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Th(n,new ye(r))}if(t instanceof ft)return Th(n,t._key);throw new ue(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zh(t)}.`)}function yE(n,e){if(!Array.isArray(n)||n.length===0)throw new ue(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JS(n,e){const t=(function(o,a){for(const u of o)for(const d of u.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ue(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class yL{convertValue(e,t="none"){switch(ui(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(li(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return di(e,((o,a)=>{r[o]=this.convertValue(a,t)})),r}convertVectorValue(e){const t=e.fields?.[Eh].arrayValue?.values?.map((r=>dt(r.doubleValue)));return new Rr(t)}convertGeoPoint(e){return new Cr(dt(e.latitude),dt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=rd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Hl(e));default:return null}}convertTimestamp(e){const t=ai(e);return new qe(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ye.fromString(e);We(pS(r),9688,{name:e});const o=new Wl(r.get(1),r.get(3)),a=new ye(r.popFirst(5));return o.isEqual(t)||ls(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Pl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gi extends Sg{constructor(e,t,r,o,a,u){super(e,t,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(gd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Gi._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Gi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gi._jsonSchema={type:_t("string",Gi._jsonSchemaVersion),bundleSource:_t("string","DocumentSnapshot"),bundleName:_t("string"),bundle:_t("string")};class nh extends Gi{data(e={}){return super.data(e)}}class oa{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Pl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new nh(this._firestore,this._userDataWriter,r.key,r,new Pl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ue(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((d=>{const f=new nh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Pl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const f=new nh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Pl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return d.type!==0&&(m=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),v=u.indexOf(d.doc.key)),{type:vL(d.type),doc:f,oldIndex:m,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=oa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Qm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function vL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(n){n=br(n,ft);const e=br(n.firestore,Ca);return sL(fd(e),n._key).then((t=>wL(e,n,t)))}oa._jsonSchemaVersion="firestore/querySnapshot/1.0",oa._jsonSchema={type:_t("string",oa._jsonSchemaVersion),bundleSource:_t("string","QuerySnapshot"),bundleName:_t("string"),bundle:_t("string")};class eA extends yL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ft(this.firestore,null,t)}}function vE(n){n=br(n,cs);const e=br(n.firestore,Ca),t=fd(e),r=new eA(e);return pL(n._query),iL(t,n._query).then((o=>new oa(e,r,n,o)))}function lm(n,e,t){n=br(n,ft);const r=br(n.firestore,Ca),o=ZS(n.converter,e,t);return kg(r,[HS(du(r),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,In.none())])}function um(n,e,t,...r){n=br(n,ft);const o=br(n.firestore,Ca),a=du(o);let u;return u=typeof(e=lt(e))=="string"||e instanceof hu?GS(a,"updateDoc",n._key,e,t,r):WS(a,"updateDoc",n._key,e),kg(o,[u.toMutation(n._key,In.exists(!0))])}function kg(n,e){return(function(r,o){const a=new ns;return r.asyncQueue.enqueueAndForget((async()=>WM(await rL(r),o,a))),a.promise})(fd(n),e)}function wL(n,e,t){const r=t.docs.get(e._key),o=new eA(n);return new Gi(n,o,e._key,r,new Pl(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=du(e)}set(e,t,r){this._verifyNotCommitted();const o=wp(e,this._firestore),a=ZS(o.converter,t,r),u=HS(this._dataReader,"WriteBatch.set",o._key,a,o.converter!==null,r);return this._mutations.push(u.toMutation(o._key,In.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const a=wp(e,this._firestore);let u;return u=typeof(t=lt(t))=="string"||t instanceof hu?GS(this._dataReader,"WriteBatch.update",a._key,t,r,o):WS(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,In.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=wp(e,this._firestore);return this._mutations=this._mutations.concat(new rg(t._key,In.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ue(Q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function wp(n,e){if((n=lt(n)).firestore!==e)throw new ue(Q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function TL(n){return new Eg("increment",n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL(n){return fd(n=br(n,Ca)),new EL(n,(e=>kg(n,e)))}(function(e,t=!0){(function(o){Ta=o})(wa),Pr(new Jn("firestore",((r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),d=new Ca(new d2(r.getProvider("auth-internal")),new m2(u,r.getProvider("app-check-internal")),(function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ue(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(m.options.projectId,v)})(u,o),u);return a={useFetchStreams:t,...a},d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),On(_w,ww,e),On(_w,ww,"esm2020")})();const SL={apiKey:"AIzaSyApDku-geNVplwIgRBz2U0rs46aAVo-_mE",authDomain:"aios-97581.firebaseapp.com",projectId:"aios-97581",storageBucket:"aios-97581.appspot.com",messagingSenderId:"307575156824",appId:"1:307575156824:web:00924bd384df1f29909a2d"},bg=y0(SL),Bc=l2(bg),Wn=aL(bg),AL=iD(bg),Ng=new Zr;Ng.addScope("email");Ng.addScope("profile");class Ep{static async signInWithGoogle(){try{const t=(await yO(Bc,Ng)).user;return await this.saveUserToFirestore(t),t}catch(e){throw console.error("Google sign-in error:",e),e}}static async signInAnonymously(){try{const t=(await qD(Bc)).user;return await this.saveUserToFirestore(t),t}catch(e){throw console.error("Anonymous sign-in error:",e),e}}static async signOut(){try{await XD(Bc)}catch(e){throw console.error("Sign-out error:",e),e}}static onAuthStateChanged(e){return YD(Bc,e)}static async saveUserToFirestore(e){try{const t=Ks(Wn,"users",e.uid),r={uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL,emailVerified:e.emailVerified,createdAt:new Date,lastLoginAt:new Date,preferences:{theme:"light",notifications:!0,language:"en"}};await lm(t,r,{merge:!0})}catch(t){throw console.error("Error saving user to Firestore:",t),t}}static async getUserData(e){try{const t=Ks(Wn,"users",e),r=await _L(t);if(r.exists())return r.data();throw new Error("User data not found")}catch(t){throw console.error("Error getting user data:",t),t}}static async updateUserData(e,t){try{const r=Ks(Wn,"users",e);await um(r,{...t,updatedAt:new Date})}catch(r){throw console.error("Error updating user data:",r),r}}}const IF=(n,e)=>{$0(AL,n,e)},tA=A.createContext(void 0);function CL({children:n}){const[e,t]=A.useState(null),[r,o]=A.useState(!0);A.useEffect(()=>Ep.onAuthStateChanged(m=>{t(m),o(!1)}),[]);const d={user:e,loading:r,signInWithGoogle:async()=>{try{o(!0),await Ep.signInWithGoogle()}catch(f){throw console.error("Sign-in error:",f),f}finally{o(!1)}},signOut:async()=>{try{o(!0),await Ep.signOut()}catch(f){throw console.error("Sign-out error:",f),f}finally{o(!1)}},isAuthenticated:!!e};return R.jsx(tA.Provider,{value:d,children:n})}function Ra(){const n=A.useContext(tA);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n}const _d=A.forwardRef(({className:n,...e},t)=>R.jsx("div",{ref:t,className:xt("glass-card rounded-lg border bg-card/80 backdrop-blur-xl text-card-foreground shadow-sm transition-all duration-300 hover:shadow-lg",n),...e}));_d.displayName="Card";const Dg=A.forwardRef(({className:n,...e},t)=>R.jsx("div",{ref:t,className:xt("flex flex-col space-y-1.5 p-6",n),...e}));Dg.displayName="CardHeader";const Og=A.forwardRef(({className:n,...e},t)=>R.jsx("div",{ref:t,className:xt("text-2xl font-semibold leading-none tracking-tight cyber-text",n),...e}));Og.displayName="CardTitle";const RL=A.forwardRef(({className:n,...e},t)=>R.jsx("div",{ref:t,className:xt("text-sm text-muted-foreground",n),...e}));RL.displayName="CardDescription";const wd=A.forwardRef(({className:n,...e},t)=>R.jsx("div",{ref:t,className:xt("p-6 pt-0",n),...e}));wd.displayName="CardContent";const xL=A.forwardRef(({className:n,...e},t)=>R.jsx("div",{ref:t,className:xt("flex items-center p-6 pt-0",n),...e}));xL.displayName="CardFooter";function PL(){return R.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 via-background to-accent/10 flex items-center justify-center p-4",children:R.jsx(_d,{className:"w-full max-w-md",children:R.jsxs(wd,{className:"p-8 text-center",children:[R.jsxs("div",{className:"mb-8",children:[R.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-primary to-accent rounded-2xl flex items-center justify-center mx-auto mb-4",children:R.jsx("i",{className:"fas fa-robot text-white text-2xl"})}),R.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"AuraOS"}),R.jsx("p",{className:"text-sm text-muted-foreground",children:"AI-Powered Social Media Platform"})]}),R.jsxs("div",{className:"space-y-4",children:[R.jsx("div",{className:"flex justify-center",children:R.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}),R.jsxs("div",{className:"space-y-2",children:[R.jsx("p",{className:"text-sm font-medium text-foreground",children:"Loading your workspace..."}),R.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:R.jsx("div",{className:"bg-primary h-2 rounded-full animate-pulse",style:{width:"60%"}})})]}),R.jsxs("div",{className:"text-left space-y-2 text-xs text-muted-foreground",children:[R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),R.jsx("span",{children:"Initializing AI systems"})]}),R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),R.jsx("span",{children:"Loading social media integrations"})]}),R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full animate-pulse"}),R.jsx("span",{children:"Connecting to Firestore database"})]}),R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("div",{className:"w-2 h-2 bg-muted rounded-full"}),R.jsx("span",{children:"Preparing your dashboard"})]})]})]}),R.jsxs("div",{className:"mt-8 pt-6 border-t border-border",children:[R.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Powered by advanced AI"}),R.jsxs("div",{className:"flex justify-center gap-4 text-xs text-muted-foreground",children:[R.jsxs("div",{className:"flex items-center gap-1",children:[R.jsx("i",{className:"fas fa-brain text-primary"}),R.jsx("span",{children:"Smart Agents"})]}),R.jsxs("div",{className:"flex items-center gap-1",children:[R.jsx("i",{className:"fas fa-share-alt text-accent"}),R.jsx("span",{children:"Auto Posting"})]}),R.jsxs("div",{className:"flex items-center gap-1",children:[R.jsx("i",{className:"fas fa-chart-line text-green-500"}),R.jsx("span",{children:"Analytics"})]})]})]})]})})})}const kL=Em("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 relative overflow-hidden",{variants:{variant:{default:"neon-button bg-gradient-to-r from-primary to-accent text-primary-foreground hover:from-primary/90 hover:to-accent/90 neon-glow-md hover:neon-glow-lg",destructive:"bg-gradient-to-r from-destructive to-red-500 text-destructive-foreground hover:from-destructive/90 hover:to-red-500/90 neon-glow-md hover:neon-glow-lg",outline:"border border-primary/50 bg-transparent hover:bg-primary/10 hover:text-primary hover:border-primary neon-glow-sm hover:neon-glow-md",secondary:"bg-gradient-to-r from-secondary to-secondary/80 text-secondary-foreground hover:from-secondary/90 hover:to-secondary/70 neon-glow-sm hover:neon-glow-md",ghost:"hover:bg-primary/10 hover:text-primary transition-all duration-300",link:"text-primary underline-offset-4 hover:underline neon-text",neon:"neon-button bg-gradient-to-r from-primary via-accent to-primary text-primary-foreground animate-neon-pulse hover:animate-none",cyber:"cyber-border bg-gradient-to-r from-primary/20 to-accent/20 text-primary hover:from-primary/30 hover:to-accent/30 animate-cyber-border",holographic:"holographic text-white font-bold animate-holographic-shift"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10",xl:"h-12 rounded-lg px-10 text-base"}},defaultVariants:{variant:"default",size:"default"}}),Ki=A.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...o},a)=>{const u=r?NR:"button";return R.jsx(u,{className:xt(kL({variant:e,size:t,className:n})),ref:a,...o})});Ki.displayName="Button";const bL=Em("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),nA=A.forwardRef(({className:n,variant:e,...t},r)=>R.jsx("div",{ref:r,role:"alert",className:xt(bL({variant:e}),n),...t}));nA.displayName="Alert";const NL=A.forwardRef(({className:n,...e},t)=>R.jsx("h5",{ref:t,className:xt("mb-1 font-medium leading-none tracking-tight",n),...e}));NL.displayName="AlertTitle";const rA=A.forwardRef(({className:n,...e},t)=>R.jsx("div",{ref:t,className:xt("text-sm [&_p]:leading-relaxed",n),...e}));rA.displayName="AlertDescription";var DL="Separator",_E="horizontal",OL=["horizontal","vertical"],sA=A.forwardRef((n,e)=>{const{decorative:t,orientation:r=_E,...o}=n,a=VL(r)?r:_E,d=t?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return R.jsx(Jt.div,{"data-orientation":a,...d,...o,ref:e})});sA.displayName=DL;function VL(n){return OL.includes(n)}var iA=sA;const cm=A.forwardRef(({className:n,orientation:e="horizontal",decorative:t=!0,...r},o)=>R.jsx(iA,{ref:o,decorative:t,orientation:e,className:xt("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",n),...r}));cm.displayName=iA.displayName;const ML=()=>R.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(30)].map((n,e)=>R.jsx("div",{className:"absolute bg-gradient-to-r from-primary/30 via-accent/20 to-primary/30 rounded-full animate-float",style:{width:`${Math.random()*40+15}px`,height:`${Math.random()*40+15}px`,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDuration:`${Math.random()*25+20}s`,animationDelay:`${Math.random()*-30}s`,boxShadow:`0 0 ${Math.random()*20+10}px hsl(var(--primary))`}},e))}),LL=()=>R.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none opacity-10",children:[...Array(50)].map((n,e)=>R.jsx("div",{className:"absolute text-primary/20 font-mono text-xs animate-matrix-rain",style:{left:`${e*2%100}%`,animationDuration:`${Math.random()*3+2}s`,animationDelay:`${Math.random()*-5}s`},children:String.fromCharCode(12448+Math.random()*96)},e))}),FL=()=>R.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-20",children:R.jsxs("svg",{className:"w-full h-full",children:[R.jsx("defs",{children:R.jsx("pattern",{id:"grid",width:"50",height:"50",patternUnits:"userSpaceOnUse",children:R.jsx("path",{d:"M 50 0 L 0 0 0 50",fill:"none",stroke:"hsl(var(--primary))",strokeWidth:"0.5",opacity:"0.3"})})}),R.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"})]})});function oA(){const{signInWithGoogle:n,loading:e}=Ra(),[t,r]=A.useState(null),[o,a]=A.useState(!1),u=async()=>{try{r(null),a(!0),await n()}catch(d){r(d.message||"Failed to sign in with Google")}finally{a(!1)}};return R.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-carbon-900 to-background flex items-center justify-center p-4 relative overflow-hidden",children:[R.jsx(ML,{}),R.jsx(LL,{}),R.jsx(FL,{}),R.jsxs("div",{className:"w-full max-w-md z-10",children:[R.jsxs("div",{className:"text-center mb-8 animate-fade-in-up",children:[R.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-primary to-accent rounded-3xl flex items-center justify-center mx-auto mb-6 transform rotate-12 transition-all duration-700 hover:rotate-0 hover:scale-110 shadow-2xl neon-glow-md animate-pulse-slow",children:R.jsx("i",{className:"fas fa-robot text-white text-4xl animate-bounce-slow"})}),R.jsx("h1",{className:"text-5xl font-bold text-foreground mb-2 cyber-text animate-neon-flicker",children:"AuraOS"}),R.jsx("p",{className:"text-xl text-muted-foreground animate-fade-in-up-delayed",children:"The Future of AI-Powered Automation"})]}),R.jsxs(_d,{className:"shadow-2xl border-0 bg-card/90 backdrop-blur-md transform-gpu transition-all duration-700 hover:scale-105 hover:shadow-neon-lg [transform-style:preserve-3d] animate-slide-in-up glass-card",children:[R.jsxs(Dg,{className:"text-center pb-4",children:[R.jsx(Og,{className:"text-2xl font-semibold neon-text",children:"Unlock Your AI Potential"}),R.jsx("p",{className:"text-muted-foreground animate-fade-in",children:"Sign in to access your intelligent automation dashboard"})]}),R.jsxs(wd,{className:"space-y-6",children:[t&&R.jsx(nA,{variant:"destructive",children:R.jsx(rA,{children:t})}),R.jsx(Ki,{onClick:u,disabled:o||e,className:"w-full h-14 text-lg font-medium bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white border-0 shadow-lg transform transition-all duration-300 hover:scale-105 hover:shadow-xl neon-button animate-pulse-gentle",children:o?R.jsxs(R.Fragment,{children:[R.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white mr-3"}),"Authenticating..."]}):R.jsxs(R.Fragment,{children:[R.jsx("i",{className:"fab fa-google text-2xl mr-4"}),"Continue with Google"]})}),R.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[R.jsx(Ki,{variant:"link",className:"text-xs text-muted-foreground",children:"Sign in as Guest"}),R.jsx(cm,{orientation:"vertical",className:"h-4"}),R.jsx(Ki,{variant:"link",className:"text-xs text-muted-foreground",children:"Sign up for a free trial"})]}),R.jsx(cm,{className:"my-6",children:R.jsx("span",{className:"text-xs text-muted-foreground bg-card px-2",children:"or"})}),R.jsxs("div",{className:"space-y-4",children:[R.jsx("h3",{className:"text-sm font-medium text-foreground text-center",children:"Unlock cutting-edge features:"}),R.jsx(n0,{children:R.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[R.jsxs(Oc,{children:[R.jsxs(Vc,{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/50 hover:bg-muted/70 transition-colors",children:[R.jsx("i",{className:"fas fa-robot text-primary"}),R.jsx("span",{children:"Autonomous AI Agents"})]}),R.jsx(Al,{children:R.jsx("p",{children:"Deploy AI agents that learn and adapt to automate complex tasks."})})]}),R.jsxs(Oc,{children:[R.jsxs(Vc,{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/50 hover:bg-muted/70 transition-colors",children:[R.jsx("i",{className:"fas fa-cogs text-accent"}),R.jsx("span",{children:"Self-Improving Workflows"})]}),R.jsx(Al,{children:R.jsx("p",{children:"Create workflows that optimize themselves for maximum efficiency."})})]}),R.jsxs(Oc,{children:[R.jsxs(Vc,{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/50 hover:bg-muted/70 transition-colors",children:[R.jsx("i",{className:"fas fa-brain text-green-500"}),R.jsx("span",{children:"Predictive Analytics"})]}),R.jsx(Al,{children:R.jsx("p",{children:"Gain insights into future trends and make data-driven decisions."})})]}),R.jsxs(Oc,{children:[R.jsxs(Vc,{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/50 hover:bg-muted/70 transition-colors",children:[R.jsx("i",{className:"fas fa-users text-purple-500"}),R.jsx("span",{children:"Collaborative AI"})]}),R.jsx(Al,{children:R.jsx("p",{children:"Enable multiple AI agents to collaborate on complex projects."})})]})]})})]}),R.jsxs("div",{className:"pt-4",children:[R.jsx("h3",{className:"text-sm font-medium text-foreground text-center mb-2",children:"Trusted by innovators:"}),R.jsxs("blockquote",{className:"text-center text-xs text-muted-foreground italic",children:['"AuraOS has transformed our workflow, saving us countless hours and delivering incredible results."',R.jsx("footer",{className:"mt-1 not-italic font-semibold",children:"- CEO of a leading tech company"})]})]}),R.jsx("div",{className:"text-center pt-4",children:R.jsxs("span",{className:"inline-flex items-center text-xs text-muted-foreground",children:[R.jsx("i",{className:"fas fa-lock text-green-500 mr-2"}),"Secure sign-in powered by Firebase Authentication"]})})]})]}),R.jsxs("div",{className:"text-center mt-8",children:[R.jsxs("p",{className:"text-xs text-muted-foreground",children:["By signing in, you agree to our"," ",R.jsx("a",{href:"#",className:"text-primary hover:underline",children:"Terms of Service"})," ","and"," ",R.jsx("a",{href:"#",className:"text-primary hover:underline",children:"Privacy Policy"})]}),R.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Your data is protected with end-to-end encryption and advanced security protocols."})]})]})]})}const jL=Object.freeze(Object.defineProperty({__proto__:null,default:oA},Symbol.toStringTag,{value:"Module"}));function UL({children:n}){const{user:e,loading:t,isAuthenticated:r}=Ra();return t?R.jsx(PL,{}):r?R.jsx(R.Fragment,{children:n}):R.jsx(oA,{})}class zL extends A.Component{state={hasError:!1,error:null};static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){Jo.getInstance().handleError(e,{logToConsole:!0,reportToService:!0}),this.setState({error:e}),this.props.onError&&this.props.onError(e,t)}handleReset=()=>{this.setState({hasError:!1,error:null})};handleReload=()=>{window.location.reload()};handleGoHome=()=>{window.location.href="/"};render(){return this.state.hasError?this.props.fallback?this.props.fallback:R.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background",children:R.jsxs(_d,{className:"glass-card neon-glow-md max-w-2xl w-full",children:[R.jsxs(Dg,{className:"text-center",children:[R.jsx("div",{className:"mx-auto mb-4 w-16 h-16 rounded-full bg-destructive/10 flex items-center justify-center",children:R.jsx(Rx,{className:"h-8 w-8 text-destructive"})}),R.jsx(Og,{className:"text-2xl cyber-text",children:"Oops! Something went wrong"}),R.jsx("p",{className:"text-muted-foreground mt-2",children:"An unexpected error occurred. Our team has been notified."})]}),R.jsxs(wd,{className:"space-y-6",children:[!1,R.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[R.jsxs(Ki,{onClick:this.handleReset,variant:"default",className:"neon-button",children:[R.jsx(E_,{className:"h-4 w-4 mr-2"}),"Try Again"]}),R.jsxs(Ki,{onClick:this.handleReload,variant:"outline",className:"neon-glow-sm",children:[R.jsx(E_,{className:"h-4 w-4 mr-2"}),"Reload Page"]}),R.jsxs(Ki,{onClick:this.handleGoHome,variant:"ghost",children:[R.jsx(Cx,{className:"h-4 w-4 mr-2"}),"Go Home"]})]}),R.jsx("div",{className:"text-center text-sm text-muted-foreground",children:R.jsx("p",{children:"If the problem persists, please contact support."})})]})]})}):this.props.children}}function $L({shortcuts:n,children:e,className:t,enabled:r=!0}){return A.useEffect(()=>{if(!r)return;const o=a=>{const{key:u,ctrlKey:d,altKey:f,metaKey:m,shiftKey:v}=a,w=[];(d||m)&&w.push("ctrl"),f&&w.push("alt"),v&&w.push("shift");const T=[...w,u.toLowerCase()].join("+");n[T]&&(a.preventDefault(),n[T]())};return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[n,r]),R.jsx("div",{className:t,children:e})}const BL={"ctrl+k":()=>{console.log("Opening search/command palette")},"ctrl+/":()=>{console.log("Showing keyboard shortcuts")},escape:()=>{const n=document.activeElement;n?.blur&&n.blur()},"ctrl+enter":()=>{const n=document.querySelector('button[type="submit"]');n&&n.click()}},$i={USERS:"users",POSTS:"posts",WORKFLOWS:"workflows",AGENTS:"agents",CHAT_MESSAGES:"chatMessages",ANALYTICS:"analytics",NOTIFICATIONS:"notifications",USER_HISTORY:"userHistory",USER_SESSIONS:"userSessions",USER_ANALYTICS:"userAnalytics"};class wr{static currentSession=null;static sessionStartTime=null;static actionBuffer=[];static bufferSize=10;static flushInterval=5e3;static async initialize(e){try{await this.startSession(e),setInterval(()=>{this.actionBuffer.length>0&&this.flushActionBuffer()},this.flushInterval),typeof document<"u"&&(document.addEventListener("visibilitychange",()=>{document.hidden?this.trackAction(e,{type:"navigate",category:"navigation",description:"Page hidden",details:{visibility:"hidden"}}):this.trackAction(e,{type:"navigate",category:"navigation",description:"Page visible",details:{visibility:"visible"}})}),window.addEventListener("beforeunload",()=>{this.trackAction(e,{type:"navigate",category:"navigation",description:"Page unload",details:{event:"beforeunload"}}),this.endSession(e)})),console.log("User history tracking initialized")}catch(t){console.error("Failed to initialize user history tracking:",t)}}static async startSession(e){try{const t=this.generateSessionId(),r=new Date,o={id:t,userId:e,startTime:r,deviceInfo:this.getDeviceInfo(),location:await this.getLocationInfo(),actions:0,lastActivity:r,isActive:!0};return await lm(Ks(Wn,$i.USER_SESSIONS,t),{...o,startTime:qe.fromDate(o.startTime),lastActivity:qe.fromDate(o.lastActivity)}),this.currentSession=o,this.sessionStartTime=r,o}catch(t){throw console.error("Failed to start session:",t),t}}static async endSession(e){try{if(!this.currentSession)return;const t=new Date,r=t.getTime()-this.currentSession.startTime.getTime();await um(Ks(Wn,$i.USER_SESSIONS,this.currentSession.id),{endTime:qe.fromDate(t),duration:r,isActive:!1,lastActivity:qe.fromDate(t)}),this.currentSession=null,this.sessionStartTime=null,this.actionBuffer.length>0&&await this.flushActionBuffer()}catch(t){console.error("Failed to end session:",t)}}static async trackAction(e,t,r,o=!0,a){try{const u={id:this.generateHistoryId(),userId:e,action:t,timestamp:new Date,sessionId:this.currentSession?.id||"unknown",metadata:r,success:o,errorMessage:a};this.actionBuffer.push(u),this.currentSession&&await um(Ks(Wn,$i.USER_SESSIONS,this.currentSession.id),{actions:TL(1),lastActivity:qe.fromDate(new Date)}),this.actionBuffer.length>=this.bufferSize&&await this.flushActionBuffer()}catch(u){console.error("Failed to track action:",u)}}static async trackNavigation(e,t,r,o){await this.trackAction(e,{type:"navigate",category:"navigation",description:`Navigated to ${t}`,details:{page:t,previousPage:r,duration:o}})}static async trackContentInteraction(e,t,r,o,a){await this.trackAction(e,{type:t,category:"content",description:`${t} ${r}`,target:o,targetType:r,details:a})}static async trackAIInteraction(e,t,r,o){await this.trackAction(e,{type:t,category:"ai",description:`AI ${t}`,target:r,targetType:"agent",details:o})}static async trackSocialInteraction(e,t,r,o){await this.trackAction(e,{type:t,category:"social",description:`Social ${t}`,target:r,targetType:"post",details:o})}static async trackWorkflowInteraction(e,t,r,o){await this.trackAction(e,{type:t,category:"workflow",description:`Workflow ${t}`,target:r,targetType:"workflow",details:o})}static async trackAuthEvent(e,t,r){await this.trackAction(e,{type:t,category:"authentication",description:`User ${t}`,details:r})}static async trackError(e,t,r,o){await this.trackAction(e,{type:"error",category:"system",description:`Error: ${t.message}`,details:{...o,context:r,stack:t.stack,name:t.name}},void 0,!1,t.message)}static async getUserHistory(e,t={}){try{let r=Sl(_p(Wn,$i.USER_HISTORY),$c("userId","==",e),pE("timestamp","desc"),mE(t.limit||50));t.actionType&&(r=Sl(r,$c("action.type","==",t.actionType))),t.category&&(r=Sl(r,$c("action.category","==",t.category))),t.startAfter&&(r=Sl(r,mL(t.startAfter)));const o=await vE(r),a=o.docs.map(d=>({id:d.id,...d.data(),timestamp:d.data().timestamp.toDate()})),u=o.docs[o.docs.length-1];return{history:a,lastDoc:u}}catch(r){throw console.error("Failed to get user history:",r),r}}static async getUserSessions(e,t=20){try{const r=Sl(_p(Wn,$i.USER_SESSIONS),$c("userId","==",e),pE("startTime","desc"),mE(t));return(await vE(r)).docs.map(a=>({id:a.id,...a.data(),startTime:a.data().startTime.toDate(),endTime:a.data().endTime?.toDate(),lastActivity:a.data().lastActivity.toDate()}))}catch(r){throw console.error("Failed to get user sessions:",r),r}}static async generateUserAnalytics(e,t="monthly"){try{const r=new Date,o=this.getPeriodStartDate(r,t),{history:a}=await this.getUserHistory(e,{dateRange:{start:o,end:r}}),u=await this.getUserSessions(e,1e3),d={userId:e,period:t,date:r,stats:{totalSessions:u.length,totalActions:a.length,averageSessionDuration:this.calculateAverageSessionDuration(u),mostUsedFeatures:this.calculateMostUsedFeatures(a),topPages:this.calculateTopPages(a),deviceBreakdown:this.calculateDeviceBreakdown(u),errorRate:this.calculateErrorRate(a),retentionRate:this.calculateRetentionRate(u)}};return await lm(Ks(Wn,$i.USER_ANALYTICS,`${e}_${t}_${r.getTime()}`),{...d,date:qe.fromDate(d.date)}),d}catch(r){throw console.error("Failed to generate user analytics:",r),r}}static async flushActionBuffer(){if(this.actionBuffer.length!==0)try{const e=IL(Wn);this.actionBuffer.forEach(t=>{const r=Ks(_p(Wn,$i.USER_HISTORY));e.set(r,{...t,timestamp:qe.fromDate(t.timestamp)})}),await e.commit(),this.actionBuffer=[]}catch(e){console.error("Failed to flush action buffer:",e)}}static generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}static generateHistoryId(){return`history_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}static getDeviceInfo(){return typeof navigator>"u"?{userAgent:"Unknown",platform:"Unknown",language:"Unknown",timezone:"Unknown",screenResolution:"Unknown",viewport:"Unknown"}:{userAgent:navigator.userAgent,platform:navigator.platform,language:navigator.language,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,screenResolution:`${screen.width}x${screen.height}`,viewport:`${window.innerWidth}x${window.innerHeight}`}}static async getLocationInfo(){return{country:"Unknown",region:"Unknown",city:"Unknown"}}static getPeriodStartDate(e,t){const r=new Date(e);switch(t){case"daily":r.setHours(0,0,0,0);break;case"weekly":r.setDate(r.getDate()-7);break;case"monthly":r.setMonth(r.getMonth()-1);break;case"yearly":r.setFullYear(r.getFullYear()-1);break}return r}static calculateAverageSessionDuration(e){const t=e.filter(o=>o.duration);return t.length===0?0:t.reduce((o,a)=>o+(a.duration||0),0)/t.length}static calculateMostUsedFeatures(e){const t={};e.forEach(o=>{const a=o.action.category;t[a]=(t[a]||0)+1});const r=e.length;return Object.entries(t).map(([o,a])=>({feature:o,count:a,percentage:a/r*100})).sort((o,a)=>a.count-o.count).slice(0,10)}static calculateTopPages(e){const t={};return e.filter(r=>r.action.type==="navigate").forEach(r=>{const o=r.action.details?.page;o&&(t[o]||(t[o]={visits:0,totalTime:0}),t[o].visits++,t[o].totalTime+=r.duration||0)}),Object.entries(t).map(([r,o])=>({page:r,visits:o.visits,averageTime:o.totalTime/o.visits})).sort((r,o)=>o.visits-r.visits).slice(0,10)}static calculateDeviceBreakdown(e){const t={};e.forEach(o=>{const a=o.deviceInfo.platform;t[a]=(t[a]||0)+1});const r=e.length;return Object.entries(t).map(([o,a])=>({device:o,count:a,percentage:a/r*100})).sort((o,a)=>a.count-o.count)}static calculateErrorRate(e){return e.filter(r=>!r.success).length/e.length*100}static calculateRetentionRate(e){return e.filter(r=>r.isActive).length/e.length*100}}function qL(){const{user:n}=Ra(),[e,t]=A.useState(!1),[r,o]=A.useState(null),[a,u]=A.useState(null),[d,f]=A.useState(null);A.useEffect(()=>{n&&!e?wr.initialize(n.uid).then(()=>{t(!0),u(null),f(null)}).catch(x=>{const S=`ERR-UH-${Date.now()}-${Math.floor(Math.random()*1e4)}`;u(x.message),f({message:x.message,errorId:S,stack:x.stack}),console.error(`[${S}] Failed to initialize user history:`,x)}):!n&&e&&(t(!1),o(null))},[n,e]);const m=A.useCallback((x,S,z)=>{n&&e&&wr.trackNavigation(n.uid,x,S,z)},[n,e]),v=A.useCallback((x,S,z,H)=>{n&&e&&wr.trackContentInteraction(n.uid,x,S,z,H)},[n,e]),w=A.useCallback((x,S,z)=>{n&&e&&wr.trackAIInteraction(n.uid,x,S,z)},[n,e]),T=A.useCallback((x,S,z)=>{n&&e&&wr.trackSocialInteraction(n.uid,x,S,z)},[n,e]),C=A.useCallback((x,S,z)=>{n&&e&&wr.trackWorkflowInteraction(n.uid,x,S,z)},[n,e]),O=A.useCallback((x,S,z)=>{if(n&&e){const H=`ERR-UH-${Date.now()}-${Math.floor(Math.random()*1e4)}`;wr.trackError(n.uid,x,S,{...z,errorId:H}),u(x.message),f({message:x.message,errorId:H,stack:x.stack})}},[n,e]);return{isInitialized:e,currentSession:r,error:a,errorDetails:d,trackNavigation:m,trackContentInteraction:v,trackAIInteraction:w,trackSocialInteraction:T,trackWorkflowInteraction:C,trackError:O}}function HL(n){const{trackNavigation:e}=qL(),[t,r]=A.useState(null),o=A.useRef(Date.now());A.useEffect(()=>{const a=Date.now();if(o.current=a,t){const u=a-o.current;e(n,t,u)}else e(n);return r(n),()=>{const u=Date.now()-o.current;u>1e3&&e(n,void 0,u)}},[n,e,t])}function SF(n={}){const{user:e}=Ra(),[t,r]=A.useState([]),[o,a]=A.useState(!0),[u,d]=A.useState(null),[f,m]=A.useState(!0),[v,w]=A.useState(null),T=A.useCallback(async(x=!1)=>{if(e)try{a(!0),d(null);const S=await wr.getUserHistory(e.uid,{...n,startAfter:x?void 0:v});r(x?S.history:z=>[...z,...S.history]),w(S.lastDoc),m(S.history.length===(n.limit||50))}catch(S){d(S.message)}finally{a(!1)}},[e,n,v]),C=A.useCallback(()=>{!o&&f&&T(!1)},[o,f,T]),O=A.useCallback(()=>{w(null),m(!0),T(!0)},[T]);return A.useEffect(()=>{T(!0)},[e]),{history:t,loading:o,error:u,hasMore:f,loadMore:C,refresh:O}}function AF(){const{user:n}=Ra(),[e,t]=A.useState([]),[r,o]=A.useState(!0),[a,u]=A.useState(null),d=A.useCallback(async()=>{if(n)try{o(!0),u(null);const f=await wr.getUserSessions(n.uid);t(f)}catch(f){u(f.message)}finally{o(!1)}},[n]);return A.useEffect(()=>{d()},[d]),{sessions:e,loading:r,error:a,refresh:d}}function CF(n="monthly"){const{user:e}=Ra(),[t,r]=A.useState(null),[o,a]=A.useState(!0),[u,d]=A.useState(null),f=A.useCallback(async()=>{if(e)try{a(!0),d(null);const m=await wr.generateUserAnalytics(e.uid,n);r(m)}catch(m){d(m.message)}finally{a(!1)}},[e,n]);return A.useEffect(()=>{f()},[f]),{analytics:t,loading:o,error:u,refresh:f}}function WL({pageName:n,children:e}){return HL(n),R.jsx(R.Fragment,{children:e})}function GL(){const[n]=qC(),e=A.useRef(null);A.useEffect(()=>{e.current&&e.current!==n&&console.log(`Navigation: ${e.current} -> ${n}`),e.current=n},[n])}function Yt(n,e){return function(r){return R.jsx(WL,{pageName:e,children:R.jsx(n,{...r})})}}const KL=A.lazy(()=>Gt(()=>import("./dashboard-b7rVKsrC.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21]))),QL=A.lazy(()=>Gt(()=>import("./social-feed-D2rgBGfu.js"),__vite__mapDeps([22,1,2,10,4,6,23,24,3,5,7,8,9]))),YL=A.lazy(()=>Gt(()=>import("./workflows-CLYFU9b9.js"),__vite__mapDeps([25,1,2,6,3,4,5,7,8,9]))),XL=A.lazy(()=>Gt(()=>import("./ai-agents-CGwWB7rC.js"),__vite__mapDeps([26,6,11,7,24,27,8,23,28,29,19,20,30,14,31,5,15]))),JL=A.lazy(()=>Gt(()=>import("./mcp-tools-D0_fHQgl.js"),__vite__mapDeps([32,6,5,24,27,8,7,23,28,11,19,31,33,30,20,17,14]))),ZL=A.lazy(()=>Gt(()=>import("./prompt-library-CEysRo8V.js"),__vite__mapDeps([34,5,24,27,8,7,23,28,6,11,14,16,21,31,33]))),eF=A.lazy(()=>Gt(()=>import("./telegram-DaOS3N9o.js"),__vite__mapDeps([35,1,2,4,6,5,24]))),tF=A.lazy(()=>Gt(()=>import("./smart-learning-BOYh6B8D.js"),__vite__mapDeps([36,1,2,7,28]))),nF=A.lazy(()=>Gt(()=>import("./advanced-ai-tools-DMoPCDU0.js"),__vite__mapDeps([37,1,2,4,5,24,27,8,7,23,28,6,12,11]))),rF=A.lazy(()=>Gt(()=>import("./learning-dashboard-DQIKWLGE.js"),__vite__mapDeps([38,11,7,6,12,19,21,13,2,29,14]))),sF=A.lazy(()=>Gt(()=>import("./not-found-cws_FwCZ.js"),__vite__mapDeps([39,18]))),iF=A.lazy(()=>Gt(()=>import("./DebugView-CIB-oBIJ.js"),[])),oF=A.lazy(()=>Gt(()=>import("./Workspace-BA3qqjtV.js"),[])),aF=A.lazy(()=>Gt(()=>import("./analytics-CiL_F9ER.js"),[])),lF=A.lazy(()=>Gt(()=>import("./settings-CFryxaUg.js"),[])),uF=A.lazy(()=>Gt(()=>Promise.resolve().then(()=>jL),void 0)),cF=()=>R.jsx("div",{className:"flex items-center justify-center h-screen",children:R.jsx("div",{className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full animate-spin"})});function hF(){return GL(),R.jsx(A.Suspense,{fallback:R.jsx(cF,{}),children:R.jsxs(o_,{children:[R.jsx($t,{path:"/login",component:uF}),R.jsx(UL,{children:R.jsxs(o_,{children:[R.jsx($t,{path:"/",component:Yt(KL,"Dashboard")}),R.jsx($t,{path:"/social-feed",component:Yt(QL,"Social Feed")}),R.jsx($t,{path:"/workflows",component:Yt(YL,"Workflows")}),R.jsx($t,{path:"/ai-agents",component:Yt(XL,"AI Agents")}),R.jsx($t,{path:"/mcp-tools",component:Yt(JL,"MCP Tools")}),R.jsx($t,{path:"/prompt-library",component:Yt(ZL,"Prompt Library")}),R.jsx($t,{path:"/telegram",component:Yt(eF,"Telegram")}),R.jsx($t,{path:"/smart-learning",component:Yt(tF,"Smart Learning")}),R.jsx($t,{path:"/advanced-ai-tools",component:Yt(nF,"Advanced AI Tools")}),R.jsx($t,{path:"/learning",component:Yt(rF,"Learning Dashboard")}),R.jsx($t,{path:"/debug",component:Yt(iF,"Debug View")}),R.jsx($t,{path:"/workspace",component:Yt(oF,"Workspace")}),R.jsx($t,{path:"/analytics",component:Yt(aF,"Analytics")}),R.jsx($t,{path:"/settings",component:Yt(lF,"Settings")}),R.jsx($t,{component:Yt(sF,"Not Found")})]})})]})})}function dF(){return R.jsx(zL,{children:R.jsx(CL,{children:R.jsx(_R,{client:IR,children:R.jsx(rk,{children:R.jsx(n0,{children:R.jsxs($L,{shortcuts:BL,children:[R.jsx(cP,{}),R.jsx(hF,{})]})})})})})})}EC.createRoot(document.getElementById("root")).render(R.jsx(dF,{}));export{mF as $,nA as A,Ki as B,_d as C,gm as D,rs as E,Jo as F,rA as G,qs as H,FR as I,Em as J,jT as K,D1 as L,O1 as M,Oh as N,V1 as O,Jt as P,M1 as Q,E_ as R,cm as S,Nh as T,pF as U,nx as V,Ll as W,xx as X,mR as Y,Xt as Z,Hn as _,wd as a,oR as a0,ZC as a1,Ip as a2,Dh as a3,XC as a4,JC as a5,Tp as a6,DE as a7,dR as a8,nR as a9,qC as aa,fF as ab,RC as ac,vF as b,Fh as c,_F as d,CF as e,AF as f,SF as g,Dg as h,Og as i,R as j,RL as k,Ra as l,GE as m,Vh as n,fP as o,Qn as p,Tt as q,A as r,ym as s,WE as t,PR as u,sh as v,wF as w,xt as x,IF as y,ti as z};
